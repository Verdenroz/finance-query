{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"Finance Query <p>Finance Query is a Rust library, CLI, and server for financial data, inspired by the popular <code>yfinance</code> Python library. It provides access to real-time quotes, historical charts, technical analysis, and financial statements primarily from Yahoo Finance.</p> <p>A free hosted API is available at finance-query.com \u2014 no setup required!</p> <p>It is designed to be used in three ways:</p> <ul> <li>Rust Library: A type-safe crate for direct integration into your Rust projects.</li> <li>Command-Line Tool: Interactive <code>fq</code> tool for market data, analysis, and trading.</li> <li>REST &amp; WebSocket Server: A standalone service that exposes the library's functionality over HTTP.</li> </ul>"},{"location":"#documentation","title":"Documentation","text":"LibraryCLIServer"},{"location":"#getting-started","title":"Getting Started","text":"<p>For installation instructions and a quick start guide, see Getting Started.</p>"},{"location":"#reference","title":"Reference","text":"<ul> <li>Ticker API</li> <li>Batch Tickers</li> <li>Finance Module</li> <li>Technical Indicators</li> <li>Backtesting</li> <li>DataFrame Support</li> <li>Models</li> <li>Configuration</li> </ul>"},{"location":"#getting-started_1","title":"Getting Started","text":"<p>Install the command-line tool:</p> <pre><code>cargo install finance-query-cli\n</code></pre> <p>Or download pre-built binaries for Linux, macOS, and Windows.</p>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>fq quote AAPL                              # Get a quote\nfq stream AAPL TSLA NVDA                   # Live prices\nfq chart AAPL -r 6mo                       # Interactive chart\nfq indicator AAPL --indicator rsi:14 --no-tui  # Technical analysis\nfq backtest AAPL --preset swing            # Backtest strategy\nfq dashboard                               # Interactive dashboard\n</code></pre>"},{"location":"#reference_1","title":"Reference","text":"<ul> <li>Installation &amp; Quick Start</li> <li>Commands Reference</li> <li>Examples</li> </ul>"},{"location":"#getting-started_2","title":"Getting Started","text":"<p>Run the server locally (requires Rust):</p> <pre><code>git clone https://github.com/Verdenroz/finance-query.git\ncd finance-query\nmake serve  # Compiles and runs v2 server\n</code></pre> <p>Or run both v1 and v2 with Docker Compose:</p> <pre><code>make docker-compose  # Starts v1 (port 8002), v2 (port 8001), Redis, and Nginx\n</code></pre>"},{"location":"#reference_2","title":"Reference","text":"<ul> <li>REST API Reference</li> <li>WebSocket API Reference</li> <li>OpenAPI Specification</li> <li>AsyncAPI Specification</li> </ul>"},{"location":"#example-usage","title":"Example Usage","text":"<p>Finance Query is ready to use out of the box. Here's how to get stock data:</p> Rust LibraryCLIREST APIWebSocket <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\n#[tokio::main]\nasync fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n    // Get detailed quote for Apple\n    let ticker = Ticker::builder(\"AAPL\").logo().build().await?;\n    let quote = ticker.quote().await?;\n    println!(\"{} price: ${:?}\", quote.symbol, quote.regular_market_price);\n\n    // Get historical charts\n    let chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n    println!(\"Retrieved {} candles\", chart.candles.len());\n\n    Ok(())\n}\n</code></pre> <pre><code># Get a stock quote\nfq quote AAPL\n\n# Multiple quotes\nfq quote AAPL MSFT GOOGL AMZN\n\n# Stream live prices\nfq stream AAPL TSLA NVDA\n\n# Interactive price chart\nfq chart AAPL -r 6mo\n\n# Technical indicators\nfq indicator AAPL --indicator rsi:14 --no-tui\n\n# Backtest a strategy\nfq backtest AAPL --preset swing\n\n# Market dashboard\nfq dashboard\n</code></pre> <pre><code># Get detailed quote for Apple\ncurl \"https://finance-query.com/v2/quote/AAPL?logo=true\"\n\n# Get historical chart data\ncurl \"https://finance-query.com/v2/chart/AAPL?interval=1d&amp;range=1mo\"\n\n# Search for symbols\ncurl \"https://finance-query.com/v2/lookup?q=Apple\"\n\n# Get predefined screeners\ncurl \"https://finance-query.com/v2/screeners/most-actives\"\n\n# Get company news\ncurl \"https://finance-query.com/v2/news/AAPL\"\n</code></pre> <pre><code>// Connect to WebSocket for real-time updates\nconst ws = new WebSocket('wss://finance-query.com/v2/stream');\n\nws.onopen = () =&gt; {\n    console.log('Connected to Finance Query WebSocket');\n    ws.send(JSON.stringify({\n        action: 'subscribe',\n        symbols: ['AAPL', 'NVDA']\n    }));\n};\n\nws.onmessage = (event) =&gt; {\n    const update = JSON.parse(event.data);\n    console.log('Real-time update:', update);\n};\n</code></pre>"},{"location":"#legal","title":"Legal","text":"<p>This library fetches data from Yahoo Finance. Use responsibly and be aware of Yahoo's rate limits and terms of service.</p>"},{"location":"cli/commands/","title":"Command Reference","text":"<p>Use <code>fq --help</code> to see all commands, or <code>fq &lt;command&gt; --help</code> for detailed help on any command.</p>"},{"location":"cli/commands/#market-data-commands","title":"Market Data Commands","text":""},{"location":"cli/commands/#quote","title":"<code>quote</code>","text":"<p>Get current stock quotes with price, volume, and key metrics.</p> <pre><code>fq quote AAPL                  # Single symbol\nfq quote AAPL MSFT GOOGL       # Multiple symbols\nfq quote AAPL -o json          # JSON output\nfq quote BTC-USD ETH-USD       # Crypto\n</code></pre> <p>Options:</p> <ul> <li><code>-o, --format</code> - Output format (table, json, csv)</li> <li><code>-v, --verbose</code> - Show more details</li> </ul>"},{"location":"cli/commands/#chart","title":"<code>chart</code>","text":"<p>View historical OHLCV data with interactive TUI.</p> <pre><code>fq chart AAPL                  # Default (1 month, 1 day interval)\nfq chart AAPL -i 1d -r 6mo    # 6 months, daily bars\nfq chart AAPL -i 5m -r 1d     # Intraday (5 minute)\nfq chart AAPL -o csv          # Export as CSV\n</code></pre> <p>Options:</p> <ul> <li><code>-i, --interval</code> - 1m, 5m, 15m, 30m, 1h, 1d, 1wk, 1mo</li> <li><code>-r, --range</code> - 1d, 5d, 1mo, 3mo, 6mo, 1y, 2y, 5y, 10y, ytd, max</li> <li><code>-o, --format</code> - Output format</li> </ul>"},{"location":"cli/commands/#stream","title":"<code>stream</code>","text":"<p>Real-time price streaming via WebSocket.</p> <pre><code>fq stream AAPL TSLA NVDA       # Stream multiple symbols\n</code></pre> <p>Press <code>Ctrl+C</code> to stop.</p>"},{"location":"cli/commands/#market","title":"<code>market</code>","text":"<p>Market summary including indices, futures, and crypto.</p> <pre><code>fq market                      # Display market summary\nfq market -o json              # JSON output\n</code></pre>"},{"location":"cli/commands/#trending","title":"<code>trending</code>","text":"<p>Trending symbols by region.</p> <pre><code>fq trending                    # Default US\nfq trending --region ca        # Canada\n</code></pre>"},{"location":"cli/commands/#indices","title":"<code>indices</code>","text":"<p>World market indices.</p> <pre><code>fq indices                     # All major indices\nfq indices -o json             # JSON output\n</code></pre>"},{"location":"cli/commands/#sector","title":"<code>sector</code>","text":"<p>Sector performance and companies.</p> <pre><code>fq sector technology           # Technology sector\nfq sector healthcare           # Healthcare sector\nfq sector --companies          # Show top companies in sector\nfq sector energy --industries  # Show industries in sector\n</code></pre> <p>Available sectors: technology, financial-services, consumer-cyclical, communication-services, healthcare, industrials, consumer-defensive, energy, basic-materials, real-estate, utilities</p> <p>Options:</p> <ul> <li><code>--companies</code> - Show top companies in the sector</li> <li><code>--industries</code> - Show industries within the sector</li> <li><code>--all</code> - Show all details</li> </ul>"},{"location":"cli/commands/#screener","title":"<code>screener</code>","text":"<p>Pre-built screeners for market analysis.</p> <pre><code>fq screener most-actives           # Most active symbols\nfq screener day-gainers            # Top day gainers\nfq screener day-losers             # Top day losers\nfq screener growth-technology-stocks  # Growth tech stocks\nfq screener most-shorted-stocks    # Most shorted stocks\nfq screener -l 50                  # Limit to 50 results\n</code></pre> <p>Screener types:</p> <ul> <li>Equity movers: most-actives, day-gainers, day-losers, most-shorted-stocks</li> <li>Growth/Value: growth-technology-stocks, aggressive-small-caps, small-cap-gainers, undervalued-growth-stocks, undervalued-large-caps</li> <li>Funds: top-mutual-funds, solid-large-growth-funds, solid-midcap-growth-funds, conservative-foreign-funds, high-yield-bond, portfolio-anchors</li> </ul> <p>Options:</p> <ul> <li><code>-l, --limit</code> - Maximum number of results (default: 25)</li> </ul>"},{"location":"cli/commands/#company-information-commands","title":"Company Information Commands","text":""},{"location":"cli/commands/#info","title":"<code>info</code>","text":"<p>Full company details: profile, stats, and financials.</p> <pre><code>fq info AAPL                   # Company info\nfq info AAPL -o json           # JSON output\n</code></pre>"},{"location":"cli/commands/#profile","title":"<code>profile</code>","text":"<p>Company description, sector, industry, and employee count.</p> <pre><code>fq profile AAPL                # Company profile\n</code></pre>"},{"location":"cli/commands/#financials","title":"<code>financials</code>","text":"<p>Financial statements: income, balance sheet, and cash flow.</p> <pre><code>fq financials AAPL             # Latest financials\nfq financials AAPL -o json     # JSON format\n</code></pre>"},{"location":"cli/commands/#earnings","title":"<code>earnings</code>","text":"<p>Earnings history and estimates.</p> <pre><code>fq earnings AAPL               # Earnings data\n</code></pre>"},{"location":"cli/commands/#news","title":"<code>news</code>","text":"<p>Recent company news.</p> <pre><code>fq news AAPL                   # Latest news\nfq news AAPL -o json           # JSON format\n</code></pre>"},{"location":"cli/commands/#recommendations","title":"<code>recommendations</code>","text":"<p>Analyst buy/hold/sell ratings.</p> <pre><code>fq recommendations AAPL        # Analyst recommendations\n</code></pre>"},{"location":"cli/commands/#holders","title":"<code>holders</code>","text":"<p>Institutional and insider ownership.</p> <pre><code>fq holders AAPL                # Shareholding data\n</code></pre>"},{"location":"cli/commands/#edgar","title":"<code>edgar</code>","text":"<p>Interactive SEC EDGAR filings browser (TUI). Browse company filings by symbol or search across all filings.</p> <p>EDGAR Email Required</p> <p>SEC requires a contact email in the User-Agent header. Provide it once via <code>--email</code> or <code>EDGAR_EMAIL</code> and <code>fq</code> will persist it for future runs. If no email is set, <code>fq</code> prompts you to enter one.</p> <pre><code># Set email (required by SEC)\nexport EDGAR_EMAIL=\"user@example.com\"\n\n# Open TUI ready to search\nfq edgar                                   # Start with empty search prompt\n\n# Or persist it once\nfq edgar --email user@example.com\n\n# Browse filings by company symbol\nfq edgar AAPL                              # Browse all AAPL filings interactively\n\n# Search across all filings from command line\nfq edgar --search \"artificial intelligence\"  # Search all companies\nfq edgar -s \"climate risk\" -f 10-K           # Search only 10-K filings\nfq edgar -s \"acquisition\" --start-date 2024-01-01  # Date-filtered search\n</code></pre> <p>Interactive Controls:</p> <ul> <li><code>\u2191/\u2193, j/k</code> - Navigate filings</li> <li><code>\u2190/\u2192</code> - Previous/next page (search mode only)</li> <li><code>PgUp/PgDn, Ctrl+d/u</code> - Page up/down within current page</li> <li><code>Home/End, g/G</code> - Jump to top/bottom of current page</li> <li><code>Enter, o</code> - Open filing in browser</li> <li><code>f</code> - Cycle filters (10-K \u2192 10-Q \u2192 8-K \u2192 4 \u2192 S-1 \u2192 DEF 14A \u2192 10-K/A \u2192 10-Q/A \u2192 S-3 \u2192 20-F \u2192 All)</li> <li><code>r</code> - Reset filter (show all filings)</li> <li><code>/</code> - Search all filings (in-TUI search)</li> <li><code>s</code> - Search by symbol (switch to symbol mode)</li> <li><code>q, Esc, Ctrl+C</code> - Quit</li> </ul> <p>Symbol Mode Features:</p> <ul> <li>Browse ~1,000 recent filings for a company</li> <li>Company metadata (name, CIK)</li> <li>Color-coded form types (10-K green, 10-Q cyan, 8-K yellow)</li> <li>Filing metadata: date, report date, size, accession number</li> <li>Filter by form type interactively</li> </ul> <p>Search Mode Features:</p> <ul> <li>Full-text search across all SEC filings</li> <li>Pagination support - navigate through thousands of results (\u2190/\u2192 or n/p keys)</li> <li>Filter by form type (<code>-f 10-K</code>, <code>-f 10-Q</code>, etc.)</li> <li>Date range filtering (<code>--start-date</code>, <code>--end-date</code>)</li> <li>Interactive navigation of search results</li> <li>Page indicator shows current page and total matches</li> <li>Open any filing directly in browser</li> </ul> <p>Options:</p> <ul> <li><code>-s, --search</code> - Full-text search query (omit for symbol mode)</li> <li><code>-f, --form-type</code> - Filter by form type (10-K, 10-Q, 8-K, 4, S-1, DEF 14A, etc.)</li> <li><code>--start-date</code> - Start date for search (YYYY-MM-DD, search mode only)</li> <li><code>--end-date</code> - End date for search (YYYY-MM-DD, search mode only)</li> <li><code>-e, --email</code> - Contact email for SEC User-Agent (or set <code>EDGAR_EMAIL</code> env var)</li> </ul>"},{"location":"cli/commands/#facts","title":"<code>facts</code>","text":"<p>Get XBRL company facts from SEC EDGAR.</p> <p>EDGAR Email Required</p> <p>SEC requires a contact email in the User-Agent header. Provide it once via <code>--email</code> or <code>EDGAR_EMAIL</code> and <code>fq</code> will persist it for future runs. If no email is set, <code>fq</code> prompts you to enter one.</p> <pre><code># Set email (required by SEC)\nexport EDGAR_EMAIL=\"user@example.com\"\n\n# Or persist it once\nfq facts --email user@example.com AAPL\n\nfq facts AAPL                  # All key financial facts\nfq facts AAPL --concept GrossProfit  # Specific concept\nfq facts AAPL --unit USD       # Filter by unit\nfq facts AAPL -o json          # JSON output\n</code></pre> <p>Options:</p> <ul> <li><code>-c, --concept</code> - Specific XBRL concept (e.g., \"Revenue\", \"Assets\", \"NetIncomeLoss\")</li> <li><code>-u, --unit</code> - Filter by unit (e.g., \"USD\", \"shares\")</li> <li><code>-l, --limit</code> - Max data points per concept (default: 10)</li> <li><code>-o, --format</code> - Output format (table, json, csv)</li> </ul> <p>Common concepts: Revenue, GrossProfit, OperatingIncomeLoss, NetIncomeLoss, EarningsPerShareBasic, Assets, Liabilities, StockholdersEquity, CashAndCashEquivalentsAtCarryingValue</p>"},{"location":"cli/commands/#transcript","title":"<code>transcript</code>","text":"<p>Earnings call transcripts.</p> <pre><code>fq transcript AAPL             # Latest transcript\nfq transcript AAPL --quarter 2024-Q1  # Specific quarter\n</code></pre>"},{"location":"cli/commands/#grades","title":"<code>grades</code>","text":"<p>Analyst upgrade/downgrade history.</p> <pre><code>fq grades AAPL                 # Rating changes\n</code></pre>"},{"location":"cli/commands/#technical-analysis-commands","title":"Technical Analysis Commands","text":""},{"location":"cli/commands/#indicator","title":"<code>indicator</code>","text":"<p>Calculate 40+ technical indicators.</p> <pre><code>fq indicator AAPL                             # Interactive TUI (choose indicators)\nfq indicator AAPL --indicator rsi:14          # RSI with period 14\nfq indicator AAPL --indicator sma:20,50,200   # SMAs\nfq indicator AAPL --indicator macd:12,26,9    # MACD\nfq indicator AAPL --indicator bollinger:20,2  # Bollinger Bands\n\n# Non-interactive with range/interval\nfq indicator AAPL --indicator rsi:14 -i 1d -r 6mo\nfq indicator AAPL --indicator sma:20,50,200 --no-tui -o csv\n</code></pre> <p>Available indicators: sma, ema, rsi, macd, bollinger, atr, stochastic, adx, obv, vwap, cci, williamsr, stochrsi, psar, supertrend, mfi, ichimoku, donchian</p> <p>Options:</p> <ul> <li><code>--indicator &lt;INDICATOR&gt;</code> - Format: <code>name:param1,param2,...</code> (skips TUI)</li> <li><code>-i, --interval</code> - Candle interval (1m, 5m, 15m, 1h, 1d, 1wk, 1mo)</li> <li><code>-r, --range</code> - Historical range (1d, 5d, 1mo, 3mo, 6mo, 1y, 2y, 5y, 10y, ytd, max)</li> <li><code>--no-tui</code> - Skip interactive TUI (requires --indicator)</li> <li><code>--latest</code> - Show only the latest value</li> <li><code>-o, --format</code> - Output format (table, json, csv)</li> </ul>"},{"location":"cli/commands/#backtest","title":"<code>backtest</code>","text":"<p>Test trading strategies with performance metrics.</p> <pre><code>fq backtest AAPL               # Interactive backtest TUI\nfq backtest AAPL --preset swing      # Use swing trading preset\nfq backtest AAPL --preset trend      # Use trend following preset\nfq backtest AAPL --json              # Output JSON instead of TUI\nfq backtest AAPL --no-tui --preset aggressive  # Run preset without TUI\n</code></pre> <p>Available presets: swing, day, trend, mean-reversion, conservative, aggressive</p> <p>Options:</p> <ul> <li><code>-p, --preset</code> - Use a preset strategy</li> <li><code>--json</code> - Output JSON instead of TUI</li> <li><code>--no-tui</code> - Skip interactive TUI and run directly with preset</li> </ul>"},{"location":"cli/commands/#options-dividends-commands","title":"Options &amp; Dividends Commands","text":""},{"location":"cli/commands/#options","title":"<code>options</code>","text":"<p>Interactive options chain explorer (TUI).</p> <pre><code>fq options AAPL                # Latest expiration\nfq options AAPL --expiration 2024-12-20  # Specific date\n</code></pre>"},{"location":"cli/commands/#dividends","title":"<code>dividends</code>","text":"<p>Dividend payment history.</p> <pre><code>fq dividends AAPL              # Dividend history\n</code></pre>"},{"location":"cli/commands/#splits","title":"<code>splits</code>","text":"<p>Stock split history.</p> <pre><code>fq splits AAPL                 # Stock splits\n</code></pre>"},{"location":"cli/commands/#utility-commands","title":"Utility Commands","text":""},{"location":"cli/commands/#lookup","title":"<code>lookup</code>","text":"<p>Search for symbols by name or keyword.</p> <pre><code>fq lookup Apple                # Search by name\nfq lookup --type etf           # Search by type\n</code></pre>"},{"location":"cli/commands/#hours","title":"<code>hours</code>","text":"<p>Market hours and trading status.</p> <pre><code>fq hours                       # Check if markets open\nfq hours NASDAQ                # Specific exchange\n</code></pre>"},{"location":"cli/commands/#currencies","title":"<code>currencies</code>","text":"<p>Currency list and exchange rates.</p> <pre><code>fq currencies                  # All currencies\nfq currencies EUR              # Specific currency\n</code></pre>"},{"location":"cli/commands/#exchanges","title":"<code>exchanges</code>","text":"<p>Supported stock exchanges.</p> <pre><code>fq exchanges                   # List all exchanges\n</code></pre>"},{"location":"cli/commands/#alerts","title":"<code>alerts</code>","text":"<p>Price alerts with desktop notifications.</p> <pre><code># Open alerts TUI\nfq alerts\n\n# Add alerts\nfq alerts add AAPL price-above:200\nfq alerts add TSLA price-below:150\nfq alerts add AAPL change-above:5      # 5%+ change\nfq alerts add TSLA volume-spike:2.0    # 2x volume\n\n# List alerts\nfq alerts list\n\n# Check alerts (one-time)\nfq alerts check\n\n# Watch continuously\nfq alerts watch\n\n# Install as system service\nfq alerts service install\nfq alerts service status\n\n# Manage alerts\nfq alerts toggle &lt;id&gt;          # Enable/disable\nfq alerts remove &lt;id&gt;          # Delete\nfq alerts clear                # Delete all\n</code></pre>"},{"location":"cli/commands/#dashboard","title":"<code>dashboard</code>","text":"<p>Interactive market dashboard (TUI).</p> <pre><code>fq dashboard  # Launch dashboard\n</code></pre> <p>Keyboard shortcuts in dashboard:</p> <ul> <li><code>j/k</code> or arrow keys - Navigate</li> <li><code>Enter</code> - Select</li> <li><code>q</code> - Quit</li> <li><code>r</code> - Refresh</li> <li><code>+/-</code> - Add/remove from watchlist</li> </ul>"},{"location":"cli/commands/#global-options","title":"Global Options","text":"<pre><code>fq [OPTIONS] [COMMAND]\n\nOptions:\n  -v, --verbose         Enable verbose logging\n      --no-color        Disable colored output\n  -h, --help            Print help\n  -V, --version         Print version\n</code></pre>"},{"location":"cli/commands/#output-formats","title":"Output Formats","text":"<p>All commands support multiple output formats:</p> <pre><code>fq quote AAPL -o table         # Pretty table (default)\nfq quote AAPL -o json          # JSON\nfq quote AAPL -o csv           # CSV (comma-separated)\n</code></pre> <p>Export to file:</p> <pre><code>fq chart AAPL -r 1y -o csv &gt; aapl_2024.csv\nfq quote AAPL -o json &gt; aapl.json\n</code></pre>"},{"location":"cli/examples/","title":"Usage Examples","text":"<p>Real-world examples for common use cases.</p>"},{"location":"cli/examples/#sec-edgar-research","title":"SEC EDGAR Research","text":""},{"location":"cli/examples/#browse-company-filings-interactively","title":"Browse Company Filings Interactively","text":"<pre><code># Set your email (required by SEC)\nexport EDGAR_EMAIL=\"analyst@example.com\"\n\n# Option 1: Start with empty search prompt\nfq edgar\n# Type your search query and press Enter\n\n# Option 2: Browse specific company\nfq edgar AAPL\n# Navigate with arrow keys, press '/' to search, 'f' to filter, Enter to open\n\n# Or persist it once\nfq edgar --email analyst@example.com\n</code></pre>"},{"location":"cli/examples/#search-for-specific-topics-in-filings","title":"Search for Specific Topics in Filings","text":"<pre><code>export EDGAR_EMAIL=\"analyst@example.com\"\n\n# Or persist it once\nfq edgar --email analyst@example.com\n\n# Find all filings mentioning \"artificial intelligence\"\nfq edgar --search \"artificial intelligence\"\n\n# Search only 10-K annual reports\nfq edgar -s \"risk factors\" -f 10-K\n\n# Search within date range\nfq edgar -s \"climate change\" --start-date 2024-01-01 --end-date 2024-12-31\n\n# Multiple form types\nfq edgar -s \"supply chain\" -f 10-K -f 10-Q\n\n# Interactive TUI for all searches - navigate with arrows, open with Enter\n</code></pre>"},{"location":"cli/examples/#analyze-xbrl-financial-data","title":"Analyze XBRL Financial Data","text":"<pre><code>export EDGAR_EMAIL=\"analyst@example.com\"\n\n# Or persist it once\nfq facts --email analyst@example.com AAPL\n\n# Get all key financial facts\nfq facts AAPL\n\n# Get specific concept (Revenue)\nfq facts AAPL --concept Revenue\n\n# Filter by fiscal year and unit\nfq facts AAPL --concept Revenue --unit USD --limit 5\n\n# Multiple concepts for comparison\nfq facts AAPL --concept Assets -o json\nfq facts AAPL --concept Liabilities -o json\n\n# Export to CSV for analysis\nfq facts MSFT --concept NetIncomeLoss --unit USD -o csv &gt; msft_income.csv\n</code></pre>"},{"location":"cli/examples/#combined-edgar-workflow","title":"Combined EDGAR Workflow","text":"<pre><code>export EDGAR_EMAIL=\"analyst@example.com\"\n\n# Or persist it once\nfq edgar --email analyst@example.com\n\n# 1. Browse recent filings\nfq edgar TSLA\n\n# 2. Get financial facts\nfq facts TSLA --concept Revenue\nfq facts TSLA --concept Assets\n\n# 3. Search for specific disclosures\nfq edgar -s \"risk factors\" --start-date 2024-01-01\n\n# 4. Compare with competitors\nfq facts F --concept Revenue     # Ford\nfq facts GM --concept Revenue    # GM\n</code></pre>"},{"location":"cli/examples/#stock-research","title":"Stock Research","text":""},{"location":"cli/examples/#get-a-company-overview","title":"Get a company overview","text":"<pre><code>fq info AAPL\nfq profile AAPL\nfq financials AAPL\n</code></pre>"},{"location":"cli/examples/#check-analyst-recommendations","title":"Check analyst recommendations","text":"<pre><code>fq recommendations AAPL\nfq grades AAPL\n</code></pre>"},{"location":"cli/examples/#view-earnings","title":"View earnings","text":"<pre><code>fq earnings AAPL\nfq transcript AAPL --quarter 2024-Q1\n</code></pre>"},{"location":"cli/examples/#check-insider-holdings","title":"Check insider holdings","text":"<pre><code>fq holders AAPL\n</code></pre>"},{"location":"cli/examples/#price-monitoring","title":"Price Monitoring","text":""},{"location":"cli/examples/#track-multiple-stocks","title":"Track multiple stocks","text":"<pre><code>fq quote AAPL MSFT GOOGL AMZN META\n</code></pre>"},{"location":"cli/examples/#stream-live-prices","title":"Stream live prices","text":"<pre><code>fq stream AAPL TSLA NVDA PLTR\n</code></pre>"},{"location":"cli/examples/#compare-stock-performance","title":"Compare stock performance","text":"<pre><code># Get 1-year charts for comparison\nfq chart AAPL -r 1y -o csv &gt; aapl_1y.csv\nfq chart MSFT -r 1y -o csv &gt; msft_1y.csv\n\n# Then compare in your preferred tool\n</code></pre>"},{"location":"cli/examples/#set-price-alerts","title":"Set price alerts","text":"<pre><code># Open alerts TUI\nfq alerts\n\n# Alert when Apple hits $200\nfq alerts add AAPL price-above:200\n\n# Alert when Tesla drops below $150\nfq alerts add TSLA price-below:150\n\n# Alert on 5%+ change\nfq alerts add AAPL change-above:5\n\n# Check all alerts\nfq alerts list\n\n# Monitor continuously in background\nfq alerts watch\n</code></pre>"},{"location":"cli/examples/#technical-analysis","title":"Technical Analysis","text":""},{"location":"cli/examples/#calculate-indicators-for-a-stock","title":"Calculate indicators for a stock","text":"<pre><code># Interactive TUI (choose indicators)\nfq indicator AAPL\n\n# Single indicator (non-interactive)\nfq indicator AAPL --indicator rsi:14 --no-tui\n\n# Multiple indicators\nfq indicator AAPL --indicator sma:20,50,200 -i 1d -r 6mo --no-tui\nfq indicator AAPL --indicator macd:12,26,9 --no-tui\n\n# Bollinger Bands\nfq indicator AAPL --indicator bollinger:20,2 -i 1d -r 3mo --no-tui\n</code></pre>"},{"location":"cli/examples/#export-indicator-data","title":"Export indicator data","text":"<pre><code>fq indicator AAPL --indicator rsi:14 -i 1d -r 1y -o csv --no-tui &gt; aapl_indicators.csv\nfq indicator AAPL --indicator sma:20,50,200 -o csv --no-tui &gt; sma_analysis.csv\n</code></pre>"},{"location":"cli/examples/#get-latest-indicator-values","title":"Get latest indicator values","text":"<pre><code>fq indicator AAPL --indicator rsi:14 --latest --no-tui\n</code></pre>"},{"location":"cli/examples/#backtesting","title":"Backtesting","text":""},{"location":"cli/examples/#test-a-simple-strategy","title":"Test a simple strategy","text":"<pre><code># Interactive backtest TUI\nfq backtest AAPL\n\n# Use swing trading preset\nfq backtest AAPL --preset swing\n\n# Use trend following preset\nfq backtest AAPL --preset trend\n\n# Mean reversion strategy\nfq backtest AAPL --preset mean-reversion\n</code></pre>"},{"location":"cli/examples/#export-results","title":"Export results","text":"<pre><code># Get backtest results as JSON\nfq backtest AAPL --preset swing --json &gt; backtest_results.json\n\n# Run without TUI\nfq backtest AAPL --no-tui --preset aggressive\n</code></pre>"},{"location":"cli/examples/#market-analysis","title":"Market Analysis","text":""},{"location":"cli/examples/#market-overview","title":"Market overview","text":"<pre><code># Check if markets are open\nfq hours\n\n# View market summary\nfq market\n\n# Check technology sector performance\nfq sector technology\n\n# Healthcare sector with companies\nfq sector healthcare --companies\n\n# Top gainers/losers\nfq screener day-gainers\nfq screener day-losers\n\n# Most active symbols\nfq screener most-actives -l 50\n</code></pre>"},{"location":"cli/examples/#trending-analysis","title":"Trending analysis","text":"<pre><code># Trending stocks (US)\nfq trending\n\n# By region\nfq trending --region ca  # Canada\nfq trending --region gb  # UK\n</code></pre>"},{"location":"cli/examples/#economic-indices","title":"Economic indices","text":"<pre><code># Major indices\nfq indices\n\n# S&amp;P 500\nfq quote ^GSPC\n\n# Dow Jones\nfq quote ^DJI\n\n# Nasdaq\nfq quote ^IXIC\n</code></pre>"},{"location":"cli/examples/#options-trading","title":"Options Trading","text":""},{"location":"cli/examples/#explore-options","title":"Explore options","text":"<pre><code># View options chain (interactive TUI)\nfq options AAPL\n\n# Specific expiration\nfq options AAPL --expiration 2024-12-20\n</code></pre>"},{"location":"cli/examples/#dividend-tracking","title":"Dividend tracking","text":"<pre><code># Dividend history\nfq dividends AAPL\n\n# Stock splits\nfq splits AAPL\n</code></pre>"},{"location":"cli/examples/#data-export","title":"Data Export","text":""},{"location":"cli/examples/#export-to-csv","title":"Export to CSV","text":"<pre><code># Historical price data\nfq chart AAPL -r 1y -o csv &gt; aapl_historical.csv\n\n# Quote data\nfq quote AAPL MSFT GOOGL -o csv &gt; quotes.csv\n\n# Indicator data\nfq indicator AAPL --indicator rsi:14 -o csv --no-tui &gt; indicators.csv\nfq indicator AAPL --indicator sma:20,50,200 -o csv --no-tui &gt; sma.csv\n</code></pre>"},{"location":"cli/examples/#export-to-json","title":"Export to JSON","text":"<pre><code># Backtest results\nfq backtest AAPL --preset swing --json &gt; backtest_results.json\n\n# Company info\nfq info AAPL -o json &gt; aapl_info.json\n</code></pre>"},{"location":"cli/examples/#pipe-to-other-tools","title":"Pipe to other tools","text":"<pre><code># Use jq to parse JSON\nfq quote AAPL -o json | jq '.price'\n\n# Use grep to filter CSV\nfq chart AAPL -r 1y -o csv | grep \"2024\"\n\n# Count lines in CSV\nfq chart AAPL -r 1y -o csv | wc -l\n</code></pre>"},{"location":"cli/examples/#dashboard-usage","title":"Dashboard Usage","text":""},{"location":"cli/examples/#launch-and-navigate","title":"Launch and navigate","text":"<pre><code># Start dashboard\nfq dashboard\n</code></pre> <p>In the dashboard:</p> <ul> <li>View market summary - See indices, futures, crypto</li> <li>Manage watchlist - <code>+</code> to add, <code>-</code> to remove symbols</li> <li>View details - Press Enter on a symbol for details</li> <li>Refresh - Press <code>r</code> to refresh data</li> <li>Search - Press <code>/</code> to search</li> <li>Quit - Press <code>q</code> to exit</li> </ul>"},{"location":"cli/examples/#automation","title":"Automation","text":""},{"location":"cli/examples/#check-alerts-periodically","title":"Check alerts periodically","text":"<pre><code># Run alert check every 5 minutes\nwatch -n 300 'fq alerts check'\n\n# Or use system service\nfq alerts service install\n</code></pre>"},{"location":"cli/examples/#generate-daily-reports","title":"Generate daily reports","text":"<pre><code>#!/bin/bash\n# daily-report.sh\n\nDATE=$(date +%Y-%m-%d)\n\n# Quotes\nfq quote AAPL MSFT GOOGL -o csv &gt; reports/quotes_${DATE}.csv\n\n# Market summary\nfq market -o json &gt; reports/market_${DATE}.json\n\n# Top movers\nfq screener day-gainers -o csv &gt; reports/gainers_${DATE}.csv\nfq screener day-losers -o csv &gt; reports/losers_${DATE}.csv\n\necho \"Daily report generated: reports/\"\n</code></pre> <pre><code># Schedule with cron (daily at 9am)\n0 9 * * * /path/to/daily-report.sh\n</code></pre>"},{"location":"cli/examples/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/examples/#check-version","title":"Check version","text":"<pre><code>fq --version\n</code></pre>"},{"location":"cli/examples/#enable-debug-logging","title":"Enable debug logging","text":"<pre><code>RUST_LOG=debug fq quote AAPL\n# or\nfq quote AAPL --verbose\n</code></pre>"},{"location":"cli/examples/#verify-installation","title":"Verify installation","text":"<pre><code>which fq\nfq --version\nfq quote --help\n</code></pre>"},{"location":"cli/examples/#common-errors","title":"Common errors","text":"<pre><code># \"Command not found\"\n# Make sure ~/.cargo/bin is in your PATH\n\n# \"Connection timeout\"\n# Check your internet connection\n# Yahoo Finance API might be temporarily unavailable\n\n# \"Symbol not found\"\n# Use 'fq lookup' to find the correct symbol\n</code></pre>"},{"location":"cli/installation/","title":"Installation &amp; Quick Start","text":""},{"location":"cli/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"cli/installation/#pre-built-binaries-recommended","title":"Pre-built Binaries (Recommended)","text":"<p>The fastest way to get started. Pre-compiled binaries are available for Linux, macOS, and Windows.</p> <p>Linux/macOS:</p> <pre><code>curl --proto '=https' --tlsv1.2 -LsSf https://github.com/Verdenroz/finance-query/releases/latest/download/finance-query-cli-installer.sh | sh\n</code></pre> <p>Windows (PowerShell):</p> <pre><code>powershell -c \"irm https://github.com/Verdenroz/finance-query/releases/latest/download/finance-query-cli-installer.ps1 | iex\"\n</code></pre> <p>macOS (Homebrew):</p> <pre><code>brew install verdenroz/tap/fq\n</code></pre>"},{"location":"cli/installation/#from-cargo","title":"From Cargo","text":"<p>Install from crates.io (requires Rust):</p> <pre><code>cargo install finance-query-cli\n</code></pre>"},{"location":"cli/installation/#from-source","title":"From Source","text":"<p>Build from source:</p> <pre><code>git clone https://github.com/Verdenroz/finance-query\ncd finance-query/finance-query-cli\ncargo install --path .\n</code></pre>"},{"location":"cli/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>fq --version\n</code></pre>"},{"location":"cli/installation/#quick-start","title":"Quick Start","text":"<p>Get a stock quote:</p> <pre><code>fq quote AAPL\n</code></pre> <p>View multiple quotes:</p> <pre><code>fq quote AAPL MSFT GOOGL TSLA\n</code></pre> <p>Stream live prices:</p> <pre><code>fq stream AAPL TSLA\n</code></pre> <p>View an interactive chart:</p> <pre><code>fq chart AAPL\n</code></pre> <p>Launch the dashboard:</p> <pre><code>fq dashboard\n</code></pre> <p>For detailed help, run:</p> <pre><code>fq --help\nfq &lt;command&gt; --help\n</code></pre>"},{"location":"cli/installation/#data-storage","title":"Data Storage","text":"<p>The CLI stores alerts and watchlists in:</p> <ul> <li>Linux/macOS: <code>~/.local/share/fq/</code></li> <li>Windows: <code>%APPDATA%\\fq\\</code></li> </ul> <p>EDGAR email configuration is stored in:</p> <ul> <li>Linux/macOS: <code>~/.config/fq/config.json</code></li> <li>Windows: <code>%APPDATA%\\fq\\config.json</code></li> </ul>"},{"location":"development/contributing/","title":"Contributing","text":"<p>We welcome contributions to FinanceQuery! This guide will help you get started.</p> <p>V1 (Python) is Not Maintained</p> <p>The legacy Python implementation in <code>/v1</code> is no longer actively maintained. All development focuses on the Rust library and server. The v1 source code, workflow, and documentation remain available for reference.</p>"},{"location":"development/contributing/#quick-start","title":"Quick Start","text":"<p>Clone and set up the development environment:</p> <pre><code>git clone https://github.com/Verdenroz/finance-query.git\ncd finance-query\nmake install-dev  # Installs rustfmt, clippy, prek, sets up pre-commit hooks\n</code></pre> <p>This sets up prek (a faster Rust-based pre-commit) which runs <code>fmt</code>, <code>clippy</code>, and <code>check</code> automatically before each commit.</p>"},{"location":"development/contributing/#useful-commands","title":"Useful Commands","text":"<p>Run <code>make help</code> to see all available commands:</p> <pre><code>make serve             # Start dev server (PORT=8000 by default)\nmake test              # Run ALL tests including network integration tests\nmake test-fast         # Run only fast tests (excludes network tests)\nmake fix               # Auto-fix formatting and clippy issues\nmake lint              # Run pre-commit checks (fmt, clippy, check)\nmake audit             # Run security audit on dependencies\nmake docs              # Build and serve MkDocs documentation\nmake build             # Build library and server in release mode\nmake docker-compose    # Start v1 and v2 servers together\nmake clean             # Clean build artifacts\n</code></pre>"},{"location":"development/contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"development/contributing/#1-make-your-changes","title":"1. Make Your Changes","text":"<p>Work on the library (<code>src/</code>) or server (<code>server/src/</code>):</p> <pre><code># Start the dev server\nmake serve\n\n# Run tests as you work\nmake test-fast  # Quick tests only\nmake test       # All tests including network calls\n</code></pre>"},{"location":"development/contributing/#2-check-your-code","title":"2. Check Your Code","text":"<p>Before committing, run the pre-commit checks:</p> <pre><code>make fix   # Auto-fix formatting and clippy issues\nmake lint  # Verify all checks pass\n</code></pre>"},{"location":"development/contributing/#3-test-thoroughly","title":"3. Test Thoroughly","text":"<p>Run the appropriate tests for your changes:</p> <pre><code># Library changes\ncargo test -p finance-query\n\n# Server changes\ncargo test -p finance-query-server\n\n# Specific test\ncargo test test_ticker_quote\n\n# Integration tests (makes real API calls)\ncargo test -- --ignored\n</code></pre>"},{"location":"development/contributing/#code-standards","title":"Code Standards","text":""},{"location":"development/contributing/#write-idiomatic-rust","title":"Write Idiomatic Rust","text":"<p>Use standard patterns and avoid unnecessary complexity:</p> <pre><code>// Good - simple and clear\npub async fn quote(&amp;self) -&gt; Result&lt;Quote&gt; {\n    self.get_quote_data().await\n}\n\n// Bad - over-engineered\npub async fn quote(&amp;self) -&gt; Result&lt;Quote, Box&lt;dyn std::error::Error&gt;&gt; {\n    match self.get_quote_data().await {\n        Ok(data) =&gt; Ok(data),\n        Err(e) =&gt; Err(Box::new(e)),\n    }\n}\n</code></pre>"},{"location":"development/contributing/#document-public-apis","title":"Document Public APIs","text":"<p>Add doc comments to public items:</p> <pre><code>/// Fetches the latest quote for the ticker.\n///\n/// # Example\n///\n/// ```no_run\n/// use finance_query::Ticker;\n///\n/// let ticker = Ticker::builder(\"AAPL\").logo().build().await?;\n/// let quote = ticker.quote().await?;\n/// println!(\"Price: ${}\", quote.regular_market_price);\n/// ```\npub async fn quote(&amp;self) -&gt; Result&lt;Quote&gt; {\n    // ...\n}\n</code></pre>"},{"location":"development/contributing/#testing-guidelines","title":"Testing Guidelines","text":""},{"location":"development/contributing/#unit-tests","title":"Unit Tests","text":"<p>Keep tests focused and fast:</p> <pre><code>#[tokio::test]\nasync fn test_ticker_builder() {\n    let ticker = Ticker::builder(\"AAPL\")\n        .region(Region::UnitedStates)\n        .build()\n        .await\n        .unwrap();\n\n    assert_eq!(ticker.symbol(), \"AAPL\");\n}\n</code></pre>"},{"location":"development/contributing/#integration-tests","title":"Integration Tests","text":"<p>Mark network tests with <code>#[ignore]</code>:</p> <pre><code>#[tokio::test]\n#[ignore = \"requires network access\"]\nasync fn test_real_quote() {\n    let ticker = Ticker::builder(\"AAPL\").logo().build().await.unwrap();\n    let quote = ticker.quote().await.unwrap();\n    assert!(!quote.symbol.is_empty());\n}\n</code></pre>"},{"location":"development/contributing/#doc-tests","title":"Doc Tests","text":"<p>Use <code>no_run</code> for examples that require network access:</p> <pre><code>/// # Example\n///\n/// ```no_run\n/// # use finance_query::Ticker;\n/// # async fn example() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n/// let ticker = Ticker::builder(\"AAPL\").logo().build().await?;\n/// let quote = ticker.quote().await?;\n/// # Ok(())\n/// # }\n/// ```\n</code></pre>"},{"location":"development/contributing/#submitting-changes","title":"Submitting Changes","text":""},{"location":"development/contributing/#1-create-a-branch","title":"1. Create a Branch","text":"<p>Use descriptive branch names:</p> <pre><code>git checkout -b fix/quote-timezone-handling\ngit checkout -b feat/add-options-chain\n</code></pre>"},{"location":"development/contributing/#2-commit-your-changes","title":"2. Commit Your Changes","text":"<p>Write clear commit messages:</p> <pre><code>git add .\ngit commit -m \"fix: handle timezone correctly in market hours\"\n</code></pre>"},{"location":"development/contributing/#3-push-and-create-pr","title":"3. Push and Create PR","text":"<pre><code>git push origin fix/quote-timezone-handling\n</code></pre> <p>Open a pull request on GitHub with:</p> <ul> <li>Clear description of what changed and why</li> <li>Link to any related issues</li> <li>Test results showing everything passes</li> </ul>"},{"location":"development/contributing/#common-tasks","title":"Common Tasks","text":""},{"location":"development/contributing/#adding-a-new-endpoint","title":"Adding a New Endpoint","text":"<p>Library side:</p> <ol> <li> <p>Add endpoint URL in <code>src/endpoints/</code>:</p> <pre><code>// src/endpoints/quote.rs\npub fn options_chain(symbol: &amp;str) -&gt; String {\n    format!(\"{}/v7/finance/options/{}\", BASE_URL, symbol)\n}\n</code></pre> </li> <li> <p>Define model in <code>src/models/</code>:</p> <pre><code>// src/models/options.rs\n#[derive(Debug, Clone, Deserialize)]\npub struct OptionsChain {\n    pub symbol: String,\n    pub expiration_dates: Vec&lt;i64&gt;,\n    // ...\n}\n</code></pre> </li> <li> <p>Add method to <code>Ticker</code>:</p> <pre><code>// src/ticker/core.rs\npub async fn options(&amp;self) -&gt; Result&lt;OptionsChain&gt; {\n    let url = endpoints::options_chain(&amp;self.symbol);\n    self.client.fetch_json(&amp;url).await\n}\n</code></pre> </li> </ol> <p>Server side:</p> <pre><code>// server/src/main.rs\nasync fn get_options(\n    Path(symbol): Path&lt;String&gt;,\n) -&gt; Result&lt;Json&lt;OptionsChain&gt;, AppError&gt; {\n    let ticker = Ticker::new(&amp;symbol).await?;\n    let options = ticker.options().await?;\n    Ok(Json(options))\n}\n\n// Register route\n.route(\"/v2/options/{symbol}\", get(get_options))\n</code></pre>"},{"location":"development/contributing/#updating-dependencies","title":"Updating Dependencies","text":"<p>Check for outdated dependencies:</p> <pre><code>cargo outdated\ncargo update\nmake test  # Ensure everything still works\n</code></pre>"},{"location":"development/contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Questions: Open a GitHub Discussion</li> <li>Bugs: Open a GitHub Issue with reproduction steps</li> <li>Security: Email security@finance-query.dev (not public issues)</li> </ul>"},{"location":"development/contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"library/backtesting/","title":"Backtesting","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 backtesting</p> <p>Test trading strategies against historical data. The backtesting engine provides pre-built strategies, a strategy builder for custom logic, and comprehensive performance metrics.</p>"},{"location":"library/backtesting/#enable-feature","title":"Enable Feature","text":"<p>Backtesting requires the <code>backtesting</code> feature (which depends on <code>indicators</code>):</p> <pre><code>[dependencies]\nfinance-query = { version = \"2.0\", features = [\"backtesting\"] }\n</code></pre>"},{"location":"library/backtesting/#pre-built-strategies","title":"Pre-built Strategies","text":""},{"location":"library/backtesting/#sma-crossover","title":"SMA Crossover","text":"<p>Dual Simple Moving Average crossover:</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\nuse finance_query::backtesting::SmaCrossover;\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet result = ticker.backtest(\n    SmaCrossover::new(10, 20),  // fast=10, slow=20\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n\nprintln!(\"Total Return: {:.2}%\", result.metrics.total_return_pct);\nprintln!(\"Sharpe Ratio: {:.2}\", result.metrics.sharpe_ratio);\nprintln!(\"Max Drawdown: {:.2}%\", result.metrics.max_drawdown_pct * 100.0);\n</code></pre>"},{"location":"library/backtesting/#rsi-mean-reversion","title":"RSI Mean Reversion","text":"<p>Reversal strategy using Relative Strength Index:</p> <pre><code>use finance_query::backtesting::RsiReversal;\n\nlet result = ticker.backtest(\n    RsiReversal::new(14),  // period (uses default thresholds: 30/70)\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n\n// Or with custom thresholds:\nlet result = ticker.backtest(\n    RsiReversal::new(14).with_thresholds(30.0, 70.0),\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n</code></pre>"},{"location":"library/backtesting/#macd-signal-crossover","title":"MACD Signal Crossover","text":"<p>MACD line crosses signal line:</p> <pre><code>use finance_query::backtesting::MacdSignal;\n\nlet result = ticker.backtest(\n    MacdSignal::new(12, 26, 9),  // fast, slow, signal\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n</code></pre>"},{"location":"library/backtesting/#bollinger-band-mean-reversion","title":"Bollinger Band Mean Reversion","text":"<p>Buy at lower band, sell at upper band:</p> <pre><code>use finance_query::backtesting::BollingerMeanReversion;\n\nlet result = ticker.backtest(\n    BollingerMeanReversion::new(20, 2.0),  // period, std_dev\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n</code></pre>"},{"location":"library/backtesting/#supertrend-trend-following","title":"SuperTrend Trend Following","text":"<p>Follow trends using ATR-based SuperTrend:</p> <pre><code>use finance_query::backtesting::SuperTrendFollow;\n\nlet result = ticker.backtest(\n    SuperTrendFollow::new(10, 3.0),  // period, multiplier\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n</code></pre>"},{"location":"library/backtesting/#donchian-breakout","title":"Donchian Breakout","text":"<p>Channel breakout strategy:</p> <pre><code>use finance_query::backtesting::DonchianBreakout;\n\nlet result = ticker.backtest(\n    DonchianBreakout::new(20),  // lookback period\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n</code></pre>"},{"location":"library/backtesting/#custom-strategies","title":"Custom Strategies","text":"<p>Build custom strategies with the <code>StrategyBuilder</code>:</p> <pre><code>use finance_query::backtesting::StrategyBuilder;\nuse finance_query::backtesting::refs::*;\nuse finance_query::backtesting::condition::*;\n\nlet strategy = StrategyBuilder::new(\"RSI Mean Reversion\")\n    .entry(\n        rsi(14)\n            .crosses_below(30.0)\n            .and(price().above_ref(sma(200)))\n    )\n    .exit(\n        rsi(14)\n            .crosses_above(70.0)\n            .or(stop_loss(0.05))\n    )\n    .build();\n\nlet result = ticker.backtest(\n    strategy,\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n</code></pre>"},{"location":"library/backtesting/#configuration","title":"Configuration","text":"<p>Customize backtesting behavior:</p> <pre><code>use finance_query::backtesting::BacktestConfig;\n\nlet config = BacktestConfig::builder()\n    .initial_capital(50_000.0)        // Starting balance\n    .commission_pct(0.001)            // 0.1% per trade\n    .slippage_pct(0.0005)             // 0.05% slippage\n    .stop_loss_pct(0.05)              // 5% stop-loss\n    .take_profit_pct(0.15)            // 15% take-profit\n    .allow_short(true)                // Allow short selling\n    .build()?;\n\nlet result = ticker.backtest(\n    SmaCrossover::new(10, 20),\n    Interval::OneDay,\n    TimeRange::OneYear,\n    Some(config),\n).await?;\n</code></pre>"},{"location":"library/backtesting/#performance-metrics","title":"Performance Metrics","text":"<p>Access comprehensive backtest results:</p> <pre><code>let result = ticker.backtest(...).await?;\n\n// Overall returns\nprintln!(\"Total Return: {:.2}%\", result.metrics.total_return_pct);\nprintln!(\"Annualized Return: {:.2}%\", result.metrics.annualized_return_pct);\n\n// Risk metrics\nprintln!(\"Sharpe Ratio: {:.2}\", result.metrics.sharpe_ratio);\nprintln!(\"Sortino Ratio: {:.2}\", result.metrics.sortino_ratio);\nprintln!(\"Max Drawdown: {:.2}%\", result.metrics.max_drawdown_pct * 100.0);\nprintln!(\"Calmar Ratio: {:.2}\", result.metrics.calmar_ratio);\n\n// Trade statistics\nprintln!(\"Total Trades: {}\", result.metrics.total_trades);\nprintln!(\"Win Rate: {:.2}%\", result.metrics.win_rate * 100.0);\nprintln!(\"Profit Factor: {:.2}\", result.metrics.profit_factor);\nprintln!(\"Average Win: {:.2}%\", result.metrics.avg_win_pct);\nprintln!(\"Average Loss: {:.2}%\", result.metrics.avg_loss_pct);\n\n// Trading activity\nprintln!(\"Long Trades: {}\", result.metrics.long_trades);\nprintln!(\"Short Trades: {}\", result.metrics.short_trades);\n</code></pre>"},{"location":"library/backtesting/#available-indicators","title":"Available Indicators","text":"<p>Use any of 40+ indicators in strategy conditions:</p> <p>Moving Averages: <code>sma</code>, <code>ema</code>, <code>wma</code>, <code>dema</code>, <code>tema</code>, <code>hma</code>, <code>vwma</code>, <code>alma</code>, <code>mcginley</code></p> <p>Oscillators: <code>rsi</code>, <code>stochastic</code>, <code>stochastic_rsi</code>, <code>cci</code>, <code>williams_r</code>, <code>cmo</code>, <code>awesome_oscillator</code></p> <p>Trend: <code>macd</code>, <code>adx</code>, <code>aroon</code>, <code>supertrend</code>, <code>ichimoku</code>, <code>parabolic_sar</code></p> <p>Volatility: <code>atr</code>, <code>bollinger</code>, <code>keltner</code>, <code>donchian</code>, <code>choppiness_index</code></p> <p>Volume: <code>obv</code>, <code>vwap</code>, <code>mfi</code>, <code>cmf</code>, <code>chaikin_oscillator</code>, <code>accumulation_distribution</code>, <code>balance_of_power</code></p>"},{"location":"library/backtesting/#available-conditions","title":"Available Conditions","text":"<p>Comparisons:</p> <ul> <li><code>above(threshold)</code> - Price above value</li> <li><code>below(threshold)</code> - Price below value</li> <li><code>crosses_above(threshold)</code> - Indicator crosses above value</li> <li><code>crosses_below(threshold)</code> - Indicator crosses below value</li> <li><code>between(lower, upper)</code> - Indicator between values</li> <li><code>equals(value)</code> - Indicator equals value</li> </ul> <p>Composites:</p> <ul> <li><code>and()</code> - Both conditions true</li> <li><code>or()</code> - Either condition true</li> <li><code>not()</code> - Negate condition</li> </ul> <p>Position Management:</p> <ul> <li><code>stop_loss(pct)</code> - Exit on loss percentage</li> <li><code>take_profit(pct)</code> - Exit on profit percentage</li> <li><code>trailing_stop(pct)</code> - Exit if price retraces</li> <li><code>trailing_take_profit(pct)</code> - Exit if profit retraces</li> </ul> <p>Position State:</p> <ul> <li><code>has_position()</code> - Currently holding position</li> <li><code>no_position()</code> - Not holding position</li> <li><code>is_long()</code> - Currently long</li> <li><code>is_short()</code> - Currently short</li> <li><code>in_profit()</code> - Position is profitable</li> <li><code>in_loss()</code> - Position is in loss</li> </ul>"},{"location":"library/backtesting/#reference-signals","title":"Reference Signals","text":"<p>Access price and indicator values in conditions:</p> <ul> <li><code>price()</code> - Close price</li> <li><code>open()</code> - Open price</li> <li><code>high()</code> - High price</li> <li><code>low()</code> - Low price</li> <li><code>volume()</code> - Volume</li> </ul>"},{"location":"library/backtesting/#trading-modes","title":"Trading Modes","text":"<p>Strategies support both long and short:</p> <pre><code>// Long only (default)\nlet strategy = SmaCrossover::new(10, 20);\n\n// With configuration for short selling\nlet config = BacktestConfig::builder()\n    .allow_short(true)\n    .build()?;\n\nlet result = ticker.backtest(strategy, interval, range, Some(config)).await?;\n</code></pre>"},{"location":"library/backtesting/#example-complete-strategy","title":"Example: Complete Strategy","text":"<pre><code>use finance_query::{Ticker, Interval, TimeRange};\nuse finance_query::backtesting::{StrategyBuilder, BacktestConfig};\nuse finance_query::backtesting::refs::*;\nuse finance_query::backtesting::condition::*;\n\n#[tokio::main]\nasync fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n    let ticker = Ticker::new(\"AAPL\").await?;\n\n    // Custom momentum strategy\n    let strategy = StrategyBuilder::new(\"Momentum with Risk Management\")\n        .entry(\n            {\n                let m = macd(12, 26, 9);\n                m.line().crosses_above_ref(m.signal_line())\n                    .and(price().above_ref(ema(50)))\n                    .and(volume().above_ref(sma(20)))\n            }\n        )\n        .exit(\n            {\n                let m = macd(12, 26, 9);\n                m.line().crosses_below_ref(m.signal_line())\n                    .or(stop_loss(0.08))\n                    .or(take_profit(0.15))\n            }\n        )\n        .build();\n\n    // Configuration\n    let config = BacktestConfig::builder()\n        .initial_capital(100_000.0)\n        .commission_pct(0.001)\n        .slippage_pct(0.0005)\n        .allow_short(false)\n        .build()?;\n\n    // Run backtest\n    let result = ticker.backtest(\n        strategy,\n        Interval::OneDay,\n        TimeRange::OneYear,\n        Some(config),\n    ).await?;\n\n    // Print results\n    println!(\"Backtest Results for AAPL\");\n    println!(\"=========================\");\n    println!(\"Total Return: {:.2}%\", result.metrics.total_return_pct);\n    println!(\"Sharpe Ratio: {:.2}\", result.metrics.sharpe_ratio);\n    println!(\"Win Rate: {:.2}%\", result.metrics.win_rate * 100.0);\n    println!(\"Total Trades: {}\", result.metrics.total_trades);\n    println!(\"Max Drawdown: {:.2}%\", result.metrics.max_drawdown_pct * 100.0);\n\n    Ok(())\n}\n</code></pre>"},{"location":"library/backtesting/#best-practices","title":"Best Practices","text":"<p>Design Robust Strategies</p> <ul> <li>Test multiple timeframes - Validate strategies on different intervals and date ranges to avoid overfitting</li> <li>Use realistic assumptions - Set appropriate commission, slippage, and position sizing</li> <li>Avoid lookahead bias - Only use data that would have been available at the time of each trade</li> <li>Validate with walk-forward testing - Test on out-of-sample data to ensure strategy generalizes</li> <li>Combine indicators - Use multiple confirming signals rather than single indicator strategies</li> </ul> <pre><code>// Good: Realistic configuration with multiple confirmations\nlet config = BacktestConfig::builder()\n    .initial_capital(10_000.0)\n    .commission_pct(0.001)        // 0.1% per trade (realistic for retail)\n    .slippage_pct(0.0005)          // 0.05% slippage\n    .allow_short(false)            // Match your actual trading permissions\n    .build()?;\n\nlet strategy = StrategyBuilder::new(\"Validated Strategy\")\n    .entry(\n        rsi(14).crosses_below(30.0)\n            .and(price().above_ref(sma(200)))  // Trend filter\n            .and(volume().above_ref(sma(20)))   // Volume confirmation\n    )\n    .exit(\n        rsi(14).crosses_above(70.0)\n            .or(stop_loss(0.05))               // Risk management\n            .or(take_profit(0.15))\n    )\n    .build();\n\n// Run backtest\nlet result = ticker.backtest(strategy, Interval::OneDay, TimeRange::OneYear, Some(config)).await?;\n\n// Less robust: Unrealistic assumptions, single indicator\nlet bad_config = BacktestConfig::builder()\n    .initial_capital(10_000.0)\n    .commission_pct(0.0)           // No commission (unrealistic)\n    .slippage_pct(0.0)             // No slippage (unrealistic)\n    .build()?;\n\nlet simple_strategy = StrategyBuilder::new(\"Simple\")\n    .entry(rsi(14).crosses_below(30.0))  // Single indicator, no confirmation\n    .exit(rsi(14).crosses_above(70.0))\n    .build();\n</code></pre> <p>Common Pitfalls</p> <ul> <li>Overfitting - Strategies that work perfectly on historical data often fail in live trading. Use simple rules and validate on multiple periods.</li> <li>Ignoring costs - Commission and slippage significantly impact returns, especially for high-frequency strategies.</li> <li>Position sizing - Default 100% capital allocation is aggressive. Consider using smaller position sizes.</li> <li>Survivor bias - Backtesting on current index constituents ignores delisted/bankrupt companies.</li> <li>Data quality - Yahoo Finance data may have gaps or inaccuracies. Validate important results.</li> </ul>"},{"location":"library/backtesting/#next-steps","title":"Next Steps","text":"<ul> <li>Technical Indicators - Complete reference for all 52+ available indicators</li> <li>Ticker API - Learn how to fetch data and run backtests</li> <li>DataFrame Support - Analyze backtest results in Polars DataFrames</li> <li>Models Reference - Understanding backtest result structures</li> </ul>"},{"location":"library/configuration/","title":"Configuration","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 TickerBuilder</p> <p>This guide explains how to configure <code>Ticker</code> and <code>Tickers</code> for different regions, languages, network settings, and more.</p>"},{"location":"library/configuration/#regional-settings","title":"Regional Settings","text":"<p>Yahoo Finance provides different data based on regional settings. Finance Query makes it easy to configure the correct language and region for your use case.</p>"},{"location":"library/configuration/#using-regions-recommended","title":"Using Regions (Recommended)","text":"<p>The easiest way to set regional settings is using the <code>Region</code> enum, which automatically pairs the correct language and region codes:</p> <pre><code>use finance_query::{Ticker, Region};\n\n// Taiwan stock with France locale\nlet ticker = Ticker::builder(\"MC.PA\")\n    .region(Region::France)\n    .build()\n    .await?;\n\n// German stock with German locale\nlet ticker = Ticker::builder(\"SAP.DE\")\n    .region(Region::Germany)\n    .build()\n    .await?;\n\n// UK stock with UK locale\nlet ticker = Ticker::builder(\"HSBA.L\")\n    .region(Region::UnitedKingdom)\n    .build()\n    .await?;\n</code></pre> <p>Supported Regions:</p> Region Language Code Region Code <code>Argentina</code> es-AR AR <code>Australia</code> en-AU AU <code>Brazil</code> pt-BR BR <code>Canada</code> en-CA CA <code>China</code> zh-CN CN <code>Denmark</code> da-DK DK <code>Finland</code> fi-FI FI <code>France</code> fr-FR FR <code>Germany</code> de-DE DE <code>Greece</code> el-GR GR <code>HongKong</code> zh-Hant-HK HK <code>India</code> en-IN IN <code>Israel</code> he-IL IL <code>Italy</code> it-IT IT <code>Malaysia</code> ms-MY MY <code>NewZealand</code> en-NZ NZ <code>Norway</code> nb-NO NO <code>Portugal</code> pt-PT PT <code>Russia</code> ru-RU RU <code>Singapore</code> en-SG SG <code>Spain</code> es-ES ES <code>Sweden</code> sv-SE SE <code>Taiwan</code> zh-TW TW <code>Thailand</code> th-TH TH <code>Turkey</code> tr-TR TR <code>UnitedKingdom</code> en-GB GB <code>UnitedStates</code> en-US US (default) <code>Vietnam</code> vi-VN VN"},{"location":"library/configuration/#manual-language-and-region","title":"Manual Language and Region","text":"<p>For custom configurations, set language and region separately:</p> <pre><code>let ticker = Ticker::builder(\"AAPL\")\n    .lang(\"en-US\")\n    .region_code(\"US\")\n    .build()\n    .await?;\n</code></pre> <p>Important: Language and region should match. Using mismatched pairs (e.g., <code>de-DE</code> with <code>US</code> region) may produce inconsistent results.</p>"},{"location":"library/configuration/#network-settings","title":"Network Settings","text":""},{"location":"library/configuration/#timeout","title":"Timeout","text":"<p>Set HTTP request timeout (default: 30 seconds):</p> <pre><code>use std::time::Duration;\n\nlet ticker = Ticker::builder(\"AAPL\")\n    .timeout(Duration::from_secs(60))  // 60 second timeout\n    .build()\n    .await?;\n</code></pre>"},{"location":"library/configuration/#proxy","title":"Proxy","text":"<p>Configure an HTTP proxy:</p> <pre><code>let ticker = Ticker::builder(\"AAPL\")\n    .proxy(\"http://proxy.example.com:8080\")\n    .build()\n    .await?;\n\n// With authentication\nlet ticker = Ticker::builder(\"AAPL\")\n    .proxy(\"http://user:pass@proxy.example.com:8080\")\n    .build()\n    .await?;\n</code></pre> <p>Supports:</p> <ul> <li>HTTP proxies: <code>http://proxy.example.com:8080</code></li> <li>HTTPS proxies: <code>https://proxy.example.com:8080</code></li> <li>SOCKS5 proxies: <code>socks5://proxy.example.com:1080</code></li> </ul>"},{"location":"library/configuration/#batch-operations-tickers","title":"Batch Operations (<code>Tickers</code>)","text":"<p>Configure <code>Tickers</code> for batch operations:</p> <pre><code>use finance_query::{Tickers, Region};\nuse std::time::Duration;\n\nlet tickers = Tickers::builder(vec![\"2330.TW\", \"2317.TW\", \"2454.TW\"])\n    .region(Region::Taiwan)\n    .timeout(Duration::from_secs(60))\n    .build()\n    .await?;\n</code></pre> <p><code>Tickers</code> supports the same builder methods as <code>Ticker</code>:</p> <ul> <li><code>.region(Region)</code></li> <li><code>.lang(String)</code></li> <li><code>.region_code(String)</code></li> <li><code>.timeout(Duration)</code></li> <li><code>.proxy(String)</code></li> </ul>"},{"location":"library/configuration/#intervals-and-time-ranges","title":"Intervals and Time Ranges","text":""},{"location":"library/configuration/#chart-intervals","title":"Chart Intervals","text":"<p>When fetching chart data, choose an appropriate interval:</p> <pre><code>use finance_query::Interval;\n\n// Intraday trading\nInterval::OneMinute      // 1m candles\nInterval::FiveMinutes    // 5m candles\nInterval::FifteenMinutes // 15m candles\nInterval::ThirtyMinutes  // 30m candles\nInterval::OneHour        // 1h candles\n\n// Daily and longer\nInterval::OneDay         // Daily candles (most common)\nInterval::OneWeek        // Weekly candles\nInterval::OneMonth       // Monthly candles\nInterval::ThreeMonths    // Quarterly candles\n</code></pre>"},{"location":"library/configuration/#time-ranges","title":"Time Ranges","text":"<pre><code>use finance_query::TimeRange;\n\n// Short term\nTimeRange::OneDay        // 1 day\nTimeRange::FiveDays      // 5 days\nTimeRange::OneMonth      // 1 month\nTimeRange::ThreeMonths   // 3 months\nTimeRange::SixMonths     // 6 months\n\n// Long term\nTimeRange::OneYear       // 1 year\nTimeRange::TwoYears      // 2 years\nTimeRange::FiveYears     // 5 years\nTimeRange::TenYears      // 10 years\nTimeRange::YearToDate    // From Jan 1 of current year\nTimeRange::Max           // All available history\n</code></pre>"},{"location":"library/configuration/#interval-and-range-compatibility","title":"Interval and Range Compatibility","text":"<p>Not all interval/range combinations are valid. Yahoo Finance enforces these restrictions:</p> Interval Valid Ranges 1m, 5m 1d, 5d (max 7 days of intraday data) 15m, 30m 1d, 5d, 1mo (max ~60 days) 1h 1d, 5d, 1mo, 3mo, 6mo, 1y, 2y (max ~2 years) 1d, 1wk, 1mo, 3mo All ranges <p>Example:</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\n\n// Valid\nlet daily = ticker.chart(Interval::OneDay, TimeRange::OneYear).await?;\nlet intraday = ticker.chart(Interval::FiveMinutes, TimeRange::OneDay).await?;\n\n// Invalid - will return error\n// let invalid = ticker.chart(Interval::OneMinute, TimeRange::OneMonth).await?;\n</code></pre>"},{"location":"library/configuration/#financial-statement-frequencies","title":"Financial Statement Frequencies","text":"<p>When fetching financial statements:</p> <pre><code>use finance_query::{StatementType, Frequency};\n\n// Annual statements (default)\nlet income_annual = ticker.financials(\n    StatementType::Income,\n    Frequency::Annual\n).await?;\n\n// Quarterly statements\nlet income_quarterly = ticker.financials(\n    StatementType::Income,\n    Frequency::Quarterly\n).await?;\n</code></pre>"},{"location":"library/configuration/#value-formatting","title":"Value Formatting","text":"<p>Some server endpoints support value formatting. This is primarily a server feature, but the library defines the <code>ValueFormat</code> enum:</p> <pre><code>use finance_query::ValueFormat;\n\n// For display purposes\nValueFormat::Raw     // Raw numbers (default)\nValueFormat::Pretty  // Formatted strings (e.g., \"1.2M\", \"$45.67\")\nValueFormat::Both    // Both raw and pretty values\n</code></pre> <p>Note: This is mainly used by the server's REST API. Library users typically work with raw values directly.</p>"},{"location":"library/configuration/#best-practices","title":"Best Practices","text":"<p>Match Symbols to Regions</p> <ul> <li>Use <code>Region</code> enum when possible - Ensures correct lang/region pairing</li> <li>Match symbols to regions - Use appropriate regional settings for each symbol:<ul> <li>US stocks (<code>AAPL</code>, <code>MSFT</code>): <code>Region::UnitedStates</code></li> <li>Taiwan stocks (<code>2330.TW</code>): <code>Region::Taiwan</code></li> <li>UK stocks (<code>HSBA.L</code>): <code>Region::UnitedKingdom</code></li> </ul> </li> </ul> <pre><code>use finance_query::{Ticker, Region};\n\n// US stock\nlet apple = Ticker::builder(\"AAPL\")\n    .region(Region::UnitedStates)\n    .logo()\n    .build()\n    .await?;\n\n// Taiwan stock\nlet tsmc = Ticker::builder(\"2330.TW\")\n    .region(Region::Taiwan)\n    .logo()\n    .build()\n    .await?;\n\n// German stock\nlet sap = Ticker::builder(\"SAP.DE\")\n    .region(Region::Germany)\n    .logo()\n    .build()\n    .await?;\n\n// Fetch quotes in parallel\nlet (apple_quote, tsmc_quote, sap_quote) = tokio::join!(\n    apple.quote(),\n    tsmc.quote(),\n    sap.quote()\n);\n</code></pre> <p>Configure Timeouts and Proxies</p> <ul> <li>Set reasonable timeouts - Default is 30s, increase for slow connections</li> <li>Share configuration - Create one config and reuse it across tickers</li> <li>Choose appropriate intervals:<ul> <li>Intraday analysis: 1m, 5m, 15m</li> <li>Daily charts: 1d</li> <li>Long-term trends: 1wk, 1mo</li> </ul> </li> </ul> <pre><code>use finance_query::Ticker;\nuse std::time::Duration;\n\n// Configure for corporate network with proxy and longer timeout\nlet ticker = Ticker::builder(\"AAPL\")\n    .proxy(\"http://corporate-proxy.company.com:8080\")\n    .timeout(Duration::from_secs(45))\n    .build()\n    .await?;\n</code></pre>"},{"location":"library/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Ticker API - Full API reference</li> <li>Models - Understanding response types</li> </ul>"},{"location":"library/crypto/","title":"Crypto (CoinGecko)","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 crypto</p> <p>Feature flag required</p> <pre><code>finance-query = { version = \"...\", features = [\"crypto\"] }\n</code></pre> <p>The <code>crypto</code> module provides cryptocurrency market data via the CoinGecko public API. No API key is required. Rate limiting (30 req/min on the free tier) is handled automatically.</p> <pre><code>use finance_query::crypto;\n</code></pre>"},{"location":"library/crypto/#top-coins-by-market-cap","title":"Top Coins by Market Cap","text":"<pre><code>use finance_query::crypto;\n\n// Top 10 coins in USD\nlet top = crypto::coins(\"usd\", 10).await?;\n\nfor coin in &amp;top {\n    let price   = coin.current_price.unwrap_or(0.0);\n    let change  = coin.price_change_percentage_24h.unwrap_or(0.0);\n    let rank    = coin.market_cap_rank.unwrap_or(0);\n    println!(\"#{} {} ({}): ${:.2} ({:+.2}%)\", rank, coin.name, coin.symbol, price, change);\n}\n</code></pre> <ul> <li><code>vs_currency</code> \u2014 Quote currency: <code>\"usd\"</code>, <code>\"eur\"</code>, <code>\"btc\"</code>, <code>\"eth\"</code>, etc.</li> <li><code>count</code> \u2014 Number of coins to return (max 250).</li> </ul>"},{"location":"library/crypto/#single-coin-lookup","title":"Single Coin Lookup","text":"<pre><code>// Look up by CoinGecko ID\nlet btc = crypto::coin(\"bitcoin\", \"usd\").await?;\nprintln!(\"Bitcoin: ${:.2}\", btc.current_price.unwrap_or(0.0));\n\nlet eth = crypto::coin(\"ethereum\", \"usd\").await?;\nlet mktcap = eth.market_cap.unwrap_or(0.0);\nprintln!(\"Ethereum market cap: ${:.2}B\", mktcap / 1e9);\n</code></pre> <p>CoinGecko IDs are lowercase, hyphenated names. Common examples:</p> Name CoinGecko ID Bitcoin <code>\"bitcoin\"</code> Ethereum <code>\"ethereum\"</code> BNB <code>\"binancecoin\"</code> Solana <code>\"solana\"</code> XRP <code>\"ripple\"</code> USDC <code>\"usd-coin\"</code> Dogecoin <code>\"dogecoin\"</code> <p>To discover IDs programmatically, call the CoinGecko <code>/coins/list</code> endpoint.</p>"},{"location":"library/crypto/#coinquote-fields","title":"<code>CoinQuote</code> Fields","text":"Field Type Description <code>id</code> <code>String</code> CoinGecko ID (e.g., <code>\"bitcoin\"</code>) <code>symbol</code> <code>String</code> Ticker symbol in uppercase (e.g., <code>\"BTC\"</code>) <code>name</code> <code>String</code> Full coin name (e.g., <code>\"Bitcoin\"</code>) <code>current_price</code> <code>Option&lt;f64&gt;</code> Current price in the requested currency <code>market_cap</code> <code>Option&lt;f64&gt;</code> Market capitalisation <code>market_cap_rank</code> <code>Option&lt;u32&gt;</code> Market cap rank (1 = largest) <code>price_change_percentage_24h</code> <code>Option&lt;f64&gt;</code> 24-hour price change (%) <code>total_volume</code> <code>Option&lt;f64&gt;</code> 24-hour trading volume <code>circulating_supply</code> <code>Option&lt;f64&gt;</code> Circulating supply <code>image</code> <code>Option&lt;String&gt;</code> URL to the coin's logo image"},{"location":"library/crypto/#rate-limits","title":"Rate Limits","text":"<p>The CoinGecko free tier allows 30 requests per minute. The client enforces this automatically \u2014 calls that would exceed the limit will wait until the window resets.</p>"},{"location":"library/crypto/#next-steps","title":"Next Steps","text":"<ul> <li>Finance Module - Market-wide financial data</li> <li>Getting Started - Feature flag setup</li> </ul>"},{"location":"library/dataframe/","title":"DataFrame Support","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 ToDataFrame</p> <p>Finance Query provides optional Polars DataFrame conversion for data analysis workflows.</p> <p>Feature Flag Required</p> <p>DataFrame support requires the <code>dataframe</code> feature flag. Add it to your <code>Cargo.toml</code>:</p> <pre><code>[dependencies]\nfinance-query = { version = \"2.0\", features = [\"dataframe\"] }\npolars = \"0.45\"\n</code></pre>"},{"location":"library/dataframe/#overview","title":"Overview","text":"<p>The <code>dataframe</code> feature enables <code>.to_dataframe()</code> methods on many response types, converting them into Polars DataFrames for powerful data manipulation and analysis.</p> <p>Supported Types:</p> <ul> <li>Charts - <code>Chart</code>, <code>Candle</code></li> <li>Quotes - <code>Quote</code>, market summary quotes, trending quotes</li> <li>Corporate Events - <code>Dividend</code>, <code>Split</code>, <code>CapitalGain</code></li> <li>Screeners - Screener results</li> <li>Search &amp; Lookup - Search results, lookup results</li> <li>Options - Options contracts, options chains</li> <li>Recommendations - Recommended symbols</li> <li>Sector &amp; Industry - Company lists, ETFs, performance data</li> <li>News - News articles</li> <li>Indicators - Technical indicators summary</li> <li>Market Data - Exchanges, currencies, market hours</li> </ul>"},{"location":"library/dataframe/#basic-usage","title":"Basic Usage","text":""},{"location":"library/dataframe/#chart-data","title":"Chart Data","text":"<p>Convert historical OHLCV data to DataFrame:</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\n#[tokio::main]\nasync fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n    let ticker = Ticker::new(\"AAPL\").await?;\n    let chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n\n    // Convert to DataFrame\n    let df = chart.to_dataframe()?;\n\n    println!(\"{}\", df);\n    // Output:\n    // \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    // \u2502 timestamp  \u2506 open   \u2506 high   \u2506 low    \u2506 close  \u2506 volume    \u2502\n    // \u2502 i64        \u2506 f64    \u2506 f64    \u2506 f64    \u2506 f64    \u2506 i64       \u2502\n    // \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561\n    // \u2502 1234567890 \u2506 150.20 \u2506 152.40 \u2506 149.80 \u2506 151.30 \u2506 45000000  \u2502\n    // \u2502 ...        \u2506 ...    \u2506 ...    \u2506 ...    \u2506 ...    \u2506 ...       \u2502\n    // \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n    Ok(())\n}\n</code></pre> <p>Chart DataFrame Columns:</p> <ul> <li><code>timestamp</code> (i64) - Unix timestamp</li> <li><code>open</code> (f64) - Opening price</li> <li><code>high</code> (f64) - High price</li> <li><code>low</code> (f64) - Low price</li> <li><code>close</code> (f64) - Closing price</li> <li><code>volume</code> (i64) - Trading volume</li> <li><code>adj_close</code> (Option) - Adjusted close price (accounts for splits/dividends)"},{"location":"library/dataframe/#quote-data","title":"Quote Data","text":"<p>Single quote to DataFrame:</p> <pre><code>let ticker = Ticker::new(\"NVDA\").await?;\nlet quote = ticker.quote().await?;\n\n// Convert to single-row DataFrame\nlet df = quote.to_dataframe()?;\nprintln!(\"{}\", df);\n</code></pre> <p>Quote DataFrame includes 30+ columns like:</p> <ul> <li><code>symbol</code>, <code>short_name</code>, <code>exchange</code></li> <li><code>regular_market_price</code>, <code>regular_market_change</code>, <code>regular_market_change_percent</code></li> <li><code>market_cap</code>, <code>volume</code>, <code>average_volume</code></li> <li><code>fifty_two_week_high</code>, <code>fifty_two_week_low</code></li> <li><code>pe_ratio</code>, <code>eps</code>, <code>dividend_yield</code></li> <li>And many more...</li> </ul>"},{"location":"library/dataframe/#corporate-events","title":"Corporate Events","text":"<p>Convert dividends, splits, or capital gains to DataFrame:</p> <pre><code>use finance_query::{Ticker, TimeRange, Dividend, Split, CapitalGain};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\n\n// Dividends\nlet dividends = ticker.dividends(TimeRange::OneYear).await?;\nlet div_df = Dividend::vec_to_dataframe(&amp;dividends)?;\n// Columns: timestamp, amount\n\n// Splits\nlet splits = ticker.splits(TimeRange::Max).await?;\nlet split_df = Split::vec_to_dataframe(&amp;splits)?;\n// Columns: timestamp, ratio\n\n// Capital gains\nlet gains = ticker.capital_gains(TimeRange::FiveYears).await?;\nlet gains_df = CapitalGain::vec_to_dataframe(&amp;gains)?;\n// Columns: timestamp, amount\n</code></pre>"},{"location":"library/dataframe/#screener-results","title":"Screener Results","text":"<p>Convert screener results to DataFrame for analysis:</p> <pre><code>use finance_query::{finance, Screener};\n\nlet gainers = finance::screener(Screener::DayGainers, 50).await?;\n\n// Convert to DataFrame\nlet df = gainers.to_dataframe()?;\nprintln!(\"{}\", df);\n</code></pre>"},{"location":"library/dataframe/#indicators","title":"Indicators","text":"<p>Feature Flag Required</p> <p>The <code>indicators()</code> method requires the <code>indicators</code> feature flag: <pre><code>finance-query = { version = \"2.0\", features = [\"dataframe\", \"indicators\"] }\n</code></pre></p> <p>Convert technical indicators to DataFrame:</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"TSLA\").await?;\nlet indicators = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// Convert to single-row DataFrame with all 52 indicators\nlet df = indicators.to_dataframe()?;\n\n// Access specific indicators\nprintln!(\"RSI(14): {:?}\", df.column(\"rsi_14\")?);\nprintln!(\"MACD: {:?}\", df.column(\"macd\")?);\n</code></pre>"},{"location":"library/dataframe/#working-with-polars","title":"Working with Polars","text":""},{"location":"library/dataframe/#filtering-data","title":"Filtering Data","text":"<p>Polars API Updates</p> <p>The Polars API has evolved significantly. The filtering examples below use an older API style. For current Polars 0.52+ API, refer to the Polars Documentation.</p> <pre><code>use polars::prelude::*;\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet chart = ticker.chart(Interval::OneDay, TimeRange::SixMonths).await?;\nlet df = chart.to_dataframe()?;\n\n// For filtering with current Polars API, see Polars documentation\n// Older API example (may need updates):\n// let high_volume = df.filter(&amp;df.column(\"volume\")?.gt(50_000_000)?)?;\n\nprintln!(\"Total days: {}\", df.height());\n</code></pre>"},{"location":"library/dataframe/#computing-statistics","title":"Computing Statistics","text":"<pre><code>use polars::prelude::*;\n\nlet df = chart.to_dataframe()?;\n\n// Calculate average closing price\nlet avg_close = df.column(\"close\")?\n    .mean()\n    .unwrap();\nprintln!(\"Average close: ${:.2}\", avg_close);\n\n// Get max high and min low\nlet max_high = df.column(\"high\")?.max::&lt;f64&gt;().unwrap();\nlet min_low = df.column(\"low\")?.min::&lt;f64&gt;().unwrap();\nprintln!(\"Range: ${:.2} - ${:.2}\", min_low, max_high);\n</code></pre>"},{"location":"library/dataframe/#adding-calculated-columns","title":"Adding Calculated Columns","text":"<pre><code>use polars::prelude::*;\n\nlet mut df = chart.to_dataframe()?;\n\n// Add daily return column\nlet close = df.column(\"close\")?;\nlet prev_close = close.shift(1);\nlet daily_return = ((close - &amp;prev_close) / &amp;prev_close) * lit(100.0);\n\ndf.with_column(daily_return.alias(\"daily_return_pct\"))?;\n</code></pre>"},{"location":"library/dataframe/#time-based-operations","title":"Time-based Operations","text":"<pre><code>use polars::prelude::*;\nuse chrono::{DateTime, Utc};\n\nlet df = chart.to_dataframe()?;\n\n// Convert timestamp to datetime\nlet dates: Vec&lt;_&gt; = df.column(\"timestamp\")?\n    .i64()?\n    .into_iter()\n    .map(|ts| {\n        ts.map(|t| DateTime::from_timestamp(t, 0).unwrap())\n    })\n    .collect();\n\n// Filter by date range\nlet start_ts = 1704067200; // 2024-01-01\nlet df_filtered = df.filter(\n    &amp;df.column(\"timestamp\")?.gt_eq(start_ts)?\n)?;\n</code></pre>"},{"location":"library/dataframe/#sorting-and-ranking","title":"Sorting and Ranking","text":"<pre><code>use polars::prelude::*;\n\nlet gainers = finance::screener(Screener::DayGainers, 100).await?;\n\nlet mut df = gainers.to_dataframe()?;\n\n// Sort by market cap descending\ndf = df.sort([\"market_cap\"], SortMultipleOptions::default().with_order_descending(true))?;\n\n// Get top 10\nlet top_10 = df.head(Some(10));\nprintln!(\"{}\", top_10);\n</code></pre>"},{"location":"library/dataframe/#aggregations","title":"Aggregations","text":"<pre><code>use polars::prelude::*;\n\nlet df = chart.to_dataframe()?;\n\n// Group by month and aggregate\nlet monthly = df.lazy()\n    .select([\n        (col(\"timestamp\") / lit(86400 * 30)).alias(\"month\"),\n        col(\"close\").mean().alias(\"avg_close\"),\n        col(\"volume\").sum().alias(\"total_volume\"),\n        col(\"high\").max().alias(\"max_high\"),\n        col(\"low\").min().alias(\"min_low\"),\n    ])\n    .group_by([col(\"month\")])\n    .agg([\n        col(\"avg_close\"),\n        col(\"total_volume\"),\n        col(\"max_high\"),\n        col(\"min_low\"),\n    ])\n    .collect()?;\n\nprintln!(\"{}\", monthly);\n</code></pre>"},{"location":"library/dataframe/#multiple-symbols","title":"Multiple Symbols","text":"<p>Combine data from multiple symbols:</p> <pre><code>use polars::prelude::*;\n\nlet aapl = Ticker::new(\"AAPL\").await?;\nlet msft = Ticker::new(\"MSFT\").await?;\nlet nvda = Ticker::new(\"NVDA\").await?;\n\nlet aapl_chart = aapl.chart(Interval::OneDay, TimeRange::OneMonth).await?;\nlet msft_chart = msft.chart(Interval::OneDay, TimeRange::OneMonth).await?;\nlet nvda_chart = nvda.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n\n// Convert to DataFrames\nlet mut aapl_df = aapl_chart.to_dataframe()?;\nlet mut msft_df = msft_chart.to_dataframe()?;\nlet mut nvda_df = nvda_chart.to_dataframe()?;\n\n// Add symbol column to each\naapl_df.with_column(Series::new(\"symbol\", vec![\"AAPL\"; aapl_df.height()]))?;\nmsft_df.with_column(Series::new(\"symbol\", vec![\"MSFT\"; msft_df.height()]))?;\nnvda_df.with_column(Series::new(\"symbol\", vec![\"NVDA\"; nvda_df.height()]))?;\n\n// Combine into single DataFrame\nlet combined = concat(\n    &amp;[aapl_df, msft_df, nvda_df],\n    UnionArgs::default(),\n)?;\n\nprintln!(\"Combined data: {} rows\", combined.height());\n</code></pre>"},{"location":"library/dataframe/#exporting-data","title":"Exporting Data","text":""},{"location":"library/dataframe/#csv-export","title":"CSV Export","text":"<pre><code>use polars::prelude::*;\nuse std::fs::File;\n\nlet df = chart.to_dataframe()?;\n\n// Write to CSV\nlet mut file = File::create(\"aapl_prices.csv\")?;\nCsvWriter::new(&amp;mut file)\n    .include_header(true)\n    .finish(&amp;mut df)?;\n</code></pre>"},{"location":"library/dataframe/#parquet-export","title":"Parquet Export","text":"<pre><code>use polars::prelude::*;\nuse std::fs::File;\n\nlet df = chart.to_dataframe()?;\n\n// Write to Parquet (efficient columnar format)\nlet file = File::create(\"aapl_prices.parquet\")?;\nParquetWriter::new(file)\n    .finish(&amp;mut df)?;\n</code></pre>"},{"location":"library/dataframe/#json-export","title":"JSON Export","text":"<pre><code>use polars::prelude::*;\nuse std::fs::File;\n\nlet df = chart.to_dataframe()?;\n\n// Write to JSON\nlet mut file = File::create(\"aapl_prices.json\")?;\nJsonWriter::new(&amp;mut file)\n    .finish(&amp;mut df)?;\n</code></pre>"},{"location":"library/dataframe/#advanced-patterns","title":"Advanced Patterns","text":""},{"location":"library/dataframe/#rolling-windows","title":"Rolling Windows","text":"<pre><code>use polars::prelude::*;\n\nlet df = chart.to_dataframe()?;\n\n// Calculate 20-day moving average\nlet ma20 = df.lazy()\n    .select([\n        col(\"timestamp\"),\n        col(\"close\"),\n        col(\"close\")\n            .rolling_mean(RollingOptionsFixedWindow::default().window_size(20))\n            .alias(\"ma_20\"),\n    ])\n    .collect()?;\n\nprintln!(\"{}\", ma20);\n</code></pre>"},{"location":"library/dataframe/#joining-dataframes","title":"Joining DataFrames","text":"<p>Polars API Updates</p> <p>The join API may require importing additional traits in newer Polars versions. Refer to the Polars Documentation for current API.</p> <pre><code>use polars::prelude::*;\n\nlet aapl_chart = aapl.chart(Interval::OneDay, TimeRange::OneMonth).await?;\nlet aapl_divs = aapl.dividends(TimeRange::OneMonth).await?;\n\nlet price_df = aapl_chart.to_dataframe()?;\nlet div_df = Dividend::vec_to_dataframe(&amp;aapl_divs)?;\n\n// Note: left_join API may require trait imports in newer Polars versions\n// Example: use polars_ops::frame::join::DataFrameJoinOps;\n// let joined = price_df.left_join(&amp;div_df, [\"timestamp\"], [\"timestamp\"])?;\n</code></pre>"},{"location":"library/dataframe/#custom-analysis","title":"Custom Analysis","text":"<pre><code>use polars::prelude::*;\n\nlet df = chart.to_dataframe()?;\n\n// Calculate daily price range as percentage\nlet range_pct = df.lazy()\n    .select([\n        col(\"timestamp\"),\n        col(\"symbol\"),\n        ((col(\"high\") - col(\"low\")) / col(\"close\") * lit(100.0))\n            .alias(\"range_pct\"),\n    ])\n    .collect()?;\n\n// Find days with highest volatility\nlet volatile_days = range_pct.sort(\n    [\"range_pct\"],\n    SortMultipleOptions::default().with_order_descending(true),\n)?\n.head(Some(10));\n\nprintln!(\"Most volatile days:\\n{}\", volatile_days);\n</code></pre>"},{"location":"library/dataframe/#type-conversions","title":"Type Conversions","text":""},{"location":"library/dataframe/#vec-to-dataframe","title":"Vec to DataFrame","text":"<p>Many types support converting <code>Vec&lt;T&gt;</code> to DataFrame:</p> <pre><code>// Vec of dividends to DataFrame\nlet dividends = ticker.dividends(TimeRange::FiveYears).await?;\nlet df = Dividend::vec_to_dataframe(&amp;dividends)?;\n\n// SearchQuotes wrapper has to_dataframe() method\nlet results = finance::search(\"tech\", &amp;SearchOptions::default()).await?;\nlet df = results.quotes.to_dataframe()?;\n</code></pre>"},{"location":"library/dataframe/#single-item-to-dataframe","title":"Single Item to DataFrame","text":"<p>Individual structs create single-row DataFrames:</p> <pre><code>let quote = ticker.quote().await?;\nlet df = quote.to_dataframe()?;  // 1 row, 30+ columns\n</code></pre>"},{"location":"library/dataframe/#error-handling","title":"Error Handling","text":"<p>DataFrame conversion can fail due to Polars errors:</p> <pre><code>use finance_query::Ticker;\nuse polars::prelude::*;\n\nmatch chart.to_dataframe() {\n    Ok(df) =&gt; {\n        println!(\"DataFrame created: {} rows\", df.height());\n    }\n    Err(e) =&gt; {\n        eprintln!(\"DataFrame conversion error: {}\", e);\n    }\n}\n</code></pre>"},{"location":"library/dataframe/#best-practices","title":"Best Practices","text":"<p>Combine with Ticker Caching</p> <p>Ticker instances cache data automatically. Fetch once, convert to DataFrame multiple times without additional API calls:</p> <pre><code>let ticker = Ticker::new(\"AAPL\").await?;\nlet chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n\n// Convert to DataFrame for analysis\nlet df = chart.to_dataframe()?;\n\n// Reuse the same chart data for different analyses\nlet high_volume = df.filter(&amp;df.column(\"volume\")?.gt(50_000_000)?)?;\nlet recent = df.tail(Some(5));\n\n// No additional API calls - data is cached in the Ticker\n</code></pre>"},{"location":"library/dataframe/#next-steps","title":"Next Steps","text":"<ul> <li>Ticker API - Methods that return DataFrame-compatible types</li> <li>Technical Indicators - Convert indicator results to DataFrames for analysis</li> <li>Backtesting - Analyze backtest results in DataFrames</li> <li>Finance Module - Market-wide data with DataFrame support</li> <li>Models - All response types and their structures</li> <li>Polars Documentation - Complete Polars guide</li> </ul>"},{"location":"library/edgar/","title":"EDGAR API Reference","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 edgar</p> <p>The EDGAR module provides access to SEC (Securities and Exchange Commission) EDGAR filings and XBRL financial data. All EDGAR APIs are free and public, requiring only a proper User-Agent header with a contact email.</p> <p>Contact Email Required</p> <p>SEC EDGAR requires all automated requests to include a User-Agent header with a valid contact email address. Call <code>edgar::init(email)</code> once per process.</p>"},{"location":"library/edgar/#initialization","title":"Initialization","text":""},{"location":"library/edgar/#basic-initialization","title":"Basic Initialization","text":"<pre><code>use finance_query::edgar;\n\n// Required: Contact email for SEC compliance\nedgar::init(\"user@example.com\")?;\n</code></pre>"},{"location":"library/edgar/#advanced-configuration","title":"Advanced Configuration","text":"<pre><code>use finance_query::edgar;\nuse std::time::Duration;\n\nedgar::init_with_config(\n    \"user@example.com\",\n    \"my-financial-app\",       // Optional: default is \"finance-query\"\n    Duration::from_secs(60),   // Optional: default is 30 seconds\n)?;\n</code></pre>"},{"location":"library/edgar/#rate-limiting","title":"Rate Limiting","text":"<p>The EDGAR client automatically handles SEC's rate limit of 10 requests per second. You don't need to manage rate limiting manually.</p> <pre><code>// These requests are automatically rate-limited\nlet cik1 = edgar::resolve_cik(\"AAPL\").await?;\nlet cik2 = edgar::resolve_cik(\"MSFT\").await?;\nlet cik3 = edgar::resolve_cik(\"GOOGL\").await?;\n// Executed at max 10 req/sec automatically\n</code></pre>"},{"location":"library/edgar/#ticker-to-cik-resolution","title":"Ticker to CIK Resolution","text":"<p>Convert a stock ticker symbol to its SEC Central Index Key (CIK) number. The ticker-to-CIK mapping is fetched once and cached for the lifetime of the client.</p> <pre><code>use finance_query::edgar;\n\nedgar::init(\"user@example.com\")?;\n\n// Resolve ticker to CIK (cached after first fetch)\nlet cik = edgar::resolve_cik(\"AAPL\").await?;\nprintln!(\"Apple CIK: {}\", cik); // Output: Apple CIK: 320193\n\n// Subsequent lookups use the cache (no network request)\nlet cik2 = edgar::resolve_cik(\"AAPL\").await?; // Instant\n\n// Case-insensitive lookup\nlet cik3 = edgar::resolve_cik(\"aapl\").await?; // Also works\n</code></pre>"},{"location":"library/edgar/#cik-structure","title":"CIK Structure","text":"<p>A CIK is a unique 10-digit identifier assigned by the SEC to companies and individuals who file with the commission. Examples:</p> <ul> <li>Apple Inc.: <code>320193</code></li> <li>Microsoft Corp.: <code>789019</code></li> <li>Alphabet Inc.: <code>1652044</code></li> </ul>"},{"location":"library/edgar/#filing-history-submissions","title":"Filing History (Submissions)","text":"<p>Fetch filing history and company metadata from SEC EDGAR. Returns the most recent ~1000 filings inline, with references to additional history files for older filings.</p> <pre><code>use finance_query::edgar;\n\nedgar::init(\"user@example.com\")?;\n\n// Get CIK first\nlet cik = edgar::resolve_cik(\"AAPL\").await?;\n\n// Fetch filing history\nlet submissions = edgar::submissions(cik).await?;\n\n// Company information\nif let Some(name) = &amp;submissions.name {\n    println!(\"Company: {}\", name);\n}\nif let Some(cik) = &amp;submissions.cik {\n    println!(\"CIK: {}\", cik);\n}\nif let Some(sic) = &amp;submissions.sic {\n    println!(\"SIC: {}\", sic);\n}\nif let Some(fiscal_year_end) = &amp;submissions.fiscal_year_end {\n    println!(\"Fiscal Year End: {}\", fiscal_year_end);\n}\n\n// Recent filings\nif let Some(filings) = &amp;submissions.filings {\n    if let Some(recent) = &amp;filings.recent {\n        for i in 0..5.min(recent.accession_number.len()) {\n            let form = &amp;recent.form[i];\n            let date = &amp;recent.filing_date[i];\n            let accession = &amp;recent.accession_number[i];\n\n            println!(\"{} filed on {}: {}\", form, date, accession);\n        }\n    }\n}\n</code></pre>"},{"location":"library/edgar/#submission-structure","title":"Submission Structure","text":"<p>The <code>EdgarSubmissions</code> response contains:</p> <ul> <li>Company Info: <code>name</code>, <code>cik</code>, <code>sic</code>, <code>sic_description</code>, <code>fiscal_year_end</code></li> <li>Filings: Recent filings with form types, dates, accession numbers, and document URLs</li> <li>History: References to additional filing history files for older filings</li> </ul>"},{"location":"library/edgar/#common-form-types","title":"Common Form Types","text":"<ul> <li>10-K: Annual report with comprehensive company information</li> <li>10-Q: Quarterly report</li> <li>8-K: Current report for major events</li> <li>DEF 14A: Proxy statement for shareholder meetings</li> <li>S-1: Registration statement for IPOs</li> <li>4: Insider trading report</li> </ul>"},{"location":"library/edgar/#company-facts-xbrl-data","title":"Company Facts (XBRL Data)","text":"<p>Fetch structured XBRL financial data from SEC EDGAR. Returns all extracted XBRL facts organized by taxonomy (us-gaap, ifrs, dei). This can be a large response (several MB for major companies).</p> <pre><code>use finance_query::edgar;\n\nedgar::init(\"user@example.com\")?;\n\n// Get CIK\nlet cik = edgar::resolve_cik(\"AAPL\").await?;\n\n// Fetch company facts\nlet facts = edgar::company_facts(cik).await?;\n\n// Access financial data by taxonomy and concept\nif let Some(us_gaap) = facts.facts.get(\"us-gaap\") {\n    // Revenue data (FactsByTaxonomy is a tuple struct, access with .0)\n    if let Some(revenue) = us_gaap.0.get(\"Revenues\") {\n        if let Some(label) = &amp;revenue.label {\n            println!(\"Revenue concept: {}\", label);\n        }\n        if let Some(description) = &amp;revenue.description {\n            println!(\"Description: {}\", description);\n        }\n\n        // Access data points by unit (e.g., USD)\n        if let Some(usd_data) = revenue.units.get(\"USD\") {\n            for point in usd_data.iter().take(5) {\n                if let (Some(fy), Some(val)) = (point.fy, point.val) {\n                    println!(\"FY {}: ${}\", fy, val);\n                }\n            }\n        }\n    }\n\n    // Assets data\n    if let Some(assets) = us_gaap.0.get(\"Assets\") {\n        if let Some(usd_data) = assets.units.get(\"USD\") {\n            for point in usd_data.iter().take(5) {\n                if let (Some(fy), Some(val)) = (point.fy, point.val) {\n                    println!(\"FY {}: ${}\", fy, val);\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"library/edgar/#available-taxonomies","title":"Available Taxonomies","text":"<ul> <li>us-gaap: US Generally Accepted Accounting Principles (most common)</li> <li>ifrs: International Financial Reporting Standards</li> <li>dei: Document and Entity Information (metadata)</li> </ul>"},{"location":"library/edgar/#common-xbrl-concepts","title":"Common XBRL Concepts","text":"<p>Income Statement: - <code>Revenues</code> / <code>RevenueFromContractWithCustomerExcludingAssessedTax</code> - <code>NetIncomeLoss</code> - <code>OperatingIncomeLoss</code> - <code>GrossProfit</code></p> <p>Balance Sheet: - <code>Assets</code> - <code>Liabilities</code> - <code>StockholdersEquity</code> - <code>Cash</code> / <code>CashAndCashEquivalentsAtCarryingValue</code></p> <p>Cash Flow: - <code>NetCashProvidedByUsedInOperatingActivities</code> - <code>NetCashProvidedByUsedInInvestingActivities</code> - <code>NetCashProvidedByUsedInFinancingActivities</code></p>"},{"location":"library/edgar/#full-text-search","title":"Full-Text Search","text":"<p>Search SEC EDGAR filings by text content with optional filters for form type and date range.</p> <pre><code>use finance_query::edgar;\n\nedgar::init(\"user@example.com\")?;\n\n// Basic search\nlet results = edgar::search(\n    \"artificial intelligence\",\n    None,    // No form filter\n    None,    // No start date\n    None,    // No end date\n).await?;\n\n// Display results\nif let Some(hits) = &amp;results.hits {\n    if let Some(total) = &amp;hits.total {\n        if let Some(value) = total.value {\n            println!(\"Total hits: {}\", value);\n        }\n    }\n\n    for hit in &amp;hits.hits {\n        if let Some(source) = &amp;hit._source {\n            let form = source.form.as_deref().unwrap_or(\"Unknown\");\n            let file_date = source.file_date.as_deref().unwrap_or(\"Unknown\");\n\n            println!(\"{} filed on {}\", form, file_date);\n\n            if let Some(names) = &amp;source.display_names {\n                if !names.is_empty() {\n                    println!(\"  Companies: {:?}\", names);\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"library/edgar/#filtered-search","title":"Filtered Search","text":"<pre><code>// Search for 10-K filings only\nlet results = edgar::search(\n    \"machine learning\",\n    Some(&amp;[\"10-K\"]),              // Only 10-K forms\n    Some(\"2024-01-01\"),           // From Jan 1, 2024\n    Some(\"2024-12-31\"),           // To Dec 31, 2024\n).await?;\n</code></pre>"},{"location":"library/edgar/#common-form-filters","title":"Common Form Filters","text":"<pre><code>// Annual reports\nedgar::search(\"query\", Some(&amp;[\"10-K\"]), None, None).await?;\n\n// Quarterly reports\nedgar::search(\"query\", Some(&amp;[\"10-Q\"]), None, None).await?;\n\n// Current events\nedgar::search(\"query\", Some(&amp;[\"8-K\"]), None, None).await?;\n\n// Multiple form types\nedgar::search(\"query\", Some(&amp;[\"10-K\", \"10-Q\", \"8-K\"]), None, None).await?;\n</code></pre>"},{"location":"library/edgar/#complete-example","title":"Complete Example","text":"<p>Here's a complete example combining all EDGAR features:</p> <pre><code>use finance_query::edgar;\n\nasync fn analyze_company(ticker: &amp;str) -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n    // Create EDGAR client\n    edgar::init(\"user@example.com\")?;\n\n    // Step 1: Resolve ticker to CIK\n    println!(\"Resolving {} to CIK...\", ticker);\n    let cik = edgar::resolve_cik(ticker).await?;\n    println!(\"CIK: {}\\n\", cik);\n\n    // Step 2: Get filing history\n    println!(\"Fetching filing history...\");\n    let submissions = edgar::submissions(cik).await?;\n    if let Some(name) = &amp;submissions.name {\n        println!(\"Company: {}\", name);\n    }\n    if let Some(sic_description) = &amp;submissions.sic_description {\n        println!(\"Industry: {}\", sic_description);\n    }\n\n    // Show recent 10-K and 10-Q filings\n    if let Some(filings) = &amp;submissions.filings {\n        if let Some(recent) = &amp;filings.recent {\n            println!(\"\\nRecent filings:\");\n            for i in 0..10.min(recent.form.len()) {\n                let form = &amp;recent.form[i];\n                if form == \"10-K\" || form == \"10-Q\" {\n                    let date = &amp;recent.filing_date[i];\n                    println!(\"  {} filed on {}\", form, date);\n                }\n            }\n        }\n    }\n\n    // Step 3: Get company facts (XBRL data)\n    println!(\"\\nFetching XBRL financial data...\");\n    let facts = edgar::company_facts(cik).await?;\n\n    if let Some(us_gaap) = facts.facts.get(\"us-gaap\") {\n        // Show revenue trend (FactsByTaxonomy is a tuple struct, access with .0)\n        if let Some(revenue) = us_gaap.0.get(\"Revenues\") {\n            if let Some(usd) = revenue.units.get(\"USD\") {\n                println!(\"\\nRevenue Trend:\");\n                for point in usd.iter().take(5) {\n                    if let (Some(fy), Some(val)) = (point.fy, point.val) {\n                        println!(\"  FY {}: ${:&gt;15}\", fy, val);\n                    }\n                }\n            }\n        }\n\n        // Show assets\n        if let Some(assets) = us_gaap.0.get(\"Assets\") {\n            if let Some(usd) = assets.units.get(\"USD\") {\n                println!(\"\\nAssets:\");\n                for point in usd.iter().take(3) {\n                    if let (Some(fy), Some(val)) = (point.fy, point.val) {\n                        println!(\"  FY {}: ${:&gt;15}\", fy, val);\n                    }\n                }\n            }\n        }\n    }\n\n    // Step 4: Search for AI mentions in recent filings\n    println!(\"\\nSearching for 'artificial intelligence' mentions...\");\n    let search_results = edgar::search(\n        \"artificial intelligence\",\n        Some(&amp;[\"10-K\", \"10-Q\"]),\n        Some(\"2024-01-01\"),\n        None,\n    ).await?;\n\n    if let Some(hits) = &amp;search_results.hits {\n        println!(\"Found {} mentions\", hits.total.value);\n    }\n\n    Ok(())\n}\n</code></pre>"},{"location":"library/edgar/#best-practices","title":"Best Practices","text":"<p>EDGAR API Usage</p> <ul> <li>Respect Rate Limits: The client automatically handles the 10 req/sec limit, but avoid making thousands of requests in quick succession</li> <li>Handle Large Responses: Company facts can be several MB. Consider streaming or processing incrementally for large datasets</li> <li>Use Specific Searches: When searching, use form type filters to reduce result size and improve relevance</li> <li>Check Data Availability: Not all companies have complete XBRL data. Always check for <code>None</code> values</li> </ul>"},{"location":"library/edgar/#next-steps","title":"Next Steps","text":"<ul> <li>Ticker API - Yahoo Finance data for real-time quotes and charts</li> <li>Finance Module - Market-wide data (screeners, trending, news)</li> <li>Models Reference - Understanding EDGAR response types</li> <li>Configuration - Network and timeout settings</li> </ul>"},{"location":"library/feeds/","title":"RSS / Atom Feeds","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 feeds</p> <p>Feature flag required</p> <pre><code>finance-query = { version = \"...\", features = [\"rss\"] }\n</code></pre> <p>The <code>feeds</code> module aggregates RSS and Atom news from over 30 named financial sources, or any custom URL. Multiple feeds can be fetched concurrently in a single call with automatic deduplication and chronological sorting.</p> <pre><code>use finance_query::feeds::{self, FeedSource};\n</code></pre>"},{"location":"library/feeds/#fetching-a-single-feed","title":"Fetching a Single Feed","text":"<pre><code>use finance_query::feeds::{self, FeedSource};\n\n// Federal Reserve press releases and speeches\nlet fed_news = feeds::fetch(FeedSource::FederalReserve).await?;\n\nfor entry in fed_news.iter().take(5) {\n    println!(\"{}: {}\", entry.published.as_deref().unwrap_or(\"?\"), entry.title);\n    if let Some(url) = entry.url.as_str().chars().next() {\n        println!(\"  {}\", entry.url);\n    }\n}\n</code></pre>"},{"location":"library/feeds/#fetching-multiple-feeds","title":"Fetching Multiple Feeds","text":"<pre><code>use finance_query::feeds::{self, FeedSource};\n\n// Aggregate multiple sources concurrently\nlet news = feeds::fetch_all(&amp;[\n    FeedSource::FederalReserve,\n    FeedSource::SecPressReleases,\n    FeedSource::MarketWatch,\n    FeedSource::Bloomberg,\n    FeedSource::WsjMarkets,\n]).await?;\n\nprintln!(\"Total entries (deduplicated): {}\", news.len());\nfor entry in news.iter().take(10) {\n    println!(\"[{}] {}: {}\", entry.source, entry.published.as_deref().unwrap_or(\"?\"), entry.title);\n}\n</code></pre> <p><code>fetch_all</code> fetches all sources concurrently, deduplicates by URL, and sorts newest-first where dates are available. Individual feed failures are silently skipped.</p>"},{"location":"library/feeds/#custom-feed-urls","title":"Custom Feed URLs","text":"<pre><code>let custom = feeds::fetch(FeedSource::Custom(\n    \"https://example.com/feed.xml\".to_string()\n)).await?;\n</code></pre>"},{"location":"library/feeds/#feedentry-fields","title":"<code>FeedEntry</code> Fields","text":"Field Type Description <code>title</code> <code>String</code> Article or item title <code>url</code> <code>String</code> Canonical link to the article <code>published</code> <code>Option&lt;String&gt;</code> Publication date/time as RFC 3339 string <code>summary</code> <code>Option&lt;String&gt;</code> Short summary or description <code>source</code> <code>String</code> Human-readable source name (e.g., <code>\"Federal Reserve\"</code>)"},{"location":"library/feeds/#available-feedsource-variants","title":"Available <code>FeedSource</code> Variants","text":""},{"location":"library/feeds/#regulatory-government","title":"Regulatory &amp; Government","text":"Variant Source <code>FederalReserve</code> Federal Reserve press releases and speeches <code>SecPressReleases</code> SEC enforcement actions and rule changes <code>SecFilings(form_type)</code> SEC EDGAR filings by form type (e.g., <code>\"10-K\"</code>, <code>\"8-K\"</code>) <code>Bea</code> US Bureau of Economic Analysis data releases <code>Ecb</code> European Central Bank press releases and speeches <code>Cfpb</code> Consumer Financial Protection Bureau newsroom <code>BankOfEngland</code> Bank of England monetary policy notices"},{"location":"library/feeds/#financial-news","title":"Financial News","text":"Variant Source <code>MarketWatch</code> MarketWatch top stories <code>WsjMarkets</code> Wall Street Journal Markets <code>Bloomberg</code> Bloomberg Markets news <code>FinancialTimes</code> Financial Times Markets section <code>FtLex</code> FT Lex \u2014 daily market commentary column <code>Cnbc</code> CNBC Markets <code>NytBusiness</code> New York Times Business section <code>GuardianBusiness</code> The Guardian Business section <code>Investing</code> Investing.com all news <code>Fortune</code> Fortune \u2014 business and finance news <code>BusinessWire</code> Business Wire \u2014 corporate press releases (earnings, dividends, M&amp;A) <code>TheEconomist</code> The Economist \u2014 global economics <code>FinancialPost</code> Financial Post \u2014 Canadian markets <code>RitholtzBigPicture</code> The Big Picture (Ritholtz) \u2014 macro commentary <code>CalculatedRisk</code> Calculated Risk \u2014 housing, mortgage, macro data"},{"location":"library/feeds/#crypto-tech","title":"Crypto &amp; Tech","text":"Variant Source <code>CoinDesk</code> CoinDesk \u2014 cryptocurrency and blockchain news <code>CoinTelegraph</code> CoinTelegraph \u2014 crypto news and analysis <code>TechCrunch</code> TechCrunch \u2014 startup, VC, and tech news <code>HackerNews</code> Hacker News \u2014 curated tech posts (100+ points) <code>VentureBeat</code> VentureBeat \u2014 AI and enterprise technology <code>YCombinator</code> Y Combinator blog \u2014 startup ecosystem"},{"location":"library/feeds/#international","title":"International","text":"Variant Source <code>Scmp</code> South China Morning Post \u2014 China business and trade <code>NikkeiAsia</code> Nikkei Asia \u2014 Japanese and Asian business news <code>OilPrice</code> OilPrice.com \u2014 energy geopolitics"},{"location":"library/feeds/#custom","title":"Custom","text":"Variant Description <code>Custom(String)</code> Any RSS/Atom feed URL"},{"location":"library/feeds/#example-sec-edgar-filing-feed","title":"Example: SEC EDGAR Filing Feed","text":"<pre><code>use finance_query::feeds::{self, FeedSource};\n\n// Stream the latest 10-K filings\nlet filings = feeds::fetch(FeedSource::SecFilings(\"10-K\".to_string())).await?;\n\nfor f in &amp;filings {\n    println!(\"{}: {}\", f.published.as_deref().unwrap_or(\"?\"), f.title);\n    println!(\"  {}\", f.url);\n}\n</code></pre>"},{"location":"library/feeds/#next-steps","title":"Next Steps","text":"<ul> <li>Finance Module - Financial news via Yahoo Finance</li> <li>EDGAR - Structured SEC filing data with XBRL facts</li> <li>Getting Started - Feature flag setup</li> </ul>"},{"location":"library/finance/","title":"Finance Module","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 finance</p> <p>The <code>finance</code> module provides market-wide operations that don't require a specific stock symbol. Use these functions to search for symbols, get market data, fetch screeners, and more.</p>"},{"location":"library/finance/#search-discovery","title":"Search &amp; Discovery","text":""},{"location":"library/finance/#search","title":"Search","text":"<p>Search for stocks, ETFs, funds, and other securities by name or symbol:</p> <pre><code>use finance_query::{finance, SearchOptions, Region};\n\n// Simple search with defaults\nlet results = finance::search(\"Apple\", &amp;SearchOptions::default()).await?;\nprintln!(\"Found {} results\", results.result_count());\n\nfor quote in &amp;results.quotes {\n    let exchange = quote.exchange.as_deref().unwrap_or(\"N/A\");\n    let name = quote.short_name.as_deref().unwrap_or(\"N/A\");\n    println!(\"{} ({}): {}\", quote.symbol, exchange, name);\n}\n\n// Advanced search with options\nlet options = SearchOptions::new()\n    .quotes_count(10)\n    .news_count(5)\n    .enable_research_reports(true)\n    .enable_fuzzy_query(true)\n    .region(Region::Canada);\n\nlet results = finance::search(\"tesla\", &amp;options).await?;\n</code></pre> <p>SearchOptions Methods:</p> <ul> <li><code>.quotes_count(u32)</code> - Number of quote results (default: 6)</li> <li><code>.news_count(u32)</code> - Number of news results (default: 4)</li> <li><code>.enable_fuzzy_query(bool)</code> - Enable fuzzy matching (default: true)</li> <li><code>.enable_logo_url(bool)</code> - Include logo URLs (default: true)</li> <li><code>.enable_research_reports(bool)</code> - Include research reports (default: false)</li> <li><code>.enable_cultural_assets(bool)</code> - Include cultural assets (default: false)</li> <li><code>.recommend_count(u32)</code> - Number of recommendations (default: 5)</li> <li><code>.region(Region)</code> - Search region (default: US)</li> </ul> <p>SearchResults Fields:</p> <ul> <li><code>quotes</code> - Vec of matching quotes</li> <li><code>news</code> - Vec of related news articles</li> <li><code>research_reports</code> - Optional research reports</li> <li><code>recommendations</code> - Recommended symbols</li> </ul>"},{"location":"library/finance/#lookup","title":"Lookup","text":"<p>Lookup symbols filtered by asset type (equity, ETF, mutual fund, index, etc.):</p> <pre><code>use finance_query::{finance, LookupOptions, LookupType};\n\n// Simple lookup\nlet results = finance::lookup(\"NVDA\", &amp;LookupOptions::default()).await?;\n\n// Lookup equities with logos\nlet options = LookupOptions::new()\n    .lookup_type(LookupType::Equity)\n    .count(10)\n    .include_logo(true);\n\nlet results = finance::lookup(\"tech\", &amp;options).await?;\nfor quote in &amp;results.quotes {\n    let name = quote.short_name.as_deref().unwrap_or(\"N/A\");\n    println!(\"{}: {} - {:?}\", quote.symbol, name, quote.logo_url);\n}\n</code></pre> <p>Available LookupTypes:</p> <ul> <li><code>All</code> - All asset types (default)</li> <li><code>Equity</code> - Stocks</li> <li><code>Etf</code> - Exchange-traded funds</li> <li><code>MutualFund</code> - Mutual funds</li> <li><code>Index</code> - Market indices</li> <li><code>Future</code> - Futures contracts</li> <li><code>Currency</code> - Currencies</li> <li><code>Cryptocurrency</code> - Cryptocurrencies</li> </ul>"},{"location":"library/finance/#market-data","title":"Market Data","text":""},{"location":"library/finance/#market-summary","title":"Market Summary","text":"<p>Get current market summary with major indices, currencies, and commodities:</p> <pre><code>use finance_query::{finance, Region};\n\n// Default (US market)\nlet summary = finance::market_summary(None).await?;\n\n// Specific region\nlet summary = finance::market_summary(Some(Region::Canada)).await?;\n\nfor quote in &amp;summary {\n    let price = quote.regular_market_price.as_ref().and_then(|v| v.raw);\n    let change_pct = quote.regular_market_change_percent.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"{}: ${:?} ({:+.2}%)\", quote.symbol, price, change_pct);\n}\n</code></pre>"},{"location":"library/finance/#trending","title":"Trending","text":"<p>Get trending stocks for a region:</p> <pre><code>let trending = finance::trending(None).await?;\n// Or specify region\nlet trending = finance::trending(Some(Region::Singapore)).await?;\n\nfor quote in &amp;trending {\n    println!(\"{}\", quote.symbol);\n}\n</code></pre>"},{"location":"library/finance/#market-hours","title":"Market Hours","text":"<p>Check market status and trading hours:</p> <pre><code>// US market hours (default)\nlet hours = finance::hours(None).await?;\n\n// Japan market hours\nlet hours = finance::hours(Some(\"JP\")).await?;\n\nfor market in &amp;hours.markets {\n    println!(\"{}: {}\", market.name, market.status);\n    println!(\"  Open: {:?}\", market.open);\n    println!(\"  Close: {:?}\", market.close);\n}\n</code></pre>"},{"location":"library/finance/#indices","title":"Indices","text":"<p>Get quotes for major world indices:</p> <pre><code>use finance_query::{finance, IndicesRegion};\n\n// All world indices\nlet all = finance::indices(None).await?;\nprintln!(\"Fetched {} indices\", all.success_count());\n\n// Only Americas indices (^DJI, ^GSPC, ^IXIC, etc.)\nlet americas = finance::indices(Some(IndicesRegion::Americas)).await?;\nfor (symbol, quote) in &amp;americas.quotes {\n    if let (Some(price_fv), Some(change_pct_fv)) =\n        (&amp;quote.regular_market_price, &amp;quote.regular_market_change_percent) {\n        if let (Some(price), Some(change_pct)) = (price_fv.raw, change_pct_fv.raw) {\n            println!(\"{}: {:.2} ({:+.2}%)\", symbol, price, change_pct);\n        }\n    }\n}\n\n// Other regions\nlet europe = finance::indices(Some(IndicesRegion::Europe)).await?;\nlet asia = finance::indices(Some(IndicesRegion::AsiaPacific)).await?;\n</code></pre> <p>Available Regions:</p> <ul> <li><code>Americas</code> - ^DJI, ^GSPC, ^IXIC, ^RUT, etc.</li> <li><code>Europe</code> - ^FTSE, ^GDAXI, ^FCHI, etc.</li> <li><code>AsiaPacific</code> - ^N225, ^HSI, 000001.SS, etc.</li> <li><code>MiddleEastAfrica</code> - ^TA125.TA, etc.</li> <li><code>Currencies</code> - Major currency pairs</li> </ul>"},{"location":"library/finance/#screeners","title":"Screeners","text":""},{"location":"library/finance/#predefined-screeners","title":"Predefined Screeners","text":"<p>Use Yahoo Finance's predefined screeners:</p> <pre><code>use finance_query::{finance, Screener};\n\n// Top gainers\nlet gainers = finance::screener(Screener::DayGainers, 25).await?;\n\n// Most actives\nlet actives = finance::screener(Screener::MostActives, 25).await?;\n\n// Day losers\nlet losers = finance::screener(Screener::DayLosers, 25).await?;\n\n// Process results\nfor quote in &amp;gainers.quotes {\n    let change_pct = quote.regular_market_change_percent.raw.unwrap_or(0.0);\n    println!(\"{}: {:+.2}%\", quote.symbol, change_pct);\n}\n</code></pre> <p>See Screeners for all 15 <code>Screener</code> variants and the complete list.</p>"},{"location":"library/finance/#custom-screeners","title":"Custom Screeners","text":"<p>Build type-safe screening queries using <code>EquityScreenerQuery</code> or <code>FundScreenerQuery</code>:</p> <pre><code>use finance_query::{finance, EquityScreenerQuery, EquityField, ScreenerFieldExt};\n\n// Find US large-cap tech stocks\nlet query = EquityScreenerQuery::new()\n    .size(50)\n    .sort_by(EquityField::IntradayMarketCap, false)\n    .add_condition(EquityField::Region.eq_str(\"us\"))\n    .add_condition(EquityField::Sector.eq_str(\"Technology\"))\n    .add_condition(EquityField::IntradayMarketCap.gt(10_000_000_000.0))\n    .add_condition(EquityField::AvgDailyVol3M.gt(1_000_000.0));\n\nlet results = finance::custom_screener(query).await?;\nprintln!(\"Found {} stocks\", results.quotes.len());\n</code></pre> <p>Full Screener Reference</p> <p>See Screeners for the complete typed query API, all <code>EquityField</code> variants (80+), fund screener support, OR logic, preset constructors, and more.</p>"},{"location":"library/finance/#sector-industry-data","title":"Sector &amp; Industry Data","text":""},{"location":"library/finance/#sectors","title":"Sectors","text":"<p>Get comprehensive sector data:</p> <pre><code>use finance_query::{finance, Sector};\n\nlet tech = finance::sector(Sector::Technology).await?;\n\nprintln!(\"Sector: {}\", tech.name);\nif let Some(overview) = &amp;tech.overview {\n    if let Some(count) = overview.companies_count {\n        println!(\"  Companies: {}\", count);\n    }\n    if let Some(market_cap_fv) = &amp;overview.market_cap {\n        if let Some(market_cap) = market_cap_fv.raw {\n            println!(\"  Market Cap: ${:.2}B\", market_cap / 1_000_000_000.0);\n        }\n    }\n}\n\n// Top companies in the sector\nprintln!(\"Top companies:\");\nfor company in tech.top_companies.iter().take(10) {\n    println!(\"  {} - {}\", company.symbol, company.name.as_deref().unwrap_or(\"N/A\"));\n}\n\n// Sector ETFs\nprintln!(\"Sector ETFs: {}\", tech.top_etfs.len());\n\n// Industries in this sector\nprintln!(\"Industries: {}\", tech.industries.len());\n</code></pre> <p>Available <code>Sector</code> variants:</p> <ul> <li><code>BasicMaterials</code></li> <li><code>CommunicationServices</code></li> <li><code>ConsumerCyclical</code></li> <li><code>ConsumerDefensive</code></li> <li><code>Energy</code></li> <li><code>FinancialServices</code></li> <li><code>Healthcare</code></li> <li><code>Industrials</code></li> <li><code>RealEstate</code></li> <li><code>Technology</code></li> <li><code>Utilities</code></li> </ul>"},{"location":"library/finance/#industries","title":"Industries","text":"<p>Get detailed industry data:</p> <pre><code>let semiconductors = finance::industry(\"semiconductors\").await?;\n\nprintln!(\"Industry: {}\", semiconductors.name);\nif let Some(overview) = &amp;semiconductors.overview {\n    println!(\"  Companies: {:?}\", overview.companies_count);\n    println!(\"  Market Cap: ${:?}B\", overview.market_cap.map(|m| m / 1e9));\n}\n\n// Top companies\nfor company in semiconductors.top_companies.iter().take(5) {\n    println!(\"  {} - {}\", company.symbol, company.name.as_deref().unwrap_or(\"\"));\n}\n</code></pre> <p>Common Industry Keys:</p> <ul> <li><code>\"semiconductors\"</code> - Semiconductor manufacturers</li> <li><code>\"software-infrastructure\"</code> - Software infrastructure</li> <li><code>\"software-application\"</code> - Application software</li> <li><code>\"electronic-components\"</code> - Electronic components</li> <li><code>\"consumer-electronics\"</code> - Consumer electronics</li> <li><code>\"communication-equipment\"</code> - Communication equipment</li> <li><code>\"internet-content-information\"</code> - Internet content &amp; information</li> </ul> <p>To discover more industry keys, use the <code>sector()</code> function and check the <code>industries</code> field.</p>"},{"location":"library/finance/#news-transcripts","title":"News &amp; Transcripts","text":""},{"location":"library/finance/#general-news","title":"General News","text":"<p>Get general market news:</p> <pre><code>let news = finance::news().await?;\n\nfor article in news.iter().take(10) {\n    println!(\"{}\", article.title);\n    println!(\"  Source: {}\", article.source);\n    println!(\"  Time: {}\", article.time);\n    println!(\"  Link: {}\", article.link);\n}\n</code></pre>"},{"location":"library/finance/#earnings-transcripts","title":"Earnings Transcripts","text":"<p>Fetch earnings call transcripts:</p> <pre><code>// Get the latest transcript\nlet latest = finance::earnings_transcript(\"AAPL\", None, None).await?;\nprintln!(\"Quarter: {} {}\", latest.quarter(), latest.year());\nprintln!(\"Speakers: {}\", latest.transcript_content.speaker_mapping.len());\n\n// Get specific quarter\nlet q4_2024 = finance::earnings_transcript(\"AAPL\", Some(\"Q4\"), Some(2024)).await?;\n\n// Get all available transcripts\nlet all = finance::earnings_transcripts(\"MSFT\", None).await?;\nprintln!(\"Found {} transcripts\", all.len());\n\n// Get only recent transcripts\nlet recent = finance::earnings_transcripts(\"NVDA\", Some(5)).await?;\nfor t in &amp;recent {\n    println!(\"{}: {} {}\", t.title, t.transcript.quarter(), t.transcript.year());\n}\n</code></pre>"},{"location":"library/finance/#market-sentiment","title":"Market Sentiment","text":""},{"location":"library/finance/#fear-greed-index","title":"Fear &amp; Greed Index","text":"<p>Get the current CNN Fear &amp; Greed Index reading from Alternative.me (no API key required):</p> <pre><code>let fg = finance::fear_and_greed().await?;\n\nprintln!(\"Fear &amp; Greed: {} / 100\", fg.value);\nprintln!(\"Classification: {}\", fg.classification.as_str());\n// e.g., \"Extreme Fear\", \"Fear\", \"Neutral\", \"Greed\", \"Extreme Greed\"\n</code></pre> <p><code>FearAndGreed</code> fields:</p> <ul> <li><code>value: u8</code> \u2014 Index value from 0 (Extreme Fear) to 100 (Extreme Greed)</li> <li><code>classification: FearGreedLabel</code> \u2014 One of <code>ExtremeFear</code>, <code>Fear</code>, <code>Neutral</code>, <code>Greed</code>, <code>ExtremeGreed</code></li> <li><code>timestamp: i64</code> \u2014 Unix timestamp when the reading was recorded</li> </ul>"},{"location":"library/finance/#reference-data","title":"Reference Data","text":""},{"location":"library/finance/#exchanges","title":"Exchanges","text":"<p>Get list of supported exchanges with their symbol suffixes:</p> <pre><code>let exchanges = finance::exchanges().await?;\n\nfor exchange in &amp;exchanges {\n    println!(\"{} - {} (suffix: {})\",\n        exchange.country,\n        exchange.market,\n        exchange.suffix\n    );\n}\n</code></pre> <p>Example Output: <pre><code>United States - NYSE (suffix: )\nUnited States - NASDAQ (suffix: )\nTaiwan - Taiwan (suffix: .TW)\nFrance - Paris (suffix: .PA)\nGermany - XETRA (suffix: .DE)\n</code></pre></p>"},{"location":"library/finance/#currencies","title":"Currencies","text":"<p>Get list of available currency pairs:</p> <pre><code>let currencies = finance::currencies().await?;\n\nfor currency in &amp;currencies {\n    let symbol = currency.symbol.as_deref().unwrap_or(\"N/A\");\n    let name = currency.short_name.as_deref().unwrap_or(\"N/A\");\n    println!(\"{}: {}\", symbol, name);\n}\n</code></pre>"},{"location":"library/finance/#next-steps","title":"Next Steps","text":"<ul> <li>Screeners - Full typed screener query builder with all 80+ <code>EquityField</code> variants</li> <li>Ticker API - Symbol-specific operations</li> <li>Batch Tickers - Efficient multi-symbol operations</li> <li>FRED &amp; Treasury - Macro-economic data (requires <code>fred</code> feature)</li> <li>Crypto - CoinGecko cryptocurrency data (requires <code>crypto</code> feature)</li> <li>Feeds - RSS/Atom news aggregation (requires <code>rss</code> feature)</li> <li>DataFrame Support - Convert responses to Polars DataFrames for analysis</li> <li>Models - Understanding response types</li> <li>Configuration - Regional settings and network options</li> </ul>"},{"location":"library/fred/","title":"FRED &amp; Treasury Yields","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 fred</p> <p>Feature flag required</p> <p>Add <code>fred = [\"dep:csv\"]</code> to your <code>Cargo.toml</code> features to enable this module. <pre><code>finance-query = { version = \"...\", features = [\"fred\"] }\n</code></pre></p> <p>The <code>fred</code> module provides two macro-economic data sources:</p> <ul> <li>FRED (Federal Reserve Economic Data) \u2014 800k+ time series including CPI, GDP, unemployment, and monetary indicators. Requires a free API key.</li> <li>US Treasury yields \u2014 Daily yield curve data from the US Treasury Department. No API key required.</li> </ul>"},{"location":"library/fred/#fred-setup","title":"FRED Setup","text":"<p>Get a free API key at fred.stlouisfed.org, then call <code>fred::init</code> once at application startup:</p> <pre><code>use finance_query::fred;\n\n// Initialize with API key\nfred::init(\"your-fred-api-key\")?;\n\n// Optional: initialize with a custom timeout\nuse std::time::Duration;\nfred::init_with_timeout(\"your-fred-api-key\", Duration::from_secs(60))?;\n</code></pre> <p>Warning</p> <p>Calling <code>init</code> more than once returns an error. Call it exactly once per process, typically at startup.</p>"},{"location":"library/fred/#fetching-fred-series","title":"Fetching FRED Series","text":"<pre><code>use finance_query::fred;\n\nfred::init(\"your-fred-api-key\")?;\n\n// Fetch all observations for a series\nlet cpi = fred::series(\"CPIAUCSL\").await?;\n\nprintln!(\"Series: {}\", cpi.id);\nprintln!(\"Observations: {}\", cpi.observations.len());\n\n// Print the last 5 observations\nfor obs in cpi.observations.iter().rev().take(5) {\n    match obs.value {\n        Some(v) =&gt; println!(\"{}: {:.2}\", obs.date, v),\n        None    =&gt; println!(\"{}: N/A\", obs.date),\n    }\n}\n</code></pre> <p>Common FRED Series IDs:</p> Series ID Description <code>\"FEDFUNDS\"</code> Federal Funds Effective Rate <code>\"CPIAUCSL\"</code> Consumer Price Index (all urban, seasonally adjusted) <code>\"CPILFESL\"</code> Core CPI (less food and energy) <code>\"UNRATE\"</code> Unemployment Rate <code>\"GDP\"</code> Gross Domestic Product <code>\"M2SL\"</code> M2 Money Supply <code>\"DGS10\"</code> 10-Year Treasury Constant Maturity Rate <code>\"DGS2\"</code> 2-Year Treasury Constant Maturity Rate <code>\"T10Y2Y\"</code> 10-Year minus 2-Year Treasury spread <code>\"INDPRO\"</code> Industrial Production Index <code>\"HOUST\"</code> Housing Starts <code>\"PAYEMS\"</code> Total Nonfarm Payrolls <code>\"PCE\"</code> Personal Consumption Expenditures <p><code>MacroSeries</code> fields:</p> <ul> <li><code>id: String</code> \u2014 the FRED series ID</li> <li><code>observations: Vec&lt;MacroObservation&gt;</code> \u2014 chronologically ordered data points</li> </ul> <p><code>MacroObservation</code> fields:</p> <ul> <li><code>date: String</code> \u2014 date as <code>YYYY-MM-DD</code></li> <li><code>value: Option&lt;f64&gt;</code> \u2014 <code>None</code> when FRED reports a missing value</li> </ul> <p>Rate limit: 2 requests/second (enforced automatically).</p>"},{"location":"library/fred/#us-treasury-yields","title":"US Treasury Yields","text":"<p>No initialization required. Fetches directly from the US Treasury Department:</p> <pre><code>use finance_query::fred;\n\n// Fetch the full yield curve for a given year\nlet yields = fred::treasury_yields(2025).await?;\n\n// Print the most recent day\nif let Some(latest) = yields.last() {\n    println!(\"Date: {}\", latest.date);\n    println!(\"2Y:  {:?}%\", latest.y2);\n    println!(\"5Y:  {:?}%\", latest.y5);\n    println!(\"10Y: {:?}%\", latest.y10);\n    println!(\"30Y: {:?}%\", latest.y30);\n}\n</code></pre> <p><code>TreasuryYield</code> fields (all yields are <code>Option&lt;f64&gt;</code> in %):</p> Field Maturity <code>y1m</code> 1 month <code>y2m</code> 2 months <code>y3m</code> 3 months <code>y4m</code> 4 months <code>y6m</code> 6 months <code>y1</code> 1 year <code>y2</code> 2 years <code>y3</code> 3 years <code>y5</code> 5 years <code>y7</code> 7 years <code>y10</code> 10 years <code>y20</code> 20 years <code>y30</code> 30 years <p>Dates are formatted as <code>MM/DD/YYYY</code> (the Treasury's native format). Fields are <code>None</code> on days when that maturity is not published.</p>"},{"location":"library/fred/#example-yield-curve-inversion-check","title":"Example: Yield Curve Inversion Check","text":"<pre><code>use finance_query::fred;\n\nlet yields = fred::treasury_yields(2025).await?;\n\nfor y in yields.iter().rev().take(5) {\n    if let (Some(y2), Some(y10)) = (y.y2, y.y10) {\n        let spread = y10 - y2;\n        let label = if spread &lt; 0.0 { \"INVERTED\" } else { \"normal\" };\n        println!(\"{}: 10Y-2Y spread = {:.2}bps ({})\", y.date, spread * 100.0, label);\n    }\n}\n</code></pre>"},{"location":"library/fred/#next-steps","title":"Next Steps","text":"<ul> <li>Finance Module - Market-wide data functions</li> <li>Getting Started - Feature flag setup</li> </ul>"},{"location":"library/getting-started/","title":"Getting Started","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query</p>"},{"location":"library/getting-started/#installation","title":"Installation","text":"<p>Add <code>finance-query</code> to your <code>Cargo.toml</code>:</p> <pre><code>[dependencies]\nfinance-query = \"2.0\"\ntokio = { version = \"1\", features = [\"full\"] }\n</code></pre>"},{"location":"library/getting-started/#optional-features","title":"Optional Features","text":"<pre><code>[dependencies]\nfinance-query = { version = \"2.0\", features = [\"dataframe\", \"backtesting\"] }\n</code></pre> Feature Description <code>dataframe</code> Polars DataFrame integration for data analysis <code>backtesting</code> Strategy backtesting engine (includes <code>indicators</code>) <code>indicators</code> 52+ technical indicators (auto-enabled with <code>backtesting</code>)"},{"location":"library/getting-started/#quick-example","title":"Quick Example","text":"<pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\n#[tokio::main]\nasync fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {\n    let ticker = Ticker::builder(\"AAPL\").logo().build().await?;\n\n    // Get quote\n    let quote = ticker.quote().await?;\n    println!(\"{}: ${:.2}\", quote.symbol, quote.regular_market_price.as_ref().and_then(|v| v.raw).unwrap_or(0.0));\n\n    // Get chart\n    let chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n    println!(\"Candles: {}\", chart.candles.len());\n\n    Ok(())\n}\n</code></pre>"},{"location":"library/getting-started/#key-features","title":"Key Features","text":""},{"location":"library/getting-started/#stock-data-analysis","title":"\ud83d\udcca Stock Data &amp; Analysis","text":"<pre><code>// Quotes, financials, options, news\nlet ticker = Ticker::builder(\"MSFT\").logo().build().await?;\nlet quote = ticker.quote().await?; // fetch quote with logo if available\nlet financials = ticker.financial_data().await?;\nlet options = ticker.options(None).await?;\n</code></pre> <p>\u2192 Ticker API for complete reference</p>"},{"location":"library/getting-started/#batch-operations","title":"\ud83d\udce6 Batch Operations","text":"<pre><code>// Fetch multiple symbols efficiently\nlet tickers = Tickers::builder(vec![\"AAPL\", \"MSFT\", \"GOOGL\"]).logo().build().await?;\nlet quotes = tickers.quotes().await?; // fetch quotes with logos if available\nlet sparks = tickers.spark(Interval::OneDay, TimeRange::FiveDays).await?;\n</code></pre> <p>\u2192 Batch Tickers for multi-symbol operations</p>"},{"location":"library/getting-started/#market-discovery","title":"\ud83d\udd0d Market Discovery","text":"<pre><code>use finance_query::{finance, Screener, SearchOptions};\n\n// Search, screeners, trending stocks\nlet results = finance::search(\"Tesla\", &amp;SearchOptions::default()).await?;\nlet actives = finance::screener(Screener::MostActives, 25).await?;\nlet trending = finance::trending(None).await?;\n</code></pre> <p>\u2192 Finance Module for market-wide data</p>"},{"location":"library/getting-started/#dataframe-support","title":"\ud83d\udcca DataFrame Support","text":"<pre><code>// Convert to Polars DataFrames\nlet chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\nlet df = chart.to_dataframe()?;\n</code></pre> <p>\u2192 DataFrame Support for data analysis</p>"},{"location":"library/getting-started/#technical-indicators","title":"\ud83d\udcc8 Technical Indicators","text":"<pre><code>// 52+ indicators: RSI, MACD, Bollinger Bands, etc.\nlet indicators = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\nif let Some(rsi) = indicators.rsi_14 {\n    println!(\"RSI: {:.2}\", rsi);\n}\n</code></pre> <p>\u2192 Technical Indicators for all available indicators</p>"},{"location":"library/getting-started/#backtesting","title":"\ud83d\udd2c Backtesting","text":"<pre><code>use finance_query::backtesting::SmaCrossover;\n\n// Test strategies against historical data\nlet result = ticker.backtest(\n    SmaCrossover::new(10, 20),\n    Interval::OneDay,\n    TimeRange::OneYear,\n    None,\n).await?;\n\nprintln!(\"Return: {:.2}%\", result.metrics.total_return_pct);\n</code></pre> <p>\u2192 Backtesting for strategy building</p>"},{"location":"library/getting-started/#real-time-streaming","title":"\ud83d\udce1 Real-time Streaming","text":"<pre><code>use finance_query::streaming::PriceStream;\nuse futures::StreamExt;\n\n// Subscribe to real-time price updates via WebSocket\nlet mut stream = PriceStream::subscribe(&amp;[\"AAPL\", \"NVDA\", \"TSLA\"]).await?;\n\nwhile let Some(price) = stream.next().await {\n    println!(\"{}: ${:.2} ({:+.2}%)\",\n        price.id,\n        price.price,\n        price.change_percent\n    );\n}\n</code></pre> <p>\u2192 Real-time Streaming for WebSocket details</p>"},{"location":"library/getting-started/#sec-edgar-filings","title":"\ud83d\udcc1 SEC EDGAR Filings","text":"<pre><code>use finance_query::edgar;\n\n// Init once per process (SEC requires contact email)\nedgar::init(\"user@example.com\")?;\n\n// Resolve ticker to CIK number\nlet cik = edgar::resolve_cik(\"AAPL\").await?;  // 320193\n\n// Fetch all SEC filings metadata\nlet submissions = edgar::submissions(cik).await?;\nif let Some(recent) = submissions.filings.as_ref().and_then(|f| f.recent.as_ref()) {\n    println!(\"Recent filings: {}\", recent.form.len());\n}\n\n// Fetch structured XBRL financial data\nlet facts = edgar::company_facts(cik).await?;\n</code></pre> <p>\u2192 EDGAR Module for SEC filing data</p>"},{"location":"library/getting-started/#risk-analytics","title":"\u26a0\ufe0f Risk Analytics","text":"<pre><code>// VaR, Sharpe/Sortino/Calmar ratio, Beta, max drawdown\nlet summary = ticker.risk(Interval::OneDay, TimeRange::OneYear, Some(\"SPY\")).await?;\n\nprintln!(\"VaR 95%:      {:.2}%\", summary.var_95 * 100.0);\nprintln!(\"Sharpe:       {:.2}\", summary.sharpe.unwrap_or(0.0));\nprintln!(\"Max Drawdown: {:.2}%\", summary.max_drawdown * 100.0);\nprintln!(\"Beta vs SPY:  {:.2}\", summary.beta.unwrap_or(0.0));\n</code></pre> <p>\u2192 Risk Analytics for portfolio risk metrics</p>"},{"location":"library/getting-started/#next-steps","title":"Next Steps","text":"<p>Start Here:</p> <ul> <li>Ticker API - Single symbol operations</li> <li>Technical Indicators - RSI, MACD, Bollinger Bands, and more</li> <li>Backtesting - Test trading strategies</li> </ul> <p>Advanced:</p> <ul> <li>Batch Tickers - Multi-symbol efficiency</li> <li>Finance Module - Market-wide searches</li> <li>DataFrame Support - Data analysis with Polars</li> <li>Configuration - Regional settings and customization</li> <li>Models Reference - Response type documentation</li> <li>Real-time Streaming - WebSocket price feeds</li> <li>SEC EDGAR - SEC filings and XBRL data</li> <li>Risk Analytics - Portfolio risk metrics</li> </ul>"},{"location":"library/indicators/","title":"Indicators","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 indicators</p> <p>Access 42 technical indicators and 20 candlestick patterns calculated from historical price data.</p>"},{"location":"library/indicators/#enable-feature","title":"Enable Feature","text":"<p>Add the <code>indicators</code> feature to your <code>Cargo.toml</code>:</p> <pre><code>[dependencies]\nfinance-query = { version = \"2\", features = [\"indicators\"] }\n</code></pre> <p>Or enable it alongside other features:</p> <pre><code>[dependencies]\nfinance-query = { version = \"2\", features = [\"dataframe\", \"indicators\"] }\n</code></pre>"},{"location":"library/indicators/#getting-started","title":"Getting Started","text":"<p>Fetch indicators for a symbol:</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet indicators = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\nprintln!(\"RSI(14): {:?}\", indicators.rsi_14);\nprintln!(\"SMA(200): {:?}\", indicators.sma_200);\nprintln!(\"MACD: {:?}\", indicators.macd);\n</code></pre>"},{"location":"library/indicators/#three-ways-to-calculate-indicators","title":"Three Ways to Calculate Indicators","text":"<p>Finance Query provides three approaches for calculating indicators, each suited for different use cases:</p> <p>Decision Matrix</p> Approach Use Case Custom Periods Data Source Caching Summary API Multiple indicators, dashboards \u2717 Fixed only Automatic \u2713 Yes Chart Methods Few indicators, custom periods \u2713 Yes Chart data \u2717 No Direct Functions Advanced, backtesting, custom data \u2713 Yes Any Vec \u2717 No"},{"location":"library/indicators/#1-summary-api","title":"1. Summary API","text":"<p>Get all indicators pre-calculated with standard periods. Best for dashboards and analysis requiring many indicators.</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet indicators = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// All indicators calculated at once with standard periods\nprintln!(\"RSI(14): {:?}\", indicators.rsi_14);\nprintln!(\"SMA(200): {:?}\", indicators.sma_200);\nprintln!(\"MACD: {:?}\", indicators.macd);\n</code></pre>"},{"location":"library/indicators/#2-chart-extension-methods","title":"2. Chart Extension Methods","text":"<p>Call indicators directly on chart data with custom periods. Best when you need specific periods or a few indicators.</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet chart = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// Calculate indicators with custom periods\nlet sma_15 = chart.sma(15);           // Custom period: 15\nlet rsi_21 = chart.rsi(21)?;          // Custom period: 21\nlet macd = chart.macd(12, 26, 9)?;    // Custom MACD parameters\n\n// Access the last value\nif let Some(&amp;last_sma) = sma_15.last().and_then(|v| v.as_ref()) {\n    println!(\"Latest SMA(15): {:.2}\", last_sma);\n}\n\n// Candlestick patterns (same chart, no extra request)\nlet signals = chart.patterns();\n</code></pre>"},{"location":"library/indicators/#3-direct-indicator-functions","title":"3. Direct Indicator Functions","text":"<p>Call raw indicator functions on price arrays. Best for custom data sources, backtesting, or advanced use cases.</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\nuse finance_query::indicators::{sma, rsi, macd};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet chart = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// Extract price data (convenience methods on Chart)\nlet closes: Vec&lt;f64&gt; = chart.close_prices();\nlet highs: Vec&lt;f64&gt; = chart.high_prices();\nlet lows: Vec&lt;f64&gt; = chart.low_prices();\n\n// Calculate indicators directly\nlet sma_25 = sma(&amp;closes, 25);                    // Returns Vec&lt;Option&lt;f64&gt;&gt;\nlet rsi_10 = rsi(&amp;closes, 10)?;                   // Returns Result&lt;Vec&lt;Option&lt;f64&gt;&gt;&gt;\nlet macd_result = macd(&amp;closes, 12, 26, 9)?;      // Returns Result&lt;MacdResult&gt;\n\n// Access results\nif let Some(&amp;last_rsi) = rsi_10.last().and_then(|v| v.as_ref()) {\n    println!(\"RSI(10): {:.2}\", last_rsi);\n}\n\n// MACD returns a struct with three series\nif let Some(&amp;last_macd) = macd_result.macd_line.last().and_then(|v| v.as_ref()) {\n    println!(\"MACD Line: {:.4}\", last_macd);\n}\n</code></pre>"},{"location":"library/indicators/#working-with-compound-indicators","title":"Working with Compound Indicators","text":"<p>Some indicators return multiple series in a result struct. Here's how to use them with direct functions:</p> <pre><code>use finance_query::indicators::{bollinger_bands, stochastic, macd};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet chart = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\nlet closes = chart.close_prices();\nlet highs = chart.high_prices();\nlet lows = chart.low_prices();\n\n// Bollinger Bands - returns BollingerBands struct\nlet bb = bollinger_bands(&amp;closes, 20, 2.0)?;\nif let Some(&amp;upper) = bb.upper.last().and_then(|v| v.as_ref()) {\n    if let Some(&amp;middle) = bb.middle.last().and_then(|v| v.as_ref()) {\n        if let Some(&amp;lower) = bb.lower.last().and_then(|v| v.as_ref()) {\n            println!(\"BB: Upper={:.2}, Middle={:.2}, Lower={:.2}\", upper, middle, lower);\n        }\n    }\n}\n\n// Stochastic Oscillator - returns StochasticResult struct\nlet stoch = stochastic(&amp;highs, &amp;lows, &amp;closes, 14, 3)?;\nif let Some(&amp;k) = stoch.k.last().and_then(|v| v.as_ref()) {\n    if let Some(&amp;d) = stoch.d.last().and_then(|v| v.as_ref()) {\n        println!(\"Stochastic: %K={:.2}, %D={:.2}\", k, d);\n    }\n}\n\n// MACD - returns MacdResult struct\nlet macd_data = macd(&amp;closes, 12, 26, 9)?;\nif let Some(&amp;line) = macd_data.macd_line.last().and_then(|v| v.as_ref()) {\n    if let Some(&amp;signal) = macd_data.signal_line.last().and_then(|v| v.as_ref()) {\n        if let Some(&amp;hist) = macd_data.histogram.last().and_then(|v| v.as_ref()) {\n            println!(\"MACD: Line={:.4}, Signal={:.4}, Histogram={:.4}\", line, signal, hist);\n        }\n    }\n}\n</code></pre>"},{"location":"library/indicators/#available-result-structs","title":"Available Result Structs","text":"<p>Direct indicator functions return these result types:</p> <ul> <li>Simple indicators (SMA, EMA, RSI, ATR): <code>Vec&lt;Option&lt;f64&gt;&gt;</code></li> <li>MACD: <code>MacdResult { macd_line, signal_line, histogram }</code></li> <li>Bollinger Bands: <code>BollingerBands { upper, middle, lower }</code></li> <li>Stochastic: <code>StochasticResult { k, d }</code></li> <li>Aroon: <code>AroonResult { aroon_up, aroon_down }</code></li> <li>SuperTrend: <code>SuperTrendResult { value, is_uptrend }</code></li> <li>Ichimoku: <code>IchimokuResult { conversion_line, base_line, leading_span_a, leading_span_b, lagging_span }</code></li> <li>Keltner Channels: <code>KeltnerChannelsResult { upper, middle, lower }</code></li> <li>Donchian Channels: <code>DonchianChannelsResult { upper, middle, lower }</code></li> <li>Bull/Bear Power: <code>BullBearPowerResult { bull_power, bear_power }</code></li> <li>Elder Ray: <code>ElderRayResult { bull_power, bear_power }</code></li> </ul>"},{"location":"library/indicators/#available-indicators","title":"Available Indicators","text":"<p>All indicators return <code>Option&lt;T&gt;</code> \u2014 <code>None</code> when there is insufficient data to calculate.</p>"},{"location":"library/indicators/#moving-averages","title":"Moving Averages","text":"<p>Simple, exponential, and specialized moving averages for trend identification.</p> <p>Simple Moving Averages (SMA): <code>sma_10</code>, <code>sma_20</code>, <code>sma_50</code>, <code>sma_100</code>, <code>sma_200</code></p> <p>Exponential Moving Averages (EMA): <code>ema_10</code>, <code>ema_20</code>, <code>ema_50</code>, <code>ema_100</code>, <code>ema_200</code></p> <p>Weighted Moving Averages (WMA): <code>wma_10</code>, <code>wma_20</code>, <code>wma_50</code>, <code>wma_100</code>, <code>wma_200</code></p> <p>Advanced Moving Averages:</p> <ul> <li><code>dema_20</code> - Double Exponential Moving Average</li> <li><code>tema_20</code> - Triple Exponential Moving Average</li> <li><code>hma_20</code> - Hull Moving Average</li> <li><code>vwma_20</code> - Volume Weighted Moving Average</li> <li><code>alma_9</code> - Arnaud Legoux Moving Average</li> <li><code>mcginley_dynamic_20</code> - McGinley Dynamic</li> </ul>"},{"location":"library/indicators/#momentum-oscillators","title":"Momentum Oscillators","text":"<p>Measure rate of change and momentum for entry/exit signals.</p> <ul> <li><code>rsi_14</code> - Relative Strength Index</li> <li><code>stochastic</code> - Stochastic Oscillator (K and D lines)</li> <li><code>stochastic_rsi</code> - Stochastic RSI</li> <li><code>cci_20</code> - Commodity Channel Index</li> <li><code>williams_r_14</code> - Williams %R</li> <li><code>roc_12</code> - Rate of Change</li> <li><code>momentum_10</code> - Momentum</li> <li><code>cmo_14</code> - Chande Momentum Oscillator</li> <li><code>awesome_oscillator</code> - Bill Williams Awesome Oscillator</li> <li><code>coppock_curve</code> - Coppock Curve</li> </ul>"},{"location":"library/indicators/#trend-indicators","title":"Trend Indicators","text":"<p>Identify trend direction and strength.</p> <ul> <li><code>macd</code> - MACD (line, signal, histogram)</li> <li><code>adx_14</code> - Average Directional Index</li> <li><code>aroon</code> - Aroon Up/Down</li> <li><code>supertrend</code> - Supertrend (value, trend direction)</li> <li><code>ichimoku</code> - Ichimoku Cloud (multiple components)</li> <li><code>parabolic_sar</code> - Parabolic SAR</li> <li><code>bull_bear_power</code> - Bull and Bear Power</li> <li><code>elder_ray_index</code> - Elder Ray Index (bull power, bear power)</li> </ul>"},{"location":"library/indicators/#volatility-indicators","title":"Volatility Indicators","text":"<p>Measure price volatility and support/resistance levels.</p> <ul> <li><code>bollinger_bands</code> - Bollinger Bands (upper, middle, lower)</li> <li><code>keltner_channels</code> - Keltner Channels (upper, middle, lower)</li> <li><code>donchian_channels</code> - Donchian Channels (upper, lower)</li> <li><code>atr_14</code> - Average True Range</li> <li><code>true_range</code> - True Range (raw)</li> <li><code>choppiness_index_14</code> - Choppiness Index</li> </ul>"},{"location":"library/indicators/#volume-indicators","title":"Volume Indicators","text":"<p>Analyze volume patterns and accumulation/distribution.</p> <ul> <li><code>obv</code> - On-Balance Volume</li> <li><code>mfi_14</code> - Money Flow Index</li> <li><code>cmf_20</code> - Chaikin Money Flow</li> <li><code>chaikin_oscillator</code> - Chaikin Oscillator</li> <li><code>accumulation_distribution</code> - Accumulation/Distribution Line</li> <li><code>vwap</code> - Volume Weighted Average Price</li> <li><code>balance_of_power</code> - Balance of Power</li> </ul>"},{"location":"library/indicators/#candlestick-patterns","title":"Candlestick Patterns","text":"<p>Detect 20 classic candlestick patterns across an entire chart in one call.</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\nuse finance_query::indicators::{patterns, CandlePattern, PatternSentiment};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet chart = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// Via Chart extension method \u2014 same length as chart.candles\nlet signals = chart.patterns();\n\n// Or call the function directly with a candle slice\nlet signals = patterns(&amp;chart.candles);\n\n// Each slot is Some(pattern) or None; iterate with candles for context\nfor (candle, pattern) in chart.candles.iter().zip(signals.iter()) {\n    if let Some(p) = pattern {\n        println!(\n            \"timestamp={}: {:?} ({:?})\",\n            candle.timestamp, p, p.sentiment()\n        );\n    }\n}\n</code></pre> <p>Pattern catalogue:</p> Bars Pattern Signal 3 <code>MorningStar</code> Bullish reversal 3 <code>EveningStar</code> Bearish reversal 3 <code>ThreeWhiteSoldiers</code> Bullish continuation 3 <code>ThreeBlackCrows</code> Bearish continuation 2 <code>BullishEngulfing</code> Bullish reversal 2 <code>BearishEngulfing</code> Bearish reversal 2 <code>BullishHarami</code> Bullish reversal 2 <code>BearishHarami</code> Bearish reversal 2 <code>PiercingLine</code> Bullish reversal 2 <code>DarkCloudCover</code> Bearish reversal 2 <code>TweezerBottom</code> Bullish reversal at support 2 <code>TweezerTop</code> Bearish reversal at resistance 1 <code>Hammer</code> Bullish reversal (requires prior downtrend) 1 <code>InvertedHammer</code> Bullish reversal (requires prior downtrend) 1 <code>HangingMan</code> Bearish reversal (requires prior uptrend) 1 <code>ShootingStar</code> Bearish reversal (requires prior uptrend) 1 <code>BullishMarubozu</code> Bullish momentum 1 <code>BearishMarubozu</code> Bearish momentum 1 <code>Doji</code> Indecision 1 <code>SpinningTop</code> Indecision <p>Key design notes:</p> <ul> <li>Priority chain: three-bar wins over two-bar wins over one-bar. Each candle slot holds at most one pattern.</li> <li>Trend-aware: <code>Hammer</code> / <code>HangingMan</code> and <code>InvertedHammer</code> / <code>ShootingStar</code> are the same physical shape \u2014 context (prior 3-bar trend) determines which label is assigned.</li> <li>Harami Cross: A Doji inside a large body is classified as <code>BullishHarami</code> / <code>BearishHarami</code> \u2014 this is the stronger variant per Nison's definition; no separate variant needed.</li> <li>Alignment: output is always <code>Vec&lt;Option&lt;CandlePattern&gt;&gt;</code> of the same length as the input candle slice.</li> </ul>"},{"location":"library/indicators/#using-patternsentiment","title":"Using PatternSentiment","text":"<pre><code>let signals = chart.patterns();\n\nlet bullish = signals.iter().filter(|s| {\n    s.map(|p| p.sentiment() == PatternSentiment::Bullish).unwrap_or(false)\n}).count();\n\nlet bearish = signals.iter().filter(|s| {\n    s.map(|p| p.sentiment() == PatternSentiment::Bearish).unwrap_or(false)\n}).count();\n\nprintln!(\"Bull/Bear ratio: {}/{}\", bullish, bearish);\n</code></pre>"},{"location":"library/indicators/#combining-patterns-with-indicators","title":"Combining Patterns with Indicators","text":"<pre><code>let chart = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\nlet rsi = chart.rsi(14)?;\nlet signals = chart.patterns();\n\n// Find bars where RSI is oversold AND a bullish pattern just completed\nfor (i, (pattern, rsi_val)) in signals.iter().zip(rsi.iter()).enumerate() {\n    let is_bullish_pattern = pattern\n        .map(|p| p.sentiment() == PatternSentiment::Bullish)\n        .unwrap_or(false);\n    let is_oversold = rsi_val.map(|r| r &lt; 30.0).unwrap_or(false);\n\n    if is_bullish_pattern &amp;&amp; is_oversold {\n        println!(\n            \"Strong buy signal at bar {}: {:?} with RSI={:.1}\",\n            i,\n            pattern.unwrap(),\n            rsi_val.unwrap()\n        );\n    }\n}\n</code></pre>"},{"location":"library/indicators/#working-with-indicator-results","title":"Working with Indicator Results","text":"<p>Different indicators return different types. Simple indicators return <code>Option&lt;f64&gt;</code>, while compound indicators return special struct types:</p> <pre><code>// Simple indicators (Option&lt;f64&gt;)\nif let Some(rsi) = indicators.rsi_14 {\n    println!(\"RSI(14): {:.2}\", rsi);\n    if rsi &lt; 30.0 {\n        println!(\"  Oversold\");\n    } else if rsi &gt; 70.0 {\n        println!(\"  Overbought\");\n    }\n}\n\n// Moving averages\nif let Some(sma200) = indicators.sma_200 {\n    println!(\"SMA(200): {:.2}\", sma200);\n}\n\n// MACD (compound - MacdData struct)\nif let Some(macd) = indicators.macd {\n    if let Some(line) = macd.macd {\n        println!(\"MACD Line: {:.4}\", line);\n    }\n    if let Some(signal) = macd.signal {\n        println!(\"Signal: {:.4}\", signal);\n    }\n    if let Some(histogram) = macd.histogram {\n        println!(\"Histogram: {:.4}\", histogram);\n    }\n}\n\n// Stochastic (StochasticData struct)\nif let Some(stoch) = indicators.stochastic {\n    if let Some(k) = stoch.k {\n        println!(\"%K: {:.2}\", k);\n    }\n    if let Some(d) = stoch.d {\n        println!(\"%D: {:.2}\", d);\n    }\n}\n\n// Bollinger Bands (BollingerBandsData struct)\nif let Some(bb) = indicators.bollinger_bands {\n    if let Some(upper) = bb.upper {\n        println!(\"Upper: {:.2}\", upper);\n    }\n    if let Some(middle) = bb.middle {\n        println!(\"Middle: {:.2}\", middle);\n    }\n    if let Some(lower) = bb.lower {\n        println!(\"Lower: {:.2}\", lower);\n    }\n}\n\n// Aroon (AroonData struct)\nif let Some(aroon) = indicators.aroon {\n    if let Some(up) = aroon.aroon_up {\n        println!(\"Aroon Up: {:.2}\", up);\n    }\n    if let Some(down) = aroon.aroon_down {\n        println!(\"Aroon Down: {:.2}\", down);\n    }\n}\n\n// Ichimoku (IchimokuData struct)\nif let Some(ichimoku) = indicators.ichimoku {\n    if let Some(conversion) = ichimoku.conversion_line {\n        println!(\"Conversion Line: {:.2}\", conversion);\n    }\n    if let Some(base) = ichimoku.base_line {\n        println!(\"Base Line: {:.2}\", base);\n    }\n}\n</code></pre>"},{"location":"library/indicators/#converting-to-dataframe","title":"Converting to DataFrame","text":"<p>Convert all indicators to a Polars DataFrame for analysis:</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\nlet indicators = ticker.indicators(\n    Interval::OneDay,\n    TimeRange::ThreeMonths\n).await?;\n\nlet df = indicators.to_dataframe()?;\nprintln!(\"{}\", df);\n</code></pre>"},{"location":"library/indicators/#caching-behavior","title":"Caching Behavior","text":"<p>Indicators are cached by (interval, range) combination:</p> <pre><code>// First call fetches and caches\nlet ind1 = ticker.indicators(Interval::OneDay, TimeRange::OneMonth).await?;\n\n// Second call returns cached result\nlet ind2 = ticker.indicators(Interval::OneDay, TimeRange::OneMonth).await?;\n\n// Different range: fetches new data\nlet ind3 = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n</code></pre>"},{"location":"library/indicators/#common-patterns","title":"Common Patterns","text":""},{"location":"library/indicators/#trend-confirmation-with-multiple-mas","title":"Trend Confirmation with Multiple MAs","text":"<pre><code>let indicators = ticker.indicators(Interval::OneDay, TimeRange::OneYear).await?;\n\nlet sma_200 = indicators.sma_200.unwrap_or(0.0);\nlet ema_50 = indicators.ema_50.unwrap_or(0.0);\nlet ema_20 = indicators.ema_20.unwrap_or(0.0);\n\nif ema_20 &gt; ema_50 &amp;&amp; ema_50 &gt; sma_200 {\n    println!(\"Uptrend confirmed\");\n}\n</code></pre>"},{"location":"library/indicators/#rsi-extremes","title":"RSI Extremes","text":"<pre><code>if let Some(rsi) = indicators.rsi_14 {\n    if rsi &lt; 30.0 {\n        println!(\"Oversold\");\n    } else if rsi &gt; 70.0 {\n        println!(\"Overbought\");\n    }\n}\n</code></pre>"},{"location":"library/indicators/#macd-crossover","title":"MACD Crossover","text":"<pre><code>if let Some(macd) = indicators.macd {\n    if let (Some(line), Some(signal)) = (macd.macd, macd.signal) {\n        if line &gt; signal {\n            println!(\"Bullish MACD crossover\");\n        } else {\n            println!(\"Bearish MACD crossover\");\n        }\n    }\n}\n</code></pre>"},{"location":"library/indicators/#best-practices","title":"Best Practices","text":"<p>Optimize Performance and Data Usage</p> <ul> <li>Store indicator results - Indicators are calculated fresh each time, so store the result if accessing multiple values</li> <li>Underlying chart data is cached - Same <code>(interval, range)</code> avoids network requests but still recalculates indicators</li> <li>Fetch appropriate ranges - Use the minimum time range needed for your indicators to calculate</li> <li>Check for None - Always pattern match on <code>Option&lt;T&gt;</code> before using indicator values</li> <li>Ensure sufficient data - Indicators require minimum data points to calculate:<ul> <li>Most 14-period indicators need 14+ candles</li> <li>MACD needs ~26+ candles (slow EMA period)</li> <li>Ichimoku needs ~26+ candles</li> <li>Short-period indicators (SMA/EMA 10) need at least 10 candles</li> <li>Candlestick patterns need 3+ candles for three-bar patterns</li> <li>If insufficient data, the indicator returns <code>None</code></li> </ul> </li> </ul> <pre><code>// Good: Store result once, access multiple indicators\nlet indicators = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\nif let Some(rsi) = indicators.rsi_14 {\n    if rsi &lt; 30.0 {\n        // Oversold - check other indicators from same result\n        if let Some(macd) = &amp;indicators.macd {\n            if let (Some(line), Some(signal)) = (macd.macd, macd.signal) {\n                if line &gt; signal {\n                    println!(\"Potential buy: RSI oversold + MACD bullish\");\n                }\n            }\n        }\n    }\n}\n\n// Less efficient: Multiple calls recalculate all indicators\nlet rsi_result = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\nif let Some(rsi) = rsi_result.rsi_14 { /* ... */ }\nlet macd_result = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n// Still wastes CPU recalculating all indicators\n</code></pre>"},{"location":"library/indicators/#next-steps","title":"Next Steps","text":"<ul> <li>Backtesting - Use indicators in custom trading strategies</li> <li>Ticker API - Complete reference for fetching indicators and other data</li> <li>DataFrame Support - Convert indicator results to Polars DataFrames for analysis</li> <li>Models Reference - Understanding indicator data structures</li> </ul>"},{"location":"library/risk/","title":"Risk Analytics","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 risk</p> <p>Feature flag required</p> <p>The <code>risk</code> feature implies <code>indicators</code>. <pre><code>finance-query = { version = \"...\", features = [\"risk\"] }\n</code></pre></p> <p>The <code>risk</code> module computes portfolio risk metrics from historical price data: Value at Risk, Sharpe/Sortino/Calmar ratios, beta, and maximum drawdown. All metrics are available through the <code>Ticker</code> API or as standalone functions.</p>"},{"location":"library/risk/#via-ticker","title":"Via Ticker","text":"<pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\n\n// Risk summary over the past year vs S&amp;P 500 as benchmark\nlet summary = ticker.risk(Interval::OneDay, TimeRange::OneYear, Some(\"^GSPC\")).await?;\n\n// Without a benchmark (beta will be None)\nlet summary = ticker.risk(Interval::OneDay, TimeRange::OneYear, None).await?;\n</code></pre>"},{"location":"library/risk/#risksummary-fields","title":"<code>RiskSummary</code> Fields","text":"Field Type Description <code>var_95</code> <code>f64</code> 1-day historical VaR at 95% confidence (positive loss fraction) <code>var_99</code> <code>f64</code> 1-day historical VaR at 99% confidence <code>parametric_var_95</code> <code>f64</code> 1-day parametric VaR at 95% (assumes normal distribution) <code>sharpe</code> <code>Option&lt;f64&gt;</code> Annualised Sharpe ratio (risk-free rate = 0, 252 days/year); <code>None</code> if fewer than 2 periods or zero volatility <code>sortino</code> <code>Option&lt;f64&gt;</code> Annualised Sortino ratio (penalises downside only); <code>None</code> if insufficient data <code>calmar</code> <code>Option&lt;f64&gt;</code> Calmar ratio (annualised return / max drawdown); <code>None</code> if drawdown is zero <code>beta</code> <code>Option&lt;f64&gt;</code> Beta vs benchmark; <code>None</code> if no benchmark provided or insufficient data <code>max_drawdown</code> <code>f64</code> Maximum drawdown as a positive fraction (e.g., <code>0.30</code> = 30%) <code>max_drawdown_recovery_periods</code> <code>Option&lt;u64&gt;</code> Trading periods to recover from max drawdown; <code>None</code> if no recovery in window"},{"location":"library/risk/#example-full-risk-report","title":"Example: Full Risk Report","text":"<pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"NVDA\").await?;\nlet risk = ticker.risk(Interval::OneDay, TimeRange::TwoYears, Some(\"^GSPC\")).await?;\n\nprintln!(\"=== Risk Report: NVDA (2Y daily) ===\");\nprintln!(\"VaR 95%:       {:.2}%\", risk.var_95 * 100.0);\nprintln!(\"VaR 99%:       {:.2}%\", risk.var_99 * 100.0);\nprintln!(\"Param VaR 95%: {:.2}%\", risk.parametric_var_95 * 100.0);\nprintln!(\"Max Drawdown:  {:.2}%\", risk.max_drawdown * 100.0);\n\nif let Some(periods) = risk.max_drawdown_recovery_periods {\n    println!(\"Recovery:      {} trading days\", periods);\n} else {\n    println!(\"Recovery:      no full recovery in window\");\n}\n\nif let Some(sharpe) = risk.sharpe {\n    println!(\"Sharpe:        {:.2}\", sharpe);\n}\nif let Some(sortino) = risk.sortino {\n    println!(\"Sortino:       {:.2}\", sortino);\n}\nif let Some(calmar) = risk.calmar {\n    println!(\"Calmar:        {:.2}\", calmar);\n}\nif let Some(beta) = risk.beta {\n    println!(\"Beta (vs SPX): {:.2}\", beta);\n}\n</code></pre>"},{"location":"library/risk/#standalone-functions","title":"Standalone Functions","text":"<p>The individual metric functions are available in <code>finance_query::risk</code> for direct use on raw return series:</p> <pre><code>use finance_query::risk::{\n    historical_var,\n    parametric_var,\n    sharpe_ratio,\n    sortino_ratio,\n    calmar_ratio,\n    beta,\n    max_drawdown,\n};\n\n// Prepare your own returns (close-to-close, e.g. [0.01, -0.02, ...])\nlet returns: Vec&lt;f64&gt; = vec![/* ... */];\nlet benchmark_returns: Vec&lt;f64&gt; = vec![/* ... */];\n\n// Value at Risk\nlet var_95 = historical_var(&amp;returns, 0.95)?;\nlet var_99 = historical_var(&amp;returns, 0.99)?;\nlet pvar   = parametric_var(&amp;returns, 0.95)?;\n\n// Risk-adjusted returns (annualised, rf=0, 252 trading days)\nlet sharpe  = sharpe_ratio(&amp;returns, 0.0, 252.0);\nlet sortino = sortino_ratio(&amp;returns, 0.0, 252.0);\n\n// Max drawdown &amp; Calmar\nlet dd = max_drawdown(&amp;returns);\n// dd.max_drawdown: f64 (positive fraction)\n// dd.recovery_periods: Option&lt;u64&gt;\nlet annualised_return = 0.25;  // your computed value\nlet years = returns.len() as f64 / 252.0;\nlet calmar = calmar_ratio(annualised_return, years, dd.max_drawdown);\n\n// Beta\nlet b = beta(&amp;returns, &amp;benchmark_returns);\n</code></pre>"},{"location":"library/risk/#metric-definitions","title":"Metric Definitions","text":"<p>Value at Risk (VaR) \u2014 the maximum expected loss over one trading day at the given confidence level. - Historical VaR: computed from the empirical return distribution (no distributional assumption). - Parametric VaR: assumes normally distributed returns; uses mean and standard deviation.</p> <p>Sharpe Ratio \u2014 <code>(mean_return - rf) / std_dev * sqrt(periods_per_year)</code>. Higher is better. Penalises all volatility equally.</p> <p>Sortino Ratio \u2014 like Sharpe but only penalises downside (negative) returns. More appropriate for skewed return distributions.</p> <p>Calmar Ratio \u2014 <code>annualised_return / max_drawdown</code>. Measures return per unit of drawdown risk.</p> <p>Beta \u2014 covariance of returns with the benchmark divided by the benchmark variance. A beta &gt; 1 indicates the asset amplifies market moves.</p> <p>Maximum Drawdown \u2014 the largest peak-to-trough decline in the return series, expressed as a positive fraction.</p>"},{"location":"library/risk/#next-steps","title":"Next Steps","text":"<ul> <li>Ticker API - Full Ticker method reference including <code>risk()</code></li> <li>Backtesting - Strategy testing with built-in risk metrics</li> <li>Indicators - Technical indicators that inform risk assessment</li> </ul>"},{"location":"library/screeners/","title":"Screeners","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 finance::screener</p> <p>The screener API lets you filter stocks and mutual funds by hundreds of financial criteria. FinanceQuery supports both Yahoo Finance's predefined screeners and a fully typed custom screener query builder that gives you IDE autocomplete and compile-time field safety.</p>"},{"location":"library/screeners/#predefined-screeners","title":"Predefined Screeners","text":"<p>Yahoo Finance maintains a set of curated screeners. Pass a <code>Screener</code> variant and a result count to <code>finance::screener</code>:</p> <pre><code>use finance_query::{finance, Screener};\n\n// Top 25 day gainers\nlet gainers = finance::screener(Screener::DayGainers, 25).await?;\n\n// Most actively traded stocks\nlet actives = finance::screener(Screener::MostActives, 50).await?;\n\n// Process results\nfor quote in &amp;gainers.quotes {\n    let change_pct = quote.regular_market_change_percent.raw.unwrap_or(0.0);\n    println!(\"{}: {:+.2}%\", quote.symbol, change_pct);\n}\n</code></pre> <p>Available <code>Screener</code> variants:</p> Variant Description <code>DayGainers</code> Top gaining stocks by % change <code>DayLosers</code> Top losing stocks by % change <code>MostActives</code> Highest trading volume stocks <code>AggressiveSmallCaps</code> High-risk small-cap stocks <code>ConservativeForeignFunds</code> Conservative international funds <code>GrowthTechnologyStocks</code> High-growth technology companies <code>HighYieldBond</code> High-yield bond funds <code>MostShortedStocks</code> Most heavily shorted stocks <code>PortfolioAnchors</code> Stable, large-cap anchor stocks <code>SmallCapGainers</code> Top small-cap gainers <code>SolidLargeGrowthFunds</code> Large-cap growth mutual funds (4-5 star) <code>SolidMidcapGrowthFunds</code> Mid-cap growth mutual funds (4-5 star) <code>TopMutualFunds</code> Highest-rated mutual funds <code>UndervaluedGrowthStocks</code> Undervalued growth opportunities <code>UndervaluedLargeCaps</code> Undervalued large-cap companies"},{"location":"library/screeners/#custom-screeners-typed-query-builder","title":"Custom Screeners \u2014 Typed Query Builder","text":"<p>The custom screener API uses typed field enums so your IDE can autocomplete field names and the compiler catches typos at build time.</p>"},{"location":"library/screeners/#core-types","title":"Core Types","text":"Type Description <code>EquityScreenerQuery</code> Query for stocks (uses <code>EquityField</code>) <code>FundScreenerQuery</code> Query for mutual funds (uses <code>FundField</code>) <code>EquityField</code> ~80 typed field names for equity filters <code>FundField</code> Typed field names for fund filters <code>ScreenerFieldExt</code> Trait providing <code>.gt()</code>, <code>.lt()</code>, <code>.between()</code>, <code>.eq_str()</code> etc."},{"location":"library/screeners/#basic-example","title":"Basic Example","text":"<pre><code>use finance_query::{finance, EquityScreenerQuery, EquityField, ScreenerFieldExt};\n\n// Find US large-cap value stocks with healthy volume\nlet query = EquityScreenerQuery::new()\n    .size(50)\n    .sort_by(EquityField::IntradayMarketCap, false)   // descending\n    .add_condition(EquityField::Region.eq_str(\"us\"))\n    .add_condition(EquityField::AvgDailyVol3M.gt(500_000.0))\n    .add_condition(EquityField::IntradayMarketCap.gt(10_000_000_000.0))\n    .add_condition(EquityField::PeRatio.between(10.0, 25.0));\n\nlet results = finance::custom_screener(query).await?;\nprintln!(\"Found {} stocks\", results.quotes.len());\n</code></pre>"},{"location":"library/screeners/#condition-methods-screenerfieldext","title":"Condition Methods (<code>ScreenerFieldExt</code>)","text":"<p>Import <code>ScreenerFieldExt</code> to access the fluent condition builders on any field variant:</p> <pre><code>use finance_query::ScreenerFieldExt;\n\n// Numeric comparisons\nEquityField::PeRatio.gt(5.0)           // P/E &gt; 5\nEquityField::PeRatio.lt(30.0)          // P/E &lt; 30\nEquityField::PeRatio.gte(10.0)         // P/E &gt;= 10\nEquityField::PeRatio.lte(25.0)         // P/E &lt;= 25\nEquityField::PeRatio.eq_num(15.0)      // P/E == 15 (exact)\nEquityField::PeRatio.between(10.0, 25.0)  // 10 &lt;= P/E &lt;= 25\n\n// String equality (for categorical fields)\nEquityField::Region.eq_str(\"us\")\nEquityField::Sector.eq_str(\"Technology\")\nEquityField::Exchange.eq_str(\"NMS\")\n</code></pre>"},{"location":"library/screeners/#controlling-results","title":"Controlling Results","text":"<pre><code>let query = EquityScreenerQuery::new()\n    .size(100)          // number of results (max 250, default 25)\n    .offset(50)         // pagination offset\n    .sort_by(EquityField::PeRatio, true)  // sort field + ascending=true\n    .include_fields(vec![               // columns to return\n        EquityField::Ticker,\n        EquityField::CompanyShortName,\n        EquityField::IntradayPrice,\n        EquityField::PeRatio,\n        EquityField::IntradayMarketCap,\n    ]);\n</code></pre>"},{"location":"library/screeners/#or-logic-add_or_conditions","title":"OR Logic \u2014 <code>add_or_conditions</code>","text":"<p>All <code>add_condition</code> calls are AND'd together by default. Use <code>add_or_conditions</code> when you want any of several values to match:</p> <pre><code>// US OR Canadian equities, large-cap\nlet query = EquityScreenerQuery::new()\n    .add_or_conditions(vec![\n        EquityField::Region.eq_str(\"us\"),\n        EquityField::Region.eq_str(\"ca\"),\n    ])\n    .add_condition(EquityField::IntradayMarketCap.gt(5_000_000_000.0));\n</code></pre>"},{"location":"library/screeners/#preset-constructors","title":"Preset Constructors","text":"<p><code>EquityScreenerQuery</code> includes three built-in presets:</p> <pre><code>use finance_query::{EquityScreenerQuery, finance};\n\n// Most shorted US stocks with average volume &gt; 200K\nlet results = finance::custom_screener(EquityScreenerQuery::most_shorted()).await?;\n\n// High-dividend US stocks (forward yield &gt; 3%, volume &gt; 100K)\nlet results = finance::custom_screener(EquityScreenerQuery::high_dividend()).await?;\n\n// US large-cap growth stocks (market cap &gt; $10B, positive EPS growth)\nlet results = finance::custom_screener(EquityScreenerQuery::large_cap_growth()).await?;\n</code></pre>"},{"location":"library/screeners/#mutual-fund-screener","title":"Mutual Fund Screener","text":"<p>Use <code>FundScreenerQuery</code> with <code>FundField</code> for mutual funds:</p> <pre><code>use finance_query::{finance, FundScreenerQuery, FundField, ScreenerFieldExt};\n\nlet query = FundScreenerQuery::new()\n    .size(25)\n    .sort_by(FundField::PerformanceRating, false)\n    .add_condition(FundField::RiskRating.lte(3.0))\n    .include_fields(vec![\n        FundField::Ticker,\n        FundField::CompanyShortName,\n        FundField::IntradayPrice,\n        FundField::CategoryName,\n        FundField::PerformanceRating,\n        FundField::RiskRating,\n    ]);\n\nlet results = finance::custom_screener(query).await?;\n</code></pre> <p>Available <code>FundField</code> variants:</p> Variant Yahoo Field Description <code>Ticker</code> <code>\"ticker\"</code> Ticker symbol (display only) <code>CompanyShortName</code> <code>\"companyshortname\"</code> Fund name (display only) <code>EodPrice</code> <code>\"eodprice\"</code> End-of-day price <code>IntradayPrice</code> <code>\"intradayprice\"</code> Intraday price <code>IntradayPriceChange</code> <code>\"intradaypricechange\"</code> Intraday price change <code>CategoryName</code> <code>\"categoryname\"</code> Morningstar category <code>PerformanceRating</code> <code>\"performanceratingoverall\"</code> Overall performance rating <code>InitialInvestment</code> <code>\"initialinvestment\"</code> Minimum initial investment <code>AnnualReturnRank</code> <code>\"annualreturnnavy1categoryrank\"</code> 1-year return rank within category <code>RiskRating</code> <code>\"riskratingoverall\"</code> Overall risk rating <code>Exchange</code> <code>\"exchange\"</code> Exchange"},{"location":"library/screeners/#equityfield-reference","title":"<code>EquityField</code> Reference","text":""},{"location":"library/screeners/#price-market-cap","title":"Price &amp; Market Cap","text":"Variant Description <code>Ticker</code> Ticker symbol (display only) <code>CompanyShortName</code> Company name (display only) <code>EodPrice</code> End-of-day price <code>IntradayPrice</code> Current intraday price <code>IntradayPriceChange</code> Intraday price change <code>PercentChange</code> Percentage price change <code>Lastclose52WkHigh</code> 52-week high at last close <code>Lastclose52WkLow</code> 52-week low at last close <code>FiftyTwoWkPctChange</code> 52-week percentage change <code>IntradayMarketCap</code> Current market capitalization <code>LastcloseMarketCap</code> Market cap at last close"},{"location":"library/screeners/#categorical-use-eq_str","title":"Categorical (use <code>eq_str</code>)","text":"Variant Example values <code>Region</code> <code>\"us\"</code>, <code>\"gb\"</code>, <code>\"jp\"</code>, <code>\"ca\"</code> <code>Sector</code> <code>\"Technology\"</code>, <code>\"Healthcare\"</code>, <code>\"Financials\"</code> <code>Industry</code> <code>\"Semiconductors\"</code>, <code>\"Software\"</code> <code>Exchange</code> <code>\"NMS\"</code>, <code>\"NYQ\"</code>, <code>\"ASE\"</code> <code>PeerGroup</code> Peer group identifier"},{"location":"library/screeners/#trading-volume","title":"Trading &amp; Volume","text":"Variant Description <code>Beta</code> Stock beta vs market <code>AvgDailyVol3M</code> 3-month average daily volume <code>DayVolume</code> Intraday volume <code>EodVolume</code> End-of-day volume <code>PctHeldInsider</code> % held by insiders <code>PctHeldInst</code> % held by institutions"},{"location":"library/screeners/#short-interest","title":"Short Interest","text":"Variant Description <code>ShortPctFloat</code> Short % of float <code>ShortPctSharesOut</code> Short % of shares outstanding <code>ShortInterest</code> Short interest value <code>DaysToCover</code> Days to cover short <code>ShortInterestPctChange</code> Short interest % change"},{"location":"library/screeners/#valuation","title":"Valuation","text":"Variant Description <code>PeRatio</code> Trailing twelve-month P/E <code>PegRatio5Y</code> 5-year PEG ratio <code>PriceBookRatio</code> Price-to-book ratio <code>PriceTangibleBook</code> Price to tangible book value <code>PriceEarnings</code> Price to earnings (last close) <code>BookValueShare</code> Book value per share <code>MarketCapToRevenue</code> Market cap / total revenue <code>TevToRevenue</code> TEV / total revenue <code>TevEbit</code> TEV / EBIT <code>TevEbitda</code> TEV / EBITDA"},{"location":"library/screeners/#profitability-dividends","title":"Profitability &amp; Dividends","text":"Variant Description <code>Roa</code> Return on assets (TTM) <code>Roe</code> Return on equity (TTM) <code>ReturnOnCapital</code> Return on total capital (TTM) <code>ForwardDivYield</code> Forward dividend yield <code>ForwardDivPerShare</code> Forward dividend per share <code>ConsecutiveDivYears</code> Consecutive years of dividend growth <code>NetIncomeMargin</code> Net income margin (TTM) <code>GrossProfitMargin</code> Gross profit margin (TTM) <code>EbitdaMargin</code> EBITDA margin (TTM)"},{"location":"library/screeners/#income-statement","title":"Income Statement","text":"Variant Description <code>TotalRevenues</code> Total revenues (TTM) <code>GrossProfit</code> Gross profit (TTM) <code>Ebitda</code> EBITDA (TTM) <code>Ebitda1YrGrowth</code> EBITDA 1-year growth <code>NetIncome</code> Net income (TTM) <code>NetIncome1YrGrowth</code> Net income 1-year growth <code>Revenue1YrGrowth</code> Revenue 1-year growth <code>QuarterlyRevGrowth</code> Quarterly revenue growth <code>EpsGrowth</code> EPS growth (TTM) <code>DilutedEps1YrGrowth</code> Diluted EPS 1-year growth <code>NetEpsBasic</code> Basic EPS (TTM) <code>NetEpsDiluted</code> Diluted EPS (TTM) <code>OperatingIncome</code> Operating income (TTM) <code>Ebit</code> EBIT (TTM)"},{"location":"library/screeners/#balance-sheet-leverage","title":"Balance Sheet &amp; Leverage","text":"Variant Description <code>TotalAssets</code> Total assets (TTM) <code>TotalDebt</code> Total debt (TTM) <code>TotalEquity</code> Total equity (TTM) <code>TotalCommonEquity</code> Total common equity (TTM) <code>TotalCurrentAssets</code> Total current assets <code>TotalCurrentLiab</code> Total current liabilities <code>CashAndStInvestments</code> Cash and short-term investments <code>CommonSharesOut</code> Common shares outstanding <code>TotalSharesOut</code> Total shares outstanding <code>TotalDebtEquity</code> Total debt / equity <code>LtDebtEquity</code> Long-term debt / equity <code>TotalDebtEbitda</code> Total debt / EBITDA <code>NetDebtEbitda</code> Net debt / EBITDA <code>EbitInterestExp</code> EBIT / interest expense <code>EbitdaInterestExp</code> EBITDA / interest expense"},{"location":"library/screeners/#liquidity","title":"Liquidity","text":"Variant Description <code>QuickRatio</code> Quick ratio (TTM) <code>CurrentRatio</code> Current ratio (TTM) <code>AltmanZScore</code> Altman Z-score <code>OcfToCurrentLiab</code> Operating cash flow / current liabilities"},{"location":"library/screeners/#cash-flow","title":"Cash Flow","text":"Variant Description <code>CashFromOps</code> Cash from operations (TTM) <code>CashFromOps1YrGrowth</code> Cash from ops 1-year growth <code>LeveredFcf</code> Levered free cash flow (TTM) <code>LeveredFcf1YrGrowth</code> Levered FCF 1-year growth <code>UnleveredFcf</code> Unlevered free cash flow <code>Capex</code> Capital expenditure (TTM)"},{"location":"library/screeners/#esg","title":"ESG","text":"Variant Description <code>EsgScore</code> Overall ESG score <code>EnvironmentalScore</code> Environmental score <code>GovernanceScore</code> Governance score <code>SocialScore</code> Social score <code>HighestControversy</code> Highest controversy level"},{"location":"library/screeners/#next-steps","title":"Next Steps","text":"<ul> <li>Finance Module - All market-wide functions including <code>screener()</code> and <code>custom_screener()</code></li> <li>Models Reference - <code>ScreenerResults</code> and <code>ScreenerQuote</code> response types</li> </ul>"},{"location":"library/streaming/","title":"Real-time Streaming","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 streaming</p> <p>Subscribe to live price updates from Yahoo Finance via WebSocket. The streaming API uses a Flow-like <code>Stream</code> interface compatible with Rust's <code>futures</code> ecosystem.</p>"},{"location":"library/streaming/#quick-start","title":"Quick Start","text":"<pre><code>use finance_query::streaming::PriceStream;\nuse futures::StreamExt;\n\nlet mut stream = PriceStream::subscribe(&amp;[\"AAPL\", \"NVDA\", \"TSLA\"]).await?;\n\nwhile let Some(price) = stream.next().await {\n    println!(\"{}: ${:.2} ({:+.2}%)\",\n        price.id,\n        price.price,\n        price.change_percent\n    );\n}\n</code></pre>"},{"location":"library/streaming/#subscribing","title":"Subscribing","text":""},{"location":"library/streaming/#simple-subscribe","title":"Simple Subscribe","text":"<pre><code>use finance_query::streaming::PriceStream;\n\nlet mut stream = PriceStream::subscribe(&amp;[\"AAPL\", \"GOOGL\"]).await?;\n</code></pre>"},{"location":"library/streaming/#builder-pattern","title":"Builder Pattern","text":"<pre><code>use finance_query::streaming::PriceStreamBuilder;\nuse std::time::Duration;\n\nlet mut stream = PriceStreamBuilder::new()\n    .symbols(&amp;[\"AAPL\", \"MSFT\", \"NVDA\"])\n    .reconnect_delay(Duration::from_secs(5))\n    .build()\n    .await?;\n</code></pre>"},{"location":"library/streaming/#dynamic-subscriptions","title":"Dynamic Subscriptions","text":"<p>Add or remove symbols after the stream is created:</p> <pre><code>use finance_query::streaming::PriceStream;\n\nlet stream = PriceStream::subscribe(&amp;[\"AAPL\"]).await?;\n\n// Add more symbols\nstream.add_symbols(&amp;[\"NVDA\", \"TSLA\"]).await;\n\n// Remove symbols\nstream.remove_symbols(&amp;[\"AAPL\"]).await;\n</code></pre>"},{"location":"library/streaming/#multiple-consumers","title":"Multiple Consumers","text":"<p>Use <code>resubscribe()</code> to create additional receivers sharing the same WebSocket connection:</p> <pre><code>use finance_query::streaming::PriceStream;\nuse futures::StreamExt;\n\nlet mut stream1 = PriceStream::subscribe(&amp;[\"AAPL\", \"NVDA\"]).await?;\nlet mut stream2 = stream1.resubscribe();\n\n// Both streams receive the same updates\ntokio::spawn(async move {\n    while let Some(price) = stream2.next().await {\n        println!(\"Consumer 2: {} ${:.2}\", price.id, price.price);\n    }\n});\n\nwhile let Some(price) = stream1.next().await {\n    println!(\"Consumer 1: {} ${:.2}\", price.id, price.price);\n}\n</code></pre>"},{"location":"library/streaming/#priceupdate-fields","title":"PriceUpdate Fields","text":"<p>Each update yielded by the stream contains:</p> Field Type Description <code>id</code> <code>String</code> Ticker symbol (e.g., <code>\"AAPL\"</code>) <code>price</code> <code>f32</code> Current price <code>change</code> <code>f32</code> Price change from previous close <code>change_percent</code> <code>f32</code> Percent change from previous close <code>day_high</code> <code>f32</code> Day's high price <code>day_low</code> <code>f32</code> Day's low price <code>day_volume</code> <code>i64</code> Day's trading volume <code>open_price</code> <code>f32</code> Opening price <code>previous_close</code> <code>f32</code> Previous close price <code>short_name</code> <code>String</code> Short name/description <code>currency</code> <code>String</code> Currency code (e.g., <code>\"USD\"</code>) <code>exchange</code> <code>String</code> Exchange code (e.g., <code>\"NMS\"</code>) <code>quote_type</code> <code>QuoteType</code> Asset type (Equity, Etf, Cryptocurrency, etc.) <code>market_hours</code> <code>MarketHoursType</code> Session (PreMarket, RegularMarket, PostMarket) <code>time</code> <code>i64</code> Unix timestamp in milliseconds"},{"location":"library/streaming/#filtering-updates","title":"Filtering Updates","text":"<pre><code>use finance_query::streaming::{PriceStream, MarketHoursType};\nuse futures::StreamExt;\n\nlet mut stream = PriceStream::subscribe(&amp;[\"AAPL\", \"MSFT\", \"GOOGL\"]).await?;\n\nwhile let Some(price) = stream.next().await {\n    // Only process regular market updates\n    if price.market_hours == MarketHoursType::RegularMarket {\n        println!(\"{}: ${:.2}\", price.id, price.price);\n    }\n}\n</code></pre>"},{"location":"library/streaming/#closing-the-stream","title":"Closing the Stream","text":"<pre><code>use finance_query::streaming::PriceStream;\n\nlet stream = PriceStream::subscribe(&amp;[\"AAPL\"]).await?;\n\n// ... use stream ...\n\nstream.close().await;\n</code></pre> <p>Notes</p> <ul> <li>Reconnection: The stream automatically reconnects with a 3-second backoff on connection loss.</li> <li>Heartbeats: Subscriptions are refreshed every 15 seconds to keep the connection alive.</li> <li>Market hours: Updates are sent during pre-market, regular, and post-market sessions.</li> <li>Data availability: Not all fields are populated for every update \u2014 Yahoo only sends changed values.</li> </ul>"},{"location":"library/ticker/","title":"Ticker API Reference","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 Ticker</p> <p>The <code>Ticker</code> struct is the primary interface for fetching symbol-specific data from Yahoo Finance. It provides lazy-loaded, cached access to quotes, charts, financials, and more.</p> <p>Multiple Symbols</p> <p>Need to fetch data for multiple symbols? Use the <code>Tickers</code> struct for efficient batch operations.</p>"},{"location":"library/ticker/#creation","title":"Creation","text":""},{"location":"library/ticker/#simple-construction","title":"Simple Construction","text":"<pre><code>use finance_query::Ticker;\n\nlet ticker = Ticker::new(\"AAPL\").await?;\n</code></pre>"},{"location":"library/ticker/#builder-pattern","title":"Builder Pattern","text":"<p>For advanced configuration, use the builder:</p> <pre><code>use finance_query::{Ticker, Region};\nuse std::time::Duration;\n\n// Using region enum (recommended - sets lang and region code correctly)\nlet ticker = Ticker::builder(\"2330.TW\")\n    .region(Region::Taiwan)\n    .timeout(Duration::from_secs(30))\n    .build()\n    .await?;\n\n// With logo fetching and in-memory cache (TTL: 5 minutes)\nlet ticker = Ticker::builder(\"AAPL\")\n    .logo()\n    .cache(Duration::from_secs(300))\n    .build()\n    .await?;\n\n// Manual language/region configuration\nlet ticker = Ticker::builder(\"AAPL\")\n    .lang(\"en-US\")\n    .region_code(\"US\")\n    .timeout(Duration::from_secs(20))\n    .proxy(\"http://proxy.example.com:8080\")\n    .build()\n    .await?;\n</code></pre> <p>Builder Methods:</p> <ul> <li><code>.region(Region)</code> - Set region (automatically configures lang and region_code)</li> <li><code>.lang(String)</code> - Set language code (e.g., \"en-US\", \"de-DE\", \"zh-TW\")</li> <li><code>.region_code(String)</code> - Set region code (e.g., \"US\", \"JP\")</li> <li><code>.timeout(Duration)</code> - Set HTTP request timeout</li> <li><code>.proxy(String)</code> - Set proxy URL</li> <li><code>.logo()</code> - Fetch company logo URLs alongside quote data</li> <li><code>.cache(Duration)</code> - Enable in-memory caching with the given TTL (time-to-live)</li> </ul> <p>See Configuration for details on available regions and settings.</p>"},{"location":"library/ticker/#quote-data","title":"Quote Data","text":""},{"location":"library/ticker/#aggregated-quote","title":"Aggregated Quote","text":"<p>Get a comprehensive quote with all key metrics:</p> <pre><code>// Enable logo fetching via builder\nlet ticker = Ticker::builder(\"AAPL\").logo().build().await?;\nlet quote = ticker.quote().await?;\n\nprintln!(\"Symbol: {}\", quote.symbol);\nprintln!(\"Name: {}\", quote.short_name.as_deref().unwrap_or(\"N/A\"));\nlet price = quote.regular_market_price.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\nprintln!(\"Price: ${:.2}\", price);\nlet change = quote.regular_market_change.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\nlet change_pct = quote.regular_market_change_percent.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\nprintln!(\"Change: {:+.2} ({:+.2}%)\", change, change_pct);\nlet market_cap = quote.market_cap.as_ref().and_then(|v| v.raw).unwrap_or(0);\nprintln!(\"Market Cap: ${}\", market_cap);\n// Logo URLs (only populated when .logo() is used on the builder)\nprintln!(\"Logo: {:?}\", quote.logo_url);\nprintln!(\"Company Logo: {:?}\", quote.company_logo_url);\n</code></pre> <p>The <code>Quote</code> struct aggregates data from multiple <code>quote modules</code> into a single structure.</p>"},{"location":"library/ticker/#quote-modules","title":"Quote Modules","text":"<p>Access specific quote modules directly. All modules are fetched together on first access and cached:</p> <pre><code>// First access triggers ONE API call for ALL modules\nlet price = ticker.price().await?;\nif let Some(p) = price {\n    println!(\"Market State: {}\", p.market_state.as_deref().unwrap_or(\"N/A\"));\n    println!(\"Currency: {}\", p.currency.as_deref().unwrap_or(\"N/A\"));\n}\n\n// Subsequent calls use cached data (no network request)\nlet financial_data = ticker.financial_data().await?;\nif let Some(fd) = financial_data {\n    let revenue = fd.total_revenue.as_ref().and_then(|v| v.raw).unwrap_or(0);\n    println!(\"Revenue: ${}\", revenue);\n    let profit_margins = fd.profit_margins.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"Profit Margin: {:.2}%\", profit_margins * 100.0);\n}\n\n// Get EPS from DefaultKeyStatistics (not FinancialData)\nif let Some(stats) = ticker.key_stats().await? {\n    let eps = stats.trailing_eps.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"EPS: ${:.2}\", eps);\n}\n\nlet profile = ticker.asset_profile().await?;\nif let Some(prof) = profile {\n    println!(\"Sector: {}\", prof.sector.as_deref().unwrap_or(\"N/A\"));\n    println!(\"Industry: {}\", prof.industry.as_deref().unwrap_or(\"N/A\"));\n    println!(\"Website: {}\", prof.website.as_deref().unwrap_or(\"N/A\"));\n    println!(\"Description: {}\", prof.long_business_summary.as_deref().unwrap_or(\"N/A\"));\n}\n</code></pre> <p>Available Quote Modules:</p> Method Returns Description <code>.price()</code> <code>Price</code> Current price, market state, currency <code>.summary_detail()</code> <code>SummaryDetail</code> Market cap, P/E, dividend, 52-week range <code>.financial_data()</code> <code>FinancialData</code> Revenue, margins, EPS, cash flow <code>.key_stats()</code> <code>DefaultKeyStatistics</code> Extended statistics (beta, shares outstanding, etc.) <code>.asset_profile()</code> <code>AssetProfile</code> Company info (sector, industry, description, officers) <code>.calendar_events()</code> <code>CalendarEvents</code> Upcoming earnings, dividends, splits <code>.earnings()</code> <code>Earnings</code> Historical and forecasted earnings <code>.earnings_trend()</code> <code>EarningsTrend</code> Analyst earnings estimates and trends <code>.earnings_history()</code> <code>EarningsHistory</code> Past earnings surprises <code>.recommendation_trend()</code> <code>RecommendationTrend</code> Analyst buy/sell/hold recommendations <code>.insider_holders()</code> <code>InsiderHolders</code> Insider ownership <code>.insider_transactions()</code> <code>InsiderTransactions</code> Recent insider trading activity <code>.institution_ownership()</code> <code>InstitutionOwnership</code> Institutional holders <code>.fund_ownership()</code> <code>FundOwnership</code> Mutual fund holders <code>.major_holders()</code> <code>MajorHoldersBreakdown</code> Ownership percentages <code>.share_purchase_activity()</code> <code>NetSharePurchaseActivity</code> Insider net purchase activity <code>.quote_type()</code> <code>QuoteTypeData</code> Asset type, exchange, timezone <code>.summary_profile()</code> <code>SummaryProfile</code> Company summary (address, employees, etc.) <code>.sec_filings()</code> <code>SecFilings</code> Recent SEC filings <code>.grading_history()</code> <code>UpgradeDowngradeHistory</code> Analyst upgrade/downgrade history <p>All methods return <code>Result&lt;Option&lt;T&gt;&gt;</code> - the <code>Option</code> is <code>None</code> if the module is not available for this symbol (e.g., crypto doesn't have SEC filings).</p>"},{"location":"library/ticker/#example-company-analysis","title":"Example: Company Analysis","text":"<pre><code>let ticker = Ticker::new(\"MSFT\").await?;\n\n// Get financial health\nif let Some(fd) = ticker.financial_data().await? {\n    println!(\"Financials:\");\n    let revenue = fd.total_revenue.as_ref().and_then(|v| v.raw).unwrap_or(0) as f64;\n    println!(\"  Revenue: ${:.2}B\", revenue / 1e9);\n    let profit_margins = fd.profit_margins.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"  Profit Margin: {:.2}%\", profit_margins * 100.0);\n    let roe = fd.return_on_equity.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"  ROE: {:.2}%\", roe * 100.0);\n    let dte = fd.debt_to_equity.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"  Debt to Equity: {:.2}\", dte);\n}\n\n// Get valuation\nif let Some(sd) = ticker.summary_detail().await? {\n    println!(\"\\nValuation:\");\n    let trailing_pe = sd.trailing_pe.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"  P/E Ratio: {:.2}\", trailing_pe);\n    let forward_pe = sd.forward_pe.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"  Forward P/E: {:.2}\", forward_pe);\n}\n\n// Get analyst sentiment\nif let Some(rt) = ticker.recommendation_trend().await? {\n    if let Some(latest) = rt.trend.first() {\n        println!(\"\\nAnalyst Recommendations:\");\n        println!(\"  Strong Buy: {}\", latest.strong_buy);\n        println!(\"  Buy: {}\", latest.buy);\n        println!(\"  Hold: {}\", latest.hold);\n        println!(\"  Sell: {}\", latest.sell);\n        println!(\"  Strong Sell: {}\", latest.strong_sell);\n    }\n}\n</code></pre>"},{"location":"library/ticker/#historical-data","title":"Historical Data","text":""},{"location":"library/ticker/#chart-ohlcv-data","title":"Chart (OHLCV) Data","text":"<p>Get historical candlestick data:</p> <pre><code>use finance_query::{Interval, TimeRange};\n\n// Daily candles for the past month\nlet chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n\nprintln!(\"Symbol: {}\", chart.symbol);\nprintln!(\"Currency: {}\", chart.meta.currency.as_deref().unwrap_or(\"N/A\"));\nprintln!(\"Exchange: {}\", chart.meta.exchange_name.as_deref().unwrap_or(\"N/A\"));\nprintln!(\"Timezone: {}\", chart.meta.timezone.as_deref().unwrap_or(\"N/A\"));\n\nfor candle in &amp;chart.candles {\n    println!(\n        \"{}: O=${:.2}, H=${:.2}, L=${:.2}, C=${:.2}, V={}\",\n        candle.timestamp, candle.open, candle.high, candle.low, candle.close, candle.volume\n    );\n}\n</code></pre> <p>Available Intervals:</p> <ul> <li>Intraday: <code>OneMinute</code>, <code>FiveMinutes</code>, <code>FifteenMinutes</code>, <code>ThirtyMinutes</code>, <code>OneHour</code></li> <li>Daily and above: <code>OneDay</code>, <code>OneWeek</code>, <code>OneMonth</code>, <code>ThreeMonths</code></li> </ul> <p>Available Time Ranges:</p> <ul> <li><code>OneDay</code>, <code>FiveDays</code>, <code>OneMonth</code>, <code>ThreeMonths</code>, <code>SixMonths</code></li> <li><code>OneYear</code>, <code>TwoYears</code>, <code>FiveYears</code>, <code>TenYears</code></li> <li><code>YearToDate</code>, <code>Max</code></li> </ul> <p>Chart Structure: <pre><code>pub struct Chart {\n    pub symbol: String,         // Stock symbol\n    pub meta: ChartMeta,        // Metadata (exchange, currency, timezone, etc.)\n    pub candles: Vec&lt;Candle&gt;,   // OHLCV candles\n    pub interval: Option&lt;Interval&gt;,\n    pub range: Option&lt;TimeRange&gt;,\n}\n\npub struct Candle {\n    pub timestamp: i64,         // Unix timestamp (seconds)\n    pub open: f64,\n    pub high: f64,\n    pub low: f64,\n    pub close: f64,\n    pub volume: i64,            // Signed integer\n    pub adj_close: Option&lt;f64&gt;, // Adjusted close (accounts for splits/dividends)\n}\n</code></pre></p>"},{"location":"library/ticker/#corporate-events","title":"Corporate Events","text":""},{"location":"library/ticker/#dividends","title":"Dividends","text":"<pre><code>let dividends = ticker.dividends(TimeRange::TwoYears).await?;\n\nfor div in &amp;dividends {\n    // div.timestamp is a Unix timestamp (i64, seconds since epoch)\n    println!(\"timestamp={}, amount=${:.4}\", div.timestamp, div.amount);\n}\n</code></pre>"},{"location":"library/ticker/#stock-splits","title":"Stock Splits","text":"<pre><code>let splits = ticker.splits(TimeRange::Max).await?;\n\nfor split in &amp;splits {\n    // ratio is a human-readable string like \"4:1\"\n    println!(\"timestamp={}, ratio={} ({}/{})\",\n        split.timestamp, split.ratio, split.numerator, split.denominator\n    );\n}\n</code></pre>"},{"location":"library/ticker/#capital-gains","title":"Capital Gains","text":"<p>Distributions of capital gains (common for ETFs and mutual funds):</p> <pre><code>let gains = ticker.capital_gains(TimeRange::FiveYears).await?;\n\nfor gain in &amp;gains {\n    println!(\"timestamp={}, amount=${:.4} per share\", gain.timestamp, gain.amount);\n}\n</code></pre>"},{"location":"library/ticker/#dividend-analytics","title":"Dividend Analytics","text":"<p>Compute analytics from the dividend history (pure calculation, no extra network request):</p> <pre><code>let analytics = ticker.dividend_analytics(TimeRange::FiveYears).await?;\n\nprintln!(\"Total paid:      ${:.2}\", analytics.total_paid);\nprintln!(\"Payments:        {}\", analytics.payment_count);\nprintln!(\"Average payment: ${:.4}\", analytics.average_payment);\n\nif let Some(cagr) = analytics.cagr {\n    println!(\"CAGR:            {:.1}%\", cagr * 100.0);\n}\nif let Some(last) = &amp;analytics.last_payment {\n    println!(\"Most recent:     ${:.4} at timestamp {}\", last.amount, last.timestamp);\n}\n</code></pre> <p><code>DividendAnalytics</code> fields:</p> Field Type Description <code>total_paid</code> <code>f64</code> Total dividends paid in the requested range <code>payment_count</code> <code>usize</code> Number of dividend payments <code>average_payment</code> <code>f64</code> Average dividend per payment <code>cagr</code> <code>Option&lt;f64&gt;</code> Compound Annual Growth Rate of the dividend; <code>None</code> if fewer than 2 payments spanning a full year <code>last_payment</code> <code>Option&lt;Dividend&gt;</code> Most recent dividend <code>first_payment</code> <code>Option&lt;Dividend&gt;</code> Earliest dividend in the range"},{"location":"library/ticker/#technical-indicators","title":"Technical Indicators","text":"<p>Calculate technical indicators with three approaches:</p>"},{"location":"library/ticker/#1-summary-api","title":"1. Summary API","text":"<p>Get all pre-calculated indicators at once:</p> <pre><code>use finance_query::{Interval, TimeRange};\n\nlet indicators = ticker.indicators(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// Simple indicators (Option&lt;f64&gt;)\nif let Some(rsi) = indicators.rsi_14 {\n    println!(\"RSI(14): {:.2}\", rsi);\n    if rsi &lt; 30.0 { println!(\"  -&gt; Oversold\"); }\n    else if rsi &gt; 70.0 { println!(\"  -&gt; Overbought\"); }\n}\n\nif let Some(sma) = indicators.sma_200 {\n    println!(\"SMA(200): {:.2}\", sma);\n}\n\n// Compound indicators (Option&lt;Struct&gt;)\nif let Some(macd) = &amp;indicators.macd {\n    if let (Some(line), Some(signal)) = (macd.macd, macd.signal) {\n        println!(\"MACD: {:.4} | Signal: {:.4}\", line, signal);\n        if line &gt; signal { println!(\"  -&gt; Bullish\"); }\n    }\n}\n\nif let Some(bb) = &amp;indicators.bollinger_bands {\n    if let (Some(upper), Some(lower)) = (bb.upper, bb.lower) {\n        println!(\"Bollinger: Upper={:.2}, Lower={:.2}\", upper, lower);\n    }\n}\n</code></pre>"},{"location":"library/ticker/#2-chart-extension-methods","title":"2. Chart Extension Methods","text":"<p>Calculate specific indicators with any period:</p> <pre><code>let chart = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// Custom periods\nlet sma_15 = chart.sma(15);\nlet rsi_21 = chart.rsi(21)?;\nlet macd = chart.macd(8, 21, 5)?;  // Fast, slow, signal\n\n// Access latest value\nif let Some(&amp;latest_rsi) = rsi_21.last().and_then(|v| v.as_ref()) {\n    println!(\"RSI(21): {:.2}\", latest_rsi);\n}\n</code></pre>"},{"location":"library/ticker/#3-direct-functions","title":"3. Direct Functions","text":"<p>Use indicator functions directly with custom data:</p> <pre><code>use finance_query::indicators::{sma, rsi};\n\nlet chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\nlet closes: Vec&lt;f64&gt; = chart.candles.iter().map(|c| c.close).collect();\n\nlet sma_25 = sma(&amp;closes, 25);\nlet rsi_10 = rsi(&amp;closes, 10)?;\n\nif let Some(&amp;latest) = rsi_10.last().and_then(|v| v.as_ref()) {\n    println!(\"RSI(10): {:.2}\", latest);\n}\n</code></pre> <p>See Also</p> <p>For complete indicator documentation including all available indicators, see Indicators.</p>"},{"location":"library/ticker/#candlestick-patterns","title":"Candlestick Patterns","text":"<p>Detect candlestick patterns from chart data (requires <code>indicators</code> feature):</p> <pre><code>use finance_query::indicators::{CandlePattern, PatternSentiment};\n\nlet chart = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\n\n// Returns Vec&lt;Option&lt;CandlePattern&gt;&gt;, 1:1 aligned with chart.candles\nlet signals = chart.patterns();\n\n// Zip patterns with candles for context\nfor (candle, pattern) in chart.candles.iter().zip(signals.iter()) {\n    if let Some(p) = pattern {\n        println!(\n            \"timestamp={}: {:?} ({:?})\",\n            candle.timestamp, p, p.sentiment()\n        );\n    }\n}\n\n// Count bullish signals in the period\nlet bullish_count = signals\n    .iter()\n    .filter(|s| s.map(|p| p.sentiment() == PatternSentiment::Bullish).unwrap_or(false))\n    .count();\nprintln!(\"{bullish_count} bullish patterns detected\");\n</code></pre> <p>Available Patterns (20 total):</p> Category Pattern Signal Three-bar <code>MorningStar</code> Bullish reversal Three-bar <code>EveningStar</code> Bearish reversal Three-bar <code>ThreeWhiteSoldiers</code> Bullish continuation Three-bar <code>ThreeBlackCrows</code> Bearish continuation Two-bar <code>BullishEngulfing</code> Bullish reversal Two-bar <code>BearishEngulfing</code> Bearish reversal Two-bar <code>BullishHarami</code> Bullish reversal Two-bar <code>BearishHarami</code> Bearish reversal Two-bar <code>PiercingLine</code> Bullish reversal Two-bar <code>DarkCloudCover</code> Bearish reversal Two-bar <code>TweezerBottom</code> Bullish reversal at support Two-bar <code>TweezerTop</code> Bearish reversal at resistance One-bar <code>Hammer</code> Bullish reversal (downtrend) One-bar <code>InvertedHammer</code> Bullish reversal (downtrend) One-bar <code>HangingMan</code> Bearish reversal (uptrend) One-bar <code>ShootingStar</code> Bearish reversal (uptrend) One-bar <code>BullishMarubozu</code> Bullish strength One-bar <code>BearishMarubozu</code> Bearish strength One-bar <code>Doji</code> Indecision One-bar <code>SpinningTop</code> Indecision <p>Pattern priority: Three-bar \u2192 two-bar \u2192 one-bar. Each candle slot holds at most one pattern. Output is always the same length as <code>chart.candles</code>.</p> <p>Combine with indicators</p> <p>Patterns are most useful as filters on top of indicators. For example, <code>RSI &lt; 30</code> combined with a <code>Hammer</code> or <code>BullishEngulfing</code> gives a stronger entry signal than either alone.</p>"},{"location":"library/ticker/#risk-analytics","title":"Risk Analytics","text":"<p>Feature flag required</p> <pre><code>finance-query = { version = \"...\", features = [\"risk\"] }\n</code></pre> <p>Compute a comprehensive risk summary from historical price data:</p> <pre><code>use finance_query::{Ticker, Interval, TimeRange};\n\nlet ticker = Ticker::new(\"AAPL\").await?;\n\n// With S&amp;P 500 as benchmark (enables beta calculation)\nlet risk = ticker.risk(Interval::OneDay, TimeRange::OneYear, Some(\"^GSPC\")).await?;\n\n// Without a benchmark\nlet risk = ticker.risk(Interval::OneDay, TimeRange::OneYear, None).await?;\n\nprintln!(\"VaR 95%:      {:.2}%\", risk.var_95 * 100.0);\nprintln!(\"Max Drawdown: {:.2}%\", risk.max_drawdown * 100.0);\nif let Some(sharpe) = risk.sharpe {\n    println!(\"Sharpe:       {:.2}\", sharpe);\n}\nif let Some(beta) = risk.beta {\n    println!(\"Beta:         {:.2}\", beta);\n}\n</code></pre> <p>See Risk Analytics for the full <code>RiskSummary</code> field reference and standalone metric functions.</p>"},{"location":"library/ticker/#recommendations","title":"Recommendations","text":"<p>Get similar stocks and analyst recommendations:</p> <pre><code>let rec = ticker.recommendations(5).await?;\n\nprintln!(\"Similar stocks to {}:\", ticker.symbol());\n\nfor similar in &amp;rec.recommendations {\n    println!(\"  {} - {}\", similar.symbol, similar.score);\n}\n</code></pre>"},{"location":"library/ticker/#financial-statements","title":"Financial Statements","text":"<p>Get income statement, balance sheet, or cash flow statement:</p> <pre><code>use finance_query::{StatementType, Frequency};\n\n// Annual income statement\nlet income = ticker.financials(\n    StatementType::Income,\n    Frequency::Annual\n).await?;\n\n// Access data by metric name\nif let Some(revenue_map) = income.statement.get(\"TotalRevenue\") {\n    for (date, value) in revenue_map {\n        println!(\"{}: Revenue ${:.2}B\", date, value / 1e9);\n    }\n}\n\nif let Some(net_income_map) = income.statement.get(\"NetIncome\") {\n    for (date, value) in net_income_map {\n        println!(\"{}: Net Income ${:.2}B\", date, value / 1e9);\n    }\n}\n\n// Quarterly balance sheet\nlet balance = ticker.financials(\n    StatementType::Balance,\n    Frequency::Quarterly\n).await?;\n\n// Cash flow statement\nlet cashflow = ticker.financials(\n    StatementType::CashFlow,\n    Frequency::Annual\n).await?;\n</code></pre> <p>Statement Types:</p> <ul> <li><code>StatementType::Income</code> - Income statement (revenue, expenses, profit)</li> <li><code>StatementType::Balance</code> - Balance sheet (assets, liabilities, equity)</li> <li><code>StatementType::CashFlow</code> - Cash flow statement (operating, investing, financing)</li> </ul> <p>Frequencies:</p> <ul> <li><code>Frequency::Annual</code> - Yearly statements</li> <li><code>Frequency::Quarterly</code> - Quarterly statements</li> </ul>"},{"location":"library/ticker/#options-data","title":"Options Data","text":"<p>Get options chains:</p> <pre><code>// Get all available expiration dates and options\nlet options = ticker.options(None).await?;\n\n// expiration_dates() and strikes() are methods\nprintln!(\"Available expiration dates:\");\nfor exp in options.expiration_dates() {\n    println!(\"  {}\", exp);  // Unix timestamp (i64)\n}\n\n// calls() and puts() return a Contracts collection\nprintln!(\"\\nCalls:\");\nfor call in &amp;*options.calls() {\n    println!(\n        \"  Strike ${:.2}: last=${:.2}, volume={}\",\n        call.strike,\n        call.last_price.unwrap_or(0.0),\n        call.volume.unwrap_or(0),\n    );\n}\n\nprintln!(\"\\nPuts:\");\nfor put in &amp;*options.puts() {\n    println!(\n        \"  Strike ${:.2}: last=${:.2}, IV={:.4}\",\n        put.strike,\n        put.last_price.unwrap_or(0.0),\n        put.implied_volatility.unwrap_or(0.0),\n    );\n}\n\n// Get options for a specific expiration date\nlet exp_dates = options.expiration_dates();\nif exp_dates.len() &gt; 1 {\n    let options_dated = ticker.options(Some(exp_dates[1])).await?;\n}\n</code></pre>"},{"location":"library/ticker/#news","title":"News","text":"<p>Get recent news for the symbol:</p> <pre><code>let news = ticker.news().await?;\n\nfor article in &amp;news {\n    println!(\"{}\", article.title);\n    println!(\"  Source: {}\", article.source);\n    println!(\"  Published: {}\", article.time);\n    println!(\"  URL: {}\", article.link);\n    println!();\n}\n</code></pre>"},{"location":"library/ticker/#earnings-transcripts","title":"Earnings Transcripts","text":"<p>Get earnings call transcripts:</p> <pre><code>use finance_query::finance;\n\n// Get latest transcript\nlet transcript = finance::earnings_transcript(&amp;ticker.symbol(), None, None).await?;\n\nprintln!(\"Transcript for {} - Q{} {}\",\n    ticker.symbol(),\n    transcript.quarter(),\n    transcript.year()\n);\n\n// Access paragraphs with speaker names resolved\nfor (paragraph, speaker) in transcript.paragraphs_with_speakers() {\n    if let Some(name) = speaker {\n        println!(\"[{:.1}s] {}: {}\", paragraph.start, name, paragraph.text);\n    }\n}\n\n// Get a specific quarter transcript\nlet _q1 = finance::earnings_transcript(&amp;ticker.symbol(), Some(\"Q1\"), Some(2024)).await?;\n\n// Get all available transcripts (metadata only)\nlet all_transcripts = finance::earnings_transcripts(&amp;ticker.symbol(), None).await?;\n\nfor meta in &amp;all_transcripts {\n    println!(\"{} {} - {}\",\n        meta.year.unwrap_or(0),\n        meta.quarter.as_deref().unwrap_or(\"?\"),\n        meta.title\n    );\n}\n</code></pre>"},{"location":"library/ticker/#caching-behavior","title":"Caching Behavior","text":"<p>Understanding how Ticker caches data is important for efficient usage.</p>"},{"location":"library/ticker/#in-memory-cache-optional","title":"In-Memory Cache (Optional)","text":"<p>Enable with <code>.cache(Duration)</code> on the builder. Disabled by default.</p> <pre><code>use std::time::Duration;\n\nlet ticker = Ticker::builder(\"AAPL\")\n    .cache(Duration::from_secs(300))  // 5-minute TTL\n    .build()\n    .await?;\n</code></pre> <p>When enabled, all fetched data is stored in an <code>Arc&lt;RwLock&lt;...&gt;&gt;</code> cache inside the <code>Ticker</code> and automatically invalidated after the TTL.</p>"},{"location":"library/ticker/#quote-summary-modules","title":"Quote Summary Modules","text":"<pre><code>let ticker = Ticker::new(\"AAPL\").await?;\n\n// First access to ANY quote module -&gt; 1 API call fetching ALL ~30 modules\nlet price = ticker.price().await?;\n\n// All subsequent module accesses -&gt; 0 API calls (same Ticker instance)\nlet financial_data = ticker.financial_data().await?;  // no network\nlet profile = ticker.asset_profile().await?;          // no network\nlet stats = ticker.key_stats().await?;                // no network\n</code></pre>"},{"location":"library/ticker/#chart-data","title":"Chart Data","text":"<p>Charts are cached separately per <code>(interval, range)</code> combination:</p> <pre><code>// First call -&gt; 1 API call\nlet daily_1mo = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n\n// Same interval+range -&gt; cached (0 API calls)\nlet daily_1mo_again = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n\n// Different interval or range -&gt; new API call\nlet hourly_1mo = ticker.chart(Interval::OneHour, TimeRange::OneMonth).await?;\nlet daily_3mo = ticker.chart(Interval::OneDay, TimeRange::ThreeMonths).await?;\n</code></pre>"},{"location":"library/ticker/#financials-and-options","title":"Financials and Options","text":"<p>Financials are cached per <code>(statement_type, frequency)</code> combination:</p> <pre><code>use finance_query::{StatementType, Frequency};\n\n// First call -&gt; 1 API call\nlet income_annual = ticker.financials(StatementType::Income, Frequency::Annual).await?;\n\n// Same parameters -&gt; cached\nlet income_annual_again = ticker.financials(StatementType::Income, Frequency::Annual).await?;\n\n// Different parameters -&gt; new API call\nlet income_quarterly = ticker.financials(StatementType::Income, Frequency::Quarterly).await?;\nlet balance_annual = ticker.financials(StatementType::Balance, Frequency::Annual).await?;\n</code></pre> <p>Options are cached per expiration date:</p> <pre><code>// First call -&gt; 1 API call\nlet current_options = ticker.options(None).await?;\n\n// Same date -&gt; cached\nlet current_again = ticker.options(None).await?;\n\n// Different date -&gt; new API call\nlet future_options = ticker.options(Some(1735689600)).await?;\n</code></pre>"},{"location":"library/ticker/#news-and-recommendations","title":"News and Recommendations","text":"<p>These are fetched once per Ticker instance and cached:</p> <pre><code>let news = ticker.news().await?;\nlet news_again = ticker.news().await?;  // cached\n\nlet recs = ticker.recommendations(10).await?;\nlet recs_again = ticker.recommendations(10).await?;  // cached\n</code></pre>"},{"location":"library/ticker/#best-practices","title":"Best Practices","text":"<p>Optimize Performance with Caching</p> <ul> <li>Reuse Ticker instances across multiple queries to benefit from caching</li> <li>Request the data you need upfront - accessing one quote module fetches them all anyway</li> <li>Be strategic with chart requests - each new <code>(interval, range)</code> pair triggers a new request</li> </ul> <pre><code>// Good: Reuse ticker for multiple operations\nlet ticker = Ticker::builder(\"AAPL\").logo().build().await?;\nlet quote = ticker.quote().await?;\nlet chart = ticker.chart(Interval::OneDay, TimeRange::OneMonth).await?;\nlet profile = ticker.asset_profile().await?;\n\n// Less efficient: Creating new tickers each time\n// (loses caching benefits, re-authenticates with Yahoo each time)\nlet ticker1 = Ticker::builder(\"AAPL\").logo().build().await?;\nlet quote = ticker1.quote().await?;\nlet ticker2 = Ticker::new(\"AAPL\").await?;\nlet chart = ticker2.chart(Interval::OneDay, TimeRange::OneMonth).await?;\n</code></pre>"},{"location":"library/ticker/#next-steps","title":"Next Steps","text":"<ul> <li>Technical Indicators - Access 42 indicators + candlestick patterns for analysis</li> <li>Backtesting - Test trading strategies against historical data</li> <li>Risk Analytics - VaR, Sharpe/Sortino/Calmar, beta, and drawdown (requires <code>risk</code> feature)</li> <li>Batch Tickers - Efficient operations for multiple symbols</li> <li>DataFrame Support - Convert responses to Polars DataFrames for analysis</li> <li>Configuration - Customize language, region, and network settings</li> <li>Models Reference - Detailed documentation of all response types</li> </ul>"},{"location":"library/tickers/","title":"Tickers API Reference","text":"<p>Cargo Docs</p> <p>docs.rs/finance-query \u2014 Tickers</p> <p>The <code>Tickers</code> struct provides efficient batch operations for multiple symbols. It optimizes network usage by grouping requests where possible and executing concurrent fetches where necessary.</p> <p>Single Symbol</p> <p>For detailed operations on a single symbol (financials, options, detailed analysis), see the <code>Ticker</code> struct.</p>"},{"location":"library/tickers/#creation","title":"Creation","text":""},{"location":"library/tickers/#simple-construction","title":"Simple Construction","text":"<pre><code>use finance_query::Tickers;\n\nlet tickers = Tickers::new(vec![\"AAPL\", \"MSFT\", \"GOOGL\"]).await?;\n</code></pre>"},{"location":"library/tickers/#builder-pattern","title":"Builder Pattern","text":"<p>For advanced configuration (region, timeout, proxy), use the builder:</p> <pre><code>use finance_query::{Tickers, Region};\nuse std::time::Duration;\n\nlet tickers = Tickers::builder(vec![\"AAPL\", \"MSFT\"])\n    .region(Region::UnitedStates)\n    .timeout(Duration::from_secs(30))\n    .build()\n    .await?;\n</code></pre>"},{"location":"library/tickers/#builder-options","title":"Builder Options","text":"Method Description <code>.region(Region)</code> Set region (automatically sets lang + region code) <code>.lang(str)</code> Set language code (e.g., <code>\"en-US\"</code>, <code>\"ja-JP\"</code>) <code>.region_code(str)</code> Set region code directly (e.g., <code>\"US\"</code>, <code>\"JP\"</code>) <code>.timeout(Duration)</code> Set HTTP request timeout <code>.proxy(str)</code> Set proxy URL <code>.max_concurrency(n)</code> Max concurrent requests for batch ops (default: 10) <code>.logo()</code> Include company logo URLs in quote responses <code>.cache(Duration)</code> Enable response caching with TTL (disabled by default) <code>.client(ClientHandle)</code> Share an existing authenticated session"},{"location":"library/tickers/#max_concurrency","title":"<code>max_concurrency</code>","text":"<p>Controls parallelism for methods that fetch per-symbol (charts, financials, news, etc.). Lower values reduce the risk of rate limiting from Yahoo Finance; higher values increase throughput for large symbol lists.</p> <pre><code>use finance_query::Tickers;\n\n// Conservative: 3 concurrent requests (large lists or strict rate limits)\nlet tickers = Tickers::builder(vec![\"AAPL\", \"MSFT\", \"GOOGL\", \"TSLA\"])\n    .max_concurrency(3)\n    .build()\n    .await?;\n</code></pre>"},{"location":"library/tickers/#sharing-a-session","title":"Sharing a Session","text":"<p>Avoid redundant authentication when using <code>Tickers</code> alongside individual <code>Ticker</code> instances:</p> <pre><code>use finance_query::{Ticker, Tickers};\n\nlet aapl = Ticker::new(\"AAPL\").await?;\nlet handle = aapl.client_handle();\n\n// Reuses AAPL's authenticated session \u2014 no extra auth round-trip\nlet tickers = Tickers::builder([\"MSFT\", \"GOOGL\"])\n    .client(handle)\n    .build()\n    .await?;\n</code></pre>"},{"location":"library/tickers/#batch-quotes","title":"Batch Quotes","text":"<p>Fetch quotes for all symbols in a single API call. This is significantly more efficient than fetching quotes individually.</p> <pre><code>// Fetch quotes for all symbols, including their logos if available\nlet tickers = Tickers::builder(vec![\"AAPL\", \"MSFT\"]).logo().build().await?;\nlet response = tickers.quotes().await?;\n\n// Process successful quotes\nfor (symbol, quote) in &amp;response.quotes {\n    let price = quote.regular_market_price.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"{} Price: ${:.2}\", symbol, price);\n    if let Some(logo) = &amp;quote.logo_url {\n        println!(\"  Logo: {}\", logo);\n    }\n}\n\n// Handle errors\nfor (symbol, error) in &amp;response.errors {\n    eprintln!(\"Failed to fetch {}: {}\", symbol, error);\n}\n</code></pre>"},{"location":"library/tickers/#response-structure","title":"Response Structure","text":"<p><code>BatchQuotesResponse</code> contains:</p> <ul> <li><code>quotes</code>: <code>HashMap&lt;String, Quote&gt;</code> - Successfully fetched quotes grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-charts","title":"Batch Charts","text":"<p>Fetch historical data for all symbols concurrently. While Yahoo Finance doesn't support batch chart requests, <code>Tickers</code> handles concurrent fetching automatically.</p> <pre><code>use finance_query::{Interval, TimeRange};\n\n// Fetch charts concurrently\nlet response = tickers.charts(Interval::OneDay, TimeRange::OneMonth).await?;\n\n// Process successful charts\nfor (symbol, chart) in &amp;response.charts {\n    println!(\"{}: {} candles\", symbol, chart.candles.len());\n    if let Some(last) = chart.candles.last() {\n        println!(\"  Last Close: ${:.2}\", last.close);\n    }\n}\n\n// Handle errors\nfor (symbol, error) in &amp;response.errors {\n    eprintln!(\"Failed to fetch chart for {}: {}\", symbol, error);\n}\n</code></pre>"},{"location":"library/tickers/#response-structure_1","title":"Response Structure","text":"<p><code>BatchChartsResponse</code> contains:</p> <ul> <li><code>charts</code>: <code>HashMap&lt;String, Chart&gt;</code> - Successfully fetched charts grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#spark-data","title":"Spark Data","text":"<p>Fetch lightweight sparkline data for all symbols in a single batch request. Spark provides only timestamps and close prices, optimized for rendering sparklines in dashboards and watchlists.</p> <pre><code>use finance_query::{Interval, TimeRange};\n\n// Fetch spark data for all symbols\nlet response = tickers.spark(Interval::OneDay, TimeRange::FiveDays).await?;\n\n// Process successful sparks\nfor (symbol, spark) in &amp;response.sparks {\n    println!(\"{}: {} data points\", symbol, spark.len());\n\n    if let Some(change) = spark.percent_change() {\n        println!(\"  Change: {:+.2}%\", change);\n    }\n\n    if let Some(min) = spark.min_close() {\n        println!(\"  Low: ${:.2}\", min);\n    }\n\n    if let Some(max) = spark.max_close() {\n        println!(\"  High: ${:.2}\", max);\n    }\n}\n\n// Handle errors\nfor (symbol, error) in &amp;response.errors {\n    eprintln!(\"Failed to fetch spark for {}: {}\", symbol, error);\n}\n</code></pre>"},{"location":"library/tickers/#spark-structure","title":"Spark Structure","text":"<p>Each <code>Spark</code> contains:</p> <ul> <li><code>symbol</code>: Stock symbol</li> <li><code>meta</code>: Chart metadata (currency, exchange, timezone)</li> <li><code>timestamps</code>: Vec of Unix timestamps</li> <li><code>closes</code>: Vec of close prices</li> <li><code>interval</code>: Time interval (e.g., <code>\"1d\"</code>, <code>\"1h\"</code>)</li> <li><code>range</code>: Time range (e.g., <code>\"5d\"</code>, <code>\"1mo\"</code>)</li> </ul>"},{"location":"library/tickers/#available-methods","title":"Available Methods","text":"<ul> <li><code>.len()</code> - Number of data points</li> <li><code>.is_empty()</code> - Check if empty</li> <li><code>.price_change()</code> - Absolute price change (last - first)</li> <li><code>.percent_change()</code> - Percentage change</li> <li><code>.min_close()</code> - Minimum close price</li> <li><code>.max_close()</code> - Maximum close price</li> </ul>"},{"location":"library/tickers/#response-structure_2","title":"Response Structure","text":"<p><code>BatchSparksResponse</code> contains:</p> <ul> <li><code>sparks</code>: <code>HashMap&lt;String, Spark&gt;</code> - Successfully fetched sparks grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-dividends","title":"Batch Dividends","text":"<p>Fetch dividend history for all symbols. Dividends are filtered by the specified time range.</p> <pre><code>use finance_query::TimeRange;\n\n// Fetch dividends for all symbols\nlet response = tickers.dividends(TimeRange::OneYear).await?;\n\n// Process successful dividends\nfor (symbol, dividends) in &amp;response.dividends {\n    println!(\"{}: {} dividends\", symbol, dividends.len());\n    for div in dividends {\n        println!(\"  Timestamp: {}, Amount: ${:.2}\", div.timestamp, div.amount);\n    }\n}\n\n// Handle errors\nfor (symbol, error) in &amp;response.errors {\n    eprintln!(\"Failed to fetch dividends for {}: {}\", symbol, error);\n}\n</code></pre>"},{"location":"library/tickers/#response-structure_3","title":"Response Structure","text":"<p><code>BatchDividendsResponse</code> contains:</p> <ul> <li><code>dividends</code>: <code>HashMap&lt;String, Vec&lt;Dividend&gt;&gt;</code> - Dividend history grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-splits","title":"Batch Splits","text":"<p>Fetch stock split history for all symbols. Particularly useful for tracking symbols like NVDA, TSLA, and AAPL which have had recent splits.</p> <pre><code>use finance_query::TimeRange;\n\n// Fetch splits for symbols known to have splits\nlet tickers = Tickers::new(vec![\"NVDA\", \"TSLA\", \"AAPL\"]).await?;\nlet response = tickers.splits(TimeRange::FiveYears).await?;\n\n// Process splits\nfor (symbol, splits) in &amp;response.splits {\n    if !splits.is_empty() {\n        println!(\"{}: {} splits\", symbol, splits.len());\n        for split in splits {\n            println!(\"  Timestamp: {}, Ratio: {}\", split.timestamp, split.ratio);\n        }\n    }\n}\n</code></pre>"},{"location":"library/tickers/#response-structure_4","title":"Response Structure","text":"<p><code>BatchSplitsResponse</code> contains:</p> <ul> <li><code>splits</code>: <code>HashMap&lt;String, Vec&lt;Split&gt;&gt;</code> - Split history grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-capital-gains","title":"Batch Capital Gains","text":"<p>Fetch capital gains distribution history for all symbols. This is primarily used for mutual funds and ETFs.</p> <pre><code>use finance_query::TimeRange;\n\n// Fetch capital gains for ETFs\nlet etfs = Tickers::new(vec![\"SPY\", \"VOO\", \"VTI\"]).await?;\nlet response = etfs.capital_gains(TimeRange::TwoYears).await?;\n\n// Process capital gains\nfor (symbol, gains) in &amp;response.capital_gains {\n    if !gains.is_empty() {\n        println!(\"{}: {} capital gains distributions\", symbol, gains.len());\n        for gain in gains {\n            println!(\"  Timestamp: {}, Amount: ${:.2}\", gain.timestamp, gain.amount);\n        }\n    }\n}\n</code></pre>"},{"location":"library/tickers/#response-structure_5","title":"Response Structure","text":"<p><code>BatchCapitalGainsResponse</code> contains:</p> <ul> <li><code>capital_gains</code>: <code>HashMap&lt;String, Vec&lt;CapitalGain&gt;&gt;</code> - Capital gains grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-financials","title":"Batch Financials","text":"<p>Fetch financial statements for all symbols concurrently.</p> <pre><code>use finance_query::{StatementType, Frequency};\n\n// Fetch quarterly income statements\nlet response = tickers.financials(StatementType::Income, Frequency::Quarterly).await?;\n\n// Process financial statements\nfor (symbol, statement) in &amp;response.financials {\n    println!(\"{}: {} metrics\", symbol, statement.statement.len());\n\n    // Access specific metrics\n    if let Some(revenue_data) = statement.statement.get(\"TotalRevenue\") {\n        println!(\"  Revenue data points: {}\", revenue_data.len());\n\n        // Get most recent revenue\n        if let Some((date, value)) = revenue_data.iter().next() {\n            println!(\"  Latest Revenue ({}): ${}\", date, value);\n        }\n    }\n\n    if let Some(income_data) = statement.statement.get(\"NetIncome\") {\n        if let Some((date, value)) = income_data.iter().next() {\n            println!(\"  Latest Net Income ({}): ${}\", date, value);\n        }\n    }\n}\n</code></pre>"},{"location":"library/tickers/#statement-types","title":"Statement Types","text":"<ul> <li><code>StatementType::Income</code> - Income statements (revenue, expenses, net income)</li> <li><code>StatementType::Balance</code> - Balance sheets (assets, liabilities, equity)</li> <li><code>StatementType::CashFlow</code> - Cash flow statements (operating, investing, financing)</li> </ul>"},{"location":"library/tickers/#response-structure_6","title":"Response Structure","text":"<p><code>BatchFinancialsResponse</code> contains:</p> <ul> <li><code>financials</code>: <code>HashMap&lt;String, FinancialStatement&gt;</code> - Financial statements grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-news","title":"Batch News","text":"<p>Fetch recent news articles for all symbols concurrently.</p> <pre><code>// Fetch news for all symbols\nlet response = tickers.news().await?;\n\n// Process news\nfor (symbol, articles) in &amp;response.news {\n    println!(\"{}: {} news articles\", symbol, articles.len());\n    for article in articles.iter().take(3) {\n        println!(\"  Title: {}\", article.title);\n        println!(\"  Source: {}\", article.source);\n        println!(\"  Link: {}\", article.link);\n    }\n}\n</code></pre>"},{"location":"library/tickers/#response-structure_7","title":"Response Structure","text":"<p><code>BatchNewsResponse</code> contains:</p> <ul> <li><code>news</code>: <code>HashMap&lt;String, Vec&lt;News&gt;&gt;</code> - News articles grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-recommendations","title":"Batch Recommendations","text":"<p>Fetch similar stock recommendations for all symbols concurrently.</p> <pre><code>// Fetch recommendations with limit\nlet response = tickers.recommendations(5).await?;\n\n// Process recommendations\nfor (symbol, rec) in &amp;response.recommendations {\n    println!(\"{}: {} recommendations\", symbol, rec.recommendations.len());\n    for r in &amp;rec.recommendations {\n        println!(\"  {} ({})\", r.symbol, r.score);\n    }\n}\n</code></pre>"},{"location":"library/tickers/#response-structure_8","title":"Response Structure","text":"<p><code>BatchRecommendationsResponse</code> contains:</p> <ul> <li><code>recommendations</code>: <code>HashMap&lt;String, Recommendation&gt;</code> - Recommendations grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-options","title":"Batch Options","text":"<p>Fetch options chains for all symbols concurrently.</p> <pre><code>// Fetch options for all symbols (nearest expiration)\nlet response = tickers.options(None).await?;\n\n// Process options\nfor (symbol, options) in &amp;response.options {\n    let exp_dates = options.expiration_dates();\n    println!(\"{}: {} expirations\", symbol, exp_dates.len());\n\n    // Show calls and puts count for nearest expiration\n    let calls = options.calls();\n    let puts = options.puts();\n    println!(\"  Calls: {} contracts\", calls.len());\n    println!(\"  Puts: {} contracts\", puts.len());\n}\n\n// Fetch for specific expiration date (Unix timestamp)\nlet specific_date = 1735689600; // 2025-01-01\nlet response = tickers.options(Some(specific_date)).await?;\n</code></pre>"},{"location":"library/tickers/#response-structure_9","title":"Response Structure","text":"<p><code>BatchOptionsResponse</code> contains:</p> <ul> <li><code>options</code>: <code>HashMap&lt;String, Options&gt;</code> - Options chains grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-indicators","title":"Batch Indicators","text":"<p>Feature Flag Required</p> <p>This feature requires the <code>indicators</code> feature flag to be enabled:</p> <pre><code>[dependencies]\nfinance-query = { version = \"2\", features = [\"indicators\"] }\n</code></pre> <p>Fetch technical indicators for all symbols concurrently.</p> <pre><code>#[cfg(feature = \"indicators\")]\n{\n    use finance_query::{Interval, TimeRange};\n\n    // Fetch indicators for all symbols\n    let response = tickers.indicators(Interval::OneDay, TimeRange::OneMonth).await?;\n\n    // Process indicators\n    for (symbol, indicators) in &amp;response.indicators {\n        println!(\"{} Indicators:\", symbol);\n\n        if let Some(rsi) = indicators.rsi_14 {\n            println!(\"  RSI(14): {:.2}\", rsi);\n        }\n\n        if let Some(sma) = indicators.sma_20 {\n            println!(\"  SMA(20): {:.2}\", sma);\n        }\n\n        if let Some(macd) = &amp;indicators.macd {\n            if let Some(line) = macd.macd {\n                println!(\"  MACD: {:.2}\", line);\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"library/tickers/#response-structure_10","title":"Response Structure","text":"<p><code>BatchIndicatorsResponse</code> contains:</p> <ul> <li><code>indicators</code>: <code>HashMap&lt;String, IndicatorsSummary&gt;</code> - Indicators grouped by symbol</li> <li><code>errors</code>: <code>HashMap&lt;String, String&gt;</code> - Error messages grouped by symbol</li> </ul>"},{"location":"library/tickers/#batch-response-utility-methods","title":"Batch Response Utility Methods","text":"<p>All batch response types expose three convenience methods:</p> <pre><code>let response = tickers.quotes().await?;\n\nprintln!(\"Successful: {}\", response.success_count());\nprintln!(\"Failed:     {}\", response.error_count());\n\nif !response.all_successful() {\n    for (symbol, error) in &amp;response.errors {\n        eprintln!(\"Failed to fetch {}: {}\", symbol, error);\n    }\n}\n</code></pre> Method Description <code>success_count()</code> Number of successfully fetched items <code>error_count()</code> Number of failed symbols <code>all_successful()</code> <code>true</code> if no errors occurred"},{"location":"library/tickers/#dynamic-symbol-management","title":"Dynamic Symbol Management","text":"<p>Add or remove symbols from a <code>Tickers</code> instance after creation. This is useful for managing watchlists or portfolios dynamically.</p> <pre><code>// Start with initial symbols\nlet mut tickers = Tickers::new(vec![\"AAPL\", \"MSFT\"]).await?;\nprintln!(\"Initial symbols: {:?}\", tickers.symbols());\n\n// Add more symbols\ntickers.add_symbols(&amp;[\"GOOGL\", \"TSLA\", \"NVDA\"]);\nprintln!(\"After adding: {:?}\", tickers.symbols());\n\n// Remove symbols (also clears their cached data)\ntickers.remove_symbols(&amp;[\"MSFT\", \"TSLA\"]).await;\nprintln!(\"After removing: {:?}\", tickers.symbols());\n\n// Fetch quotes for current symbols\nlet response = tickers.quotes().await?;\n// Response will only include AAPL, GOOGL, NVDA\n</code></pre> <p>Cache Clearing</p> <p>When you remove symbols using <code>remove_symbols()</code>, all cached data for those symbols is also cleared.</p>"},{"location":"library/tickers/#individual-access","title":"Individual Access","text":"<p>You can also access individual symbols from the <code>Tickers</code> instance. If the data is already cached from a batch operation, it returns immediately. If not, it triggers a batch fetch (for quotes) or single fetch (for charts).</p> <pre><code>// Get single quote (uses cache if available)\nlet aapl = tickers.quote(\"AAPL\").await?;\n\n// Get single chart (uses cache if available)\nlet msft_chart = tickers.chart(\"MSFT\", Interval::OneDay, TimeRange::OneMonth).await?;\n</code></pre>"},{"location":"library/tickers/#caching","title":"Caching","text":"<p><code>Tickers</code> caching is opt-in \u2014 by default every call fetches fresh data. Enable it with <code>.cache(Duration)</code> in the builder.</p> <pre><code>use finance_query::Tickers;\nuse std::time::Duration;\n\n// Enable a 30-second TTL on all responses\nlet tickers = Tickers::builder(vec![\"AAPL\", \"MSFT\"])\n    .cache(Duration::from_secs(30))\n    .build()\n    .await?;\n\n// First call: Network request, result cached for 30s\nlet response1 = tickers.quotes().await?;\n\n// Second call within TTL: Returns cached data (no network request)\nlet response2 = tickers.quotes().await?;\n\n// Clear all caches to force fresh data\ntickers.clear_cache().await;\nlet response3 = tickers.quotes().await?; // Network request\n\n// Or clear selectively:\ntickers.clear_quote_cache().await;   // Quotes only\ntickers.clear_chart_cache().await;   // Charts, sparks, and events\n</code></pre> Method Clears <code>clear_cache()</code> All cached data (quotes, charts, financials, news, etc.) <code>clear_quote_cache()</code> Quote data only <code>clear_chart_cache()</code> Charts, spark data, and events (dividends/splits/capital gains)"},{"location":"library/tickers/#best-practices","title":"Best Practices","text":"<p>Optimize Batch Operations</p> <ul> <li>Group symbols - Use <code>Tickers</code> whenever you need data for multiple symbols (e.g., a portfolio or watchlist)</li> <li>Handle partial failures - Always check the <code>errors</code> map in responses. One invalid symbol shouldn't fail the entire batch</li> <li>Reuse instances - Keep the <code>Tickers</code> instance alive to benefit from caching across multiple operations</li> </ul> <pre><code>// Good: Reuse Tickers instance for multiple operations\nlet tickers = Tickers::builder(vec![\"AAPL\", \"GOOGL\", \"INVALID\", \"MSFT\"]).logo().build().await?;\n\n// First operation - fetches data\nlet quotes_response = tickers.quotes().await?;\n\n// Handle partial failures - check which symbols failed\nfor (symbol, error) in &amp;quotes_response.errors {\n    println!(\"Failed to fetch {}: {}\", symbol, error);\n}\n\n// Process successful results\nfor (symbol, quote) in &amp;quotes_response.quotes {\n    let price = quote.regular_market_price.as_ref().and_then(|v| v.raw).unwrap_or(0.0);\n    println!(\"{}: ${:.2}\", symbol, price);\n}\n\n// Second operation - uses cached data (no network request)\nlet charts_response = tickers.charts(Interval::OneDay, TimeRange::OneMonth).await?;\n</code></pre>"},{"location":"library/tickers/#next-steps","title":"Next Steps","text":"<ul> <li>Ticker API - Detailed operations for single symbols (financials, options, news)</li> <li>DataFrame Support - Convert batch responses to Polars DataFrames for analysis</li> <li>Configuration - Customize regional settings and network options</li> <li>Models Reference - Understanding response types</li> </ul>"},{"location":"server/api-reference/","title":"API Reference","text":""},{"location":"server/websocket-api-reference/","title":"WebSocket API Reference","text":""}]}